import{R as e,g as V,k as Xe,h as Ue,L as Ce}from"./index-c17ab661.js";import{i as ue,c as Se,b as Ze,d as Je,f as Ee,p as Pe,e as oe,g as ge,h as ne,j as et,S as tt,A as at,k as rt,l as Re,m as nt,n as se,o as st,q as lt,G as ot,r as it,C as We,s as ct,t as he,w as je,u as Ne,v as mt,x as dt,y as ut,R as ye,L as Be,T as ve,X as Fe,Y as Le,B as gt,z as be,a as Oe}from"./generateCategoricalChart-c719c97c.js";import{a as Ke,b as ze,R as pt,P as ft,c as De}from"./RadarChart-76623cc3.js";import{B as ht}from"./BarChart-5a60b6bc.js";import{C as Te}from"./CartesianGrid-f1816e99.js";import{S as yt,Z as vt,a as bt}from"./ScatterChart-8897daca.js";var ke;function ie(l){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ie(l)}function le(){return le=Object.assign?Object.assign.bind():function(l){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(l[a]=o[a])}return l},le.apply(this,arguments)}function $e(l,r){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(l);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(l,s).enumerable})),o.push.apply(o,a)}return o}function A(l){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?$e(Object(o),!0).forEach(function(a){H(l,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):$e(Object(o)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(o,a))})}return l}function xt(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function Me(l,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(l,He(a.key),a)}}function Et(l,r,o){return r&&Me(l.prototype,r),o&&Me(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}function Nt(l,r,o){return r=we(r),kt(l,Ye()?Reflect.construct(r,o||[],we(l).constructor):r.apply(l,o))}function kt(l,r){if(r&&(ie(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wt(l)}function wt(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ye(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ye=function(){return!!l})()}function we(l){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},we(l)}function At(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),r&&_e(l,r)}function _e(l,r){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_e(l,r)}function H(l,r,o){return r=He(r),r in l?Object.defineProperty(l,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[r]=o,l}function He(l){var r=St(l,"string");return ie(r)=="symbol"?r:r+""}function St(l,r){if(ie(l)!="object"||!l)return l;var o=l[Symbol.toPrimitive];if(o!==void 0){var a=o.call(l,r||"default");if(ie(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(l)}var U=function(l){function r(o){var a;return xt(this,r),a=Nt(this,r,[o]),H(a,"pieRef",null),H(a,"sectorRefs",[]),H(a,"id",mt("recharts-pie-")),H(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),ue(s)&&s()}),H(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),ue(s)&&s()}),a.state={isAnimationFinished:!o.isAnimationActive,prevIsAnimationActive:o.isAnimationActive,prevAnimationId:o.animationId,sectorToFocus:0},a}return At(r,l),Et(r,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var u=this.props,p=u.label,w=u.labelLine,P=u.dataKey,y=u.valueKey,F=Ee(this.props,!1),L=Ee(p,!1),K=Ee(w,!1),O=p&&p.offsetRadius||20,R=a.map(function(x,$){var _=(x.startAngle+x.endAngle)/2,D=Pe(x.cx,x.cy,x.outerRadius+O,_),M=A(A(A(A({},F),x),{},{stroke:"none"},L),{},{index:$,textAnchor:r.getTextAnchor(D.x,x.cx)},D),Z=A(A(A(A({},F),x),{},{fill:"none",stroke:x.fill},K),{},{index:$,points:[Pe(x.cx,x.cy,x.outerRadius,_),D]}),f=P;return oe(P)&&oe(y)?f="value":oe(P)&&(f=y),e.createElement(ge,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat($)},w&&r.renderLabelLineItem(w,Z,"line"),r.renderLabelItem(p,M,ne(x,f)))});return e.createElement(ge,{className:"recharts-pie-labels"},R)}},{key:"renderSectorsStatically",value:function(a){var s=this,u=this.props,p=u.activeShape,w=u.blendStroke,P=u.inactiveShape;return a.map(function(y,F){if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&a.length!==1)return null;var L=s.isActiveIndex(F),K=P&&s.hasActiveIndex()?P:null,O=L?p:K,R=A(A({},y),{},{stroke:w?y.fill:y.stroke,tabIndex:-1});return e.createElement(ge,le({ref:function($){$&&!s.sectorRefs.includes($)&&s.sectorRefs.push($)},tabIndex:-1,className:"recharts-pie-sector"},et(s.props,y,F),{key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(F)}),e.createElement(tt,le({option:O,isActive:L,shapeType:"sector"},R)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,u=s.sectors,p=s.isAnimationActive,w=s.animationBegin,P=s.animationDuration,y=s.animationEasing,F=s.animationId,L=this.state,K=L.prevSectors,O=L.prevIsAnimationActive;return e.createElement(at,{begin:w,duration:P,isActive:p,easing:y,from:{t:0},to:{t:1},key:"pie-".concat(F,"-").concat(O),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(R){var x=R.t,$=[],_=u&&u[0],D=_.startAngle;return u.forEach(function(M,Z){var f=K&&K[Z],G=Z>0?rt(M,"paddingAngle",0):0;if(f){var J=Re(f.endAngle-f.startAngle,M.endAngle-M.startAngle),W=A(A({},M),{},{startAngle:D+G,endAngle:D+J(x)+G});$.push(W),D=W.endAngle}else{var ee=M.endAngle,z=M.startAngle,ae=Re(0,ee-z),re=ae(x),Y=A(A({},M),{},{startAngle:D+G,endAngle:D+re+G});$.push(Y),D=Y.endAngle}}),e.createElement(ge,null,a.renderSectorsStatically($))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(u){if(!u.altKey)switch(u.key){case"ArrowLeft":{var p=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[p].focus(),s.setState({sectorToFocus:p});break}case"ArrowRight":{var w=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[w].focus(),s.setState({sectorToFocus:w});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,u=a.isAnimationActive,p=this.state.prevSectors;return u&&s&&s.length&&(!p||!nt(p,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,u=s.hide,p=s.sectors,w=s.className,P=s.label,y=s.cx,F=s.cy,L=s.innerRadius,K=s.outerRadius,O=s.isAnimationActive,R=this.state.isAnimationFinished;if(u||!p||!p.length||!se(y)||!se(F)||!se(L)||!se(K))return null;var x=Se("recharts-pie",w);return e.createElement(ge,{tabIndex:this.props.rootTabIndex,className:x,ref:function(_){a.pieRef=_}},this.renderSectors(),P&&this.renderLabels(p),st.renderCallByParent(this.props,null,!1),(!O||R)&&lt.renderCallByParent(this.props,p,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,u){if(e.isValidElement(a))return e.cloneElement(a,s);if(ue(a))return a(s);var p=Se("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return e.createElement(Ze,le({},s,{key:u,type:"linear",className:p}))}},{key:"renderLabelItem",value:function(a,s,u){if(e.isValidElement(a))return e.cloneElement(a,s);var p=u;if(ue(a)&&(p=a(s),e.isValidElement(p)))return p;var w=Se("recharts-pie-label-text",typeof a!="boolean"&&!ue(a)?a.className:"");return e.createElement(Je,le({},s,{alignmentBaseline:"middle",className:w}),p)}}])}(V.PureComponent);ke=U;H(U,"displayName","Pie");H(U,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ot.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});H(U,"parseDeltaAngle",function(l,r){var o=Ne(r-l),a=Math.min(Math.abs(r-l),360);return o*a});H(U,"getRealPieData",function(l){var r=l.data,o=l.children,a=Ee(l,!1),s=it(o,We);return r&&r.length?r.map(function(u,p){return A(A(A({payload:u},a),u),s&&s[p]&&s[p].props)}):s&&s.length?s.map(function(u){return A(A({},a),u.props)}):[]});H(U,"parseCoordinateOfPie",function(l,r){var o=r.top,a=r.left,s=r.width,u=r.height,p=ct(s,u),w=a+he(l.cx,s,s/2),P=o+he(l.cy,u,u/2),y=he(l.innerRadius,p,0),F=he(l.outerRadius,p,p*.8),L=l.maxRadius||Math.sqrt(s*s+u*u)/2;return{cx:w,cy:P,innerRadius:y,outerRadius:F,maxRadius:L}});H(U,"getComposedData",function(l){var r=l.item,o=l.offset,a=r.type.defaultProps!==void 0?A(A({},r.type.defaultProps),r.props):r.props,s=ke.getRealPieData(a);if(!s||!s.length)return null;var u=a.cornerRadius,p=a.startAngle,w=a.endAngle,P=a.paddingAngle,y=a.dataKey,F=a.nameKey,L=a.valueKey,K=a.tooltipType,O=Math.abs(a.minAngle),R=ke.parseCoordinateOfPie(a,o),x=ke.parseDeltaAngle(p,w),$=Math.abs(x),_=y;oe(y)&&oe(L)?(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):oe(y)&&(je(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=L);var D=s.filter(function(W){return ne(W,_,0)!==0}).length,M=($>=360?D:D-1)*P,Z=$-D*O-M,f=s.reduce(function(W,ee){var z=ne(ee,_,0);return W+(se(z)?z:0)},0),G;if(f>0){var J;G=s.map(function(W,ee){var z=ne(W,_,0),ae=ne(W,F,ee),re=(se(z)?z:0)/f,Y;ee?Y=J.endAngle+Ne(x)*P*(z!==0?1:0):Y=p;var te=Y+Ne(x)*((z!==0?O:0)+re*Z),ce=(Y+te)/2,me=(R.innerRadius+R.outerRadius)/2,Ae=[{name:ae,value:z,payload:W,dataKey:_,type:K}],de=Pe(R.cx,R.cy,me,ce);return J=A(A(A({percent:re,cornerRadius:u,name:ae,tooltipPayload:Ae,midAngle:ce,middleRadius:me,tooltipPosition:de},W),R),{},{value:ne(W,_),startAngle:Y,endAngle:te,payload:W,paddingAngle:Ne(x)*P}),J})}return A(A({},R),{},{sectors:G,data:s})});var Pt=dt({chartName:"PieChart",GraphicalChild:U,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ke},{axisType:"radiusAxis",AxisComp:ze}],formatAxisMap:ut,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const B={QB:{primaryStats:[{key:"passing_yards",label:"Passing Yards"},{key:"passing_tds",label:"Passing TDs"},{key:"completion_percentage",label:"Completion %"},{key:"interceptions",label:"Interceptions"}],secondaryStats:[{key:"passer_rating",label:"Passer Rating"},{key:"qbr",label:"QBR"},{key:"epa_per_play",label:"EPA/Play"},{key:"cpoe",label:"CPOE"},{key:"any_a",label:"ANY/A"}],color:"#4299E1"},RB:{primaryStats:[{key:"rushing_yards",label:"Rushing Yards"},{key:"rushing_tds",label:"Rushing TDs"},{key:"yards_per_carry",label:"Yds/Carry"},{key:"carries",label:"Carries"}],secondaryStats:[{key:"epa_per_rush",label:"EPA/Rush"},{key:"rush_yards_oe_per_att",label:"Yards Over Expected/Att"},{key:"rush_pct_over_expected",label:"Rush % Over Expected"},{key:"percent_attempts_gte_eight_defenders",label:"% vs 8+ Defenders"}],color:"#48BB78"},WR:{primaryStats:[{key:"receiving_yards",label:"Receiving Yards"},{key:"receptions",label:"Receptions"},{key:"receiving_tds",label:"Receiving TDs"},{key:"yards_per_target",label:"Yards/Target"}],secondaryStats:[{key:"efficiency",label:"Efficiency"},{key:"racr",label:"RACR"},{key:"wopr",label:"WOPR"},{key:"yac_oe",label:"YAC Over Expected"},{key:"avg_separation",label:"Avg Separation"}],color:"#F6AD55"},TE:{primaryStats:[{key:"receiving_yards",label:"Receiving Yards"},{key:"receptions",label:"Receptions"},{key:"receiving_tds",label:"Receiving TDs"},{key:"yards_per_target",label:"Yards/Target"}],secondaryStats:[{key:"efficiency",label:"Efficiency"},{key:"racr",label:"RACR"},{key:"wopr",label:"WOPR"},{key:"yac_oe",label:"YAC Over Expected"}],color:"#9F7AEA"}},Ie=["#4299E1","#48BB78","#F6AD55","#FC8181","#B794F4","#90CDF4"],pe=(l,r)=>{if(!r||!r.length||l===null||l===void 0)return 0;const o=r.filter(u=>u!=null);if(!o.length)return 0;const a=[...o].sort((u,p)=>u-p),s=a.findIndex(u=>u>=l);return Math.round(s/a.length*100)},_t=(l,r=!1)=>{const o=r?100-l:l;return o>=90?"text-emerald-500 bg-emerald-900/50":o>=80?"text-emerald-400 bg-emerald-900/50":o>=70?"text-green-400 bg-green-900/50":o>=60?"text-lime-400 bg-lime-900/50":o>=50?"text-amber-300 bg-amber-900/50":o>=40?"text-amber-400 bg-amber-900/50":o>=30?"text-orange-400 bg-orange-900/50":o>=20?"text-orange-500 bg-orange-900/50":o>=10?"text-orange-600 bg-orange-900/50":"text-red-500 bg-red-900/50"},xe=(l,r=!1)=>{const o=r?100-l:l;return o>=90?"from-emerald-500 to-emerald-600":o>=80?"from-emerald-400 to-emerald-500":o>=70?"from-green-400 to-green-500":o>=60?"from-lime-400 to-lime-500":o>=50?"from-amber-300 to-amber-400":o>=40?"from-amber-400 to-amber-500":o>=30?"from-orange-400 to-orange-500":o>=20?"from-orange-500 to-orange-600":o>=10?"from-orange-600 to-orange-700":"from-red-500 to-red-600"},C=l=>["QB"].includes(l)?"QB":["RB","FB","HB"].includes(l)?"RB":["WR"].includes(l)?"WR":["TE"].includes(l)?"TE":null,Ve={QB:1,RB:2,WR:3,TE:4},Ct=l=>[...l].sort((r,o)=>{const a=C(r.position),s=C(o.position),u=Ve[a]||99,p=Ve[s]||99;if(u!==p)return u-p;let w=0,P=0,y=null;if(a==="QB"?y="passing_yards":a==="RB"?y="rushing_yards":(a==="WR"||a==="TE")&&(y="receiving_yards"),y&&(w=parseFloat(r[y])||0,P=parseFloat(o[y])||0,w!==P))return P-w;const F=r.name||"",L=o.name||"";return F.localeCompare(L)}),Q=l=>{var o;const r=C(l);return r?(o=B[r])==null?void 0:o.color:"#718096"},Dt=()=>{const{abbr:l}=Xe(),[r,o]=V.useState([]),[a,s]=V.useState([]),[u,p]=V.useState([]),[w,P]=V.useState(""),[y,F]=V.useState(!0),[L,K]=V.useState(null),[O,R]=V.useState("cards"),[x,$]=V.useState(""),[_,D]=V.useState("desc"),[M,Z]=V.useState("All"),[f,G]=V.useState([]),[J,W]=V.useState("primary"),[ee,z]=V.useState({});V.useEffect(()=>{Ue.get("http://localhost:5000/api/players").then(t=>{const i=t.data.filter(c=>{var m;return((m=c.team)==null?void 0:m.toUpperCase())===l.toUpperCase()}),n=Ct(i);o(n),s(n),p(t.data),F(!1),i.length===0&&console.warn(`⚠️ No players found for team "${l}"`)}).catch(t=>{console.error("Failed to fetch players:",t.message),K("Could not load players"),F(!1)})},[l]),V.useEffect(()=>{let t=[...r];M!=="All"&&(t=t.filter(i=>C(i.position)===M)),w&&(t=t.filter(i=>{var n;return(n=i.name)==null?void 0:n.toLowerCase().includes(w.toLowerCase())})),x&&(t=t.sort((i,n)=>{let c=i[x]||0,m=n[x]||0;return c=isNaN(parseFloat(c))?c:parseFloat(c),m=isNaN(parseFloat(m))?m:parseFloat(m),typeof c=="number"&&typeof m=="number"?_==="asc"?c-m:m-c:0})),s(t)},[r,w,M,x,_]);const ae=t=>{P(t.target.value)},re=t=>{x===t?D(_==="asc"?"desc":"asc"):($(t),D("desc"))},Y=t=>{Z(t)},te=t=>{f.find(i=>i.gsis_id===t.gsis_id)?G(f.filter(i=>i.gsis_id!==t.gsis_id)):f.length<3&&G([...f,t])},ce=t=>{var c,m;const i=C(t.position);return i?(J==="primary"?(c=B[i])==null?void 0:c.primaryStats:(m=B[i])==null?void 0:m.secondaryStats)||[]:[]},me=()=>{const t={};return r.forEach(i=>{const n=i.position;t[n]=(t[n]||0)+1}),Object.entries(t).map(([i,n])=>({name:i,value:n}))},Ae=()=>{if(f.length===0)return[];const t=C(f[0].position);return!t||f.some(n=>C(n.position)!==t)?[{key:"epa_per_play",label:"EPA/Play"},{key:"efficiency",label:"Efficiency"}].map(n=>{const c={metric:n.label},m=u.filter(d=>d[n.key]!==null&&d[n.key]!==void 0).map(d=>parseFloat(d[n.key])||0),b=Math.max(...m),g=Math.min(...m);return c.leagueAvg=50,f.forEach((d,v)=>{const h=parseFloat(d[n.key])||0;c[`player${v}`]=b>g?(h-g)/(b-g)*100:50,c[`player${v}Name`]=d.name}),c}):(J==="primary"?B[t].primaryStats:B[t].secondaryStats).map(n=>{const c={metric:n.label},b=u.filter(h=>C(h.position)===t).filter(h=>h[n.key]!==null&&h[n.key]!==void 0).map(h=>parseFloat(h[n.key])||0),g=Math.max(...b),d=Math.min(...b),v=n.key==="interceptions";return c.leagueAvg=50,f.forEach((h,N)=>{let k=parseFloat(h[n.key])||0;v?c[`player${N}`]=g>d?100-(k-d)/(g-d)*100:50:c[`player${N}`]=g>d?(k-d)/(g-d)*100:50,c[`player${N}Name`]=h.name}),c})},de=()=>{const t={};return a.forEach(i=>{const n=C(i.position);n&&(t[n]||(t[n]=[]),t[n].push(i))}),Object.entries(t).flatMap(([i,n])=>{const c=B[i];if(!c)return[];const m=c.primaryStats[0].key,b=c.primaryStats[1].key;return n.map(g=>({x:parseFloat(g[m])||0,y:parseFloat(g[b])||0,z:50,name:g.name,position:g.position,group:i,color:c.color,player:g}))})},Ge=t=>{z(i=>({...i,[t]:!i[t]}))};return y?e.createElement("p",{className:"p-6"},"Loading players..."):L?e.createElement("p",{className:"text-red-500 p-6"},L):e.createElement("div",{className:"p-6 max-w-7xl mx-auto"},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("h2",{className:"text-3xl font-bold"},l," Players"),e.createElement(Ce,{to:"/",className:"text-blue-400 underline"},"← Back to Teams")),e.createElement("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4"},e.createElement("div",{className:"flex space-x-2"},e.createElement("button",{onClick:()=>R("cards"),className:`px-3 py-1 rounded ${O==="cards"?"bg-blue-600":"bg-gray-700"}`},"Player Cards"),e.createElement("button",{onClick:()=>R("stats"),className:`px-3 py-1 rounded ${O==="stats"?"bg-blue-600":"bg-gray-700"}`},"Position Stats"),e.createElement("button",{onClick:()=>R("matrix"),className:`px-3 py-1 rounded ${O==="matrix"?"bg-blue-600":"bg-gray-700"}`},"Player Matrix"),e.createElement("button",{onClick:()=>R("comparison"),className:`px-3 py-1 rounded ${O==="comparison"?"bg-blue-600":"bg-gray-700"}`},"Comparison (",f.length,"/3)"))),e.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},e.createElement("input",{type:"text",placeholder:"Search players by name...",value:w,onChange:ae,className:"p-2 rounded bg-gray-700 text-white w-full sm:w-1/2"}),e.createElement("div",{className:"flex space-x-2"},e.createElement("select",{className:"p-2 rounded bg-gray-700 text-white",value:M,onChange:t=>Y(t.target.value)},e.createElement("option",{value:"All"},"All Positions"),e.createElement("option",{value:"QB"},"Quarterbacks"),e.createElement("option",{value:"RB"},"Running Backs"),e.createElement("option",{value:"WR"},"Wide Receivers"),e.createElement("option",{value:"TE"},"Tight Ends")),e.createElement("select",{className:"p-2 rounded bg-gray-700 text-white",onChange:t=>re(t.target.value)},e.createElement("option",{value:""},"Sort by..."),e.createElement("option",{value:"passing_yards"},"Passing Yards"),e.createElement("option",{value:"rushing_yards"},"Rushing Yards"),e.createElement("option",{value:"receiving_yards"},"Receiving Yards"),e.createElement("option",{value:"epa_per_play"},"EPA per Play")),e.createElement("button",{onClick:()=>D(_==="asc"?"desc":"asc"),className:"p-2 bg-gray-700 rounded",title:_==="asc"?"Ascending":"Descending"},_==="asc"?"↑":"↓"))),O==="comparison"&&e.createElement("div",{className:"bg-gray-800 p-6 rounded-lg mb-8"},e.createElement("h3",{className:"text-xl font-semibold mb-4"},"Player Comparison"),f.length===0?e.createElement("p",{className:"text-gray-400"},"Select up to 3 players to compare using the toggle button on player cards."):e.createElement(e.Fragment,null,e.createElement("div",{className:"flex mb-6 space-x-8 justify-center"},f.map(t=>e.createElement("div",{key:t.gsis_id,className:"flex flex-col items-center"},e.createElement("div",{className:"relative"},t.headshot_url?e.createElement("img",{src:t.headshot_url,alt:t.name,className:"w-20 h-20 rounded-full object-cover",onError:i=>{i.target.onerror=null,i.target.src="https://via.placeholder.com/150?text=No+Image"}}):e.createElement("div",{className:"w-20 h-20 rounded-full bg-gray-600 flex items-center justify-center"},e.createElement("span",{className:"text-gray-300 text-xl"},t.name.split(" ").map(i=>i[0]).join(""))),e.createElement("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{backgroundColor:Q(t.position)}},t.position)),e.createElement("p",{className:"font-semibold mt-2"},t.name),e.createElement("button",{onClick:()=>te(t),className:"text-xs text-red-400 mt-1"},"Remove")))),f.length>=2&&e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full h-96 mb-6"},e.createElement(ye,{width:"100%",height:"100%"},e.createElement(pt,{outerRadius:150,data:Ae()},e.createElement(ft,null),e.createElement(Ke,{dataKey:"metric",tick:{fill:"white"}}),e.createElement(ze,{angle:30,domain:[0,100],tick:{fill:"white"}}),e.createElement(De,{name:"League Average",dataKey:"leagueAvg",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.2}),f.map((t,i)=>e.createElement(De,{key:t.gsis_id,name:t.name,dataKey:`player${i}`,stroke:Q(t.position),fill:Q(t.position),fillOpacity:.5})),e.createElement(Be,{verticalAlign:"bottom",wrapperStyle:{paddingTop:"20px"}}),e.createElement(ve,null)))),e.createElement("div",{className:"overflow-x-auto mb-6"},e.createElement("div",{className:"mb-3 text-sm text-gray-400"},e.createElement("span",{className:"inline-block w-3 h-3 bg-green-500 mr-1 rounded-sm"})," Above Average",e.createElement("span",{className:"inline-block ml-4 w-3 h-3 bg-red-500 mr-1 rounded-sm"})," Below Average",e.createElement("span",{className:"inline-block ml-4 text-xs"},"Numbers in parentheses show percentile rank")),e.createElement("table",{className:"w-full text-sm text-left"},e.createElement("thead",{className:"text-xs text-gray-400 uppercase bg-gray-700"},e.createElement("tr",null,e.createElement("th",{className:"px-4 py-3"},"Stat"),e.createElement("th",{className:"px-4 py-3"},"League Avg"),f.map(t=>e.createElement("th",{key:t.gsis_id,className:"px-4 py-3"},t.name)))),e.createElement("tbody",null,ce(f[0]).map(t=>{const i=C(f[0].position),c=u.filter(g=>C(g.position)===i).filter(g=>g[t.key]!=null).map(g=>parseFloat(g[t.key])||0),m=c.length?c.reduce((g,d)=>g+d,0)/c.length:0,b=t.key==="interceptions";return e.createElement("tr",{key:t.key,className:"border-b border-gray-700"},e.createElement("td",{className:"px-4 py-3 font-medium"},t.label),e.createElement("td",{className:"px-4 py-3 text-gray-400"},["rushing_yards","rushing_tds","carries","passing_yards","passing_tds","interceptions","receiving_yards","receiving_tds","receptions"].includes(t.key)?parseInt(m):m.toFixed(1)),f.map(g=>{const d=parseFloat(g[t.key])||0,v=pe(d,c),h=b?d<m:d>m,N=b?d>m:d<m,k=h?"text-green-400":N?"text-red-400":"",S=["rushing_yards","rushing_tds","carries","passing_yards","passing_tds","interceptions","receiving_yards","receiving_tds","receptions"].includes(t.key)?g[t.key]!=null?parseInt(g[t.key]):"-":g[t.key]!=null?g[t.key]:"-";return e.createElement("td",{key:g.gsis_id,className:`px-4 py-3 ${k}`},e.createElement("div",{className:"flex justify-between"},e.createElement("span",null,S),e.createElement("span",{className:"text-xs text-gray-400"},"(",v,"%)")),e.createElement("div",{className:"w-full bg-gray-700 h-1 mt-1 rounded-full"},e.createElement("div",{className:`h-1 rounded-full bg-gradient-to-r ${xe(v,b)}`,style:{width:`${v}%`}})))}))})))),f.length===2&&e.createElement("div",{className:"bg-gray-700 p-4 rounded"},e.createElement("h4",{className:"text-lg font-medium mb-3"},"Head-to-Head Analysis"),e.createElement("div",{className:"space-y-4"},ce(f[0]).map(t=>{const i=parseFloat(f[0][t.key])||0,n=parseFloat(f[1][t.key])||0,c=t.key==="interceptions";let m=i-n,b=c?m<0:m>0;const g=Math.max(Math.abs(i),Math.abs(n),1),d=Math.abs(m)/g*100;return e.createElement("div",{key:t.key},e.createElement("div",{className:"flex justify-between mb-1"},e.createElement("span",{className:"font-medium"},t.label),e.createElement("span",{className:"text-sm"},Math.abs(m).toFixed(1)," ",c?"fewer":"more"," ","(",d.toFixed(0),"% ",b?"advantage":"deficit",")")),e.createElement("div",{className:"w-full bg-gray-600 h-2 rounded-full overflow-hidden"},e.createElement("div",{className:`h-full ${b?"bg-green-500":"bg-red-500"}`,style:{width:`${d>100?100:d}%`,marginLeft:b?"50%":`${50-(d>100?100:d)}%`}})),e.createElement("div",{className:"flex justify-between text-xs mt-1 text-gray-400"},e.createElement("span",null,f[1].name),e.createElement("span",null,f[0].name)))})))))),O==="stats"&&e.createElement("div",{className:"bg-gray-800 p-6 rounded-xl shadow-lg mb-8"},e.createElement("div",{className:"flex items-center justify-between mb-6"},e.createElement("h3",{className:"text-xl font-semibold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent"},"Position Analysis")),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},e.createElement("div",{className:"bg-gray-850 p-5 rounded-xl border border-gray-700/50 shadow-md"},e.createElement("h4",{className:"text-lg font-medium mb-4 text-gray-200 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})),"Roster Composition"),e.createElement("div",{className:"h-72"},e.createElement(ye,{width:"100%",height:"100%"},e.createElement(Pt,null,e.createElement(U,{data:me(),cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,fill:"#8884d8",dataKey:"value",nameKey:"name",paddingAngle:2,label:({name:t,percent:i})=>`${t}: ${(i*100).toFixed(0)}%`,labelLine:!1},me().map((t,i)=>e.createElement(We,{key:`cell-${i}`,fill:Q(t.name)||Ie[i%Ie.length],stroke:"rgba(0,0,0,0.2)",strokeWidth:1}))),e.createElement(ve,{formatter:(t,i)=>[`${t} Players`,`${i}`],contentStyle:{backgroundColor:"#1e293b",borderRadius:"8px",border:"1px solid #475569",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}})))),e.createElement("div",{className:"flex flex-wrap justify-center gap-3 mt-2"},Object.entries(B).map(([t,i])=>{const n=r.filter(c=>C(c.position)===t).length;return e.createElement("div",{key:t,className:"flex items-center",title:`${t}: ${n} players`},e.createElement("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:Q(t)}}),e.createElement("span",{className:"text-xs text-gray-300"},t))}))),e.createElement("div",{className:"bg-gray-850 p-5 rounded-xl border border-gray-700/50 shadow-md"},e.createElement("h4",{className:"text-lg font-medium mb-4 text-gray-200 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})),"Position Overview"),e.createElement("div",{className:"space-y-4"},Object.entries(B).map(([t,i])=>{var d,v,h,N;const n=r.filter(k=>C(k.position)===t);if(n.length===0)return null;const c=(v=(d=i.primaryStats)==null?void 0:d[0])==null?void 0:v.key,m=[...n].sort((k,S)=>(parseFloat(S[c])||0)-(parseFloat(k[c])||0)),b=n.map(k=>parseFloat(k[c])||null).filter(k=>k!==null),g=b.length?b.reduce((k,S)=>k+S,0)/b.length:0;return e.createElement("div",{key:t,className:"bg-gray-800 p-4 rounded-lg border border-gray-700/50 hover:border-gray-600 transition-colors shadow-sm hover:shadow",style:{borderLeftWidth:"3px",borderLeftColor:Q(t)}},e.createElement("div",{className:"flex items-center justify-between mb-3"},e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"font-medium text-gray-200"},t),e.createElement("span",{className:"ml-2 bg-gray-700 px-2 py-0.5 rounded-full text-xs text-gray-300"},n.length," players")),e.createElement("button",{onClick:()=>Y(t),className:"text-xs text-blue-400 hover:text-blue-300"},"View All →")),e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement("div",null,e.createElement("div",{className:"text-xs text-gray-400 mb-1"},"Top Player"),e.createElement("div",{className:"flex items-center"},m.length>0&&e.createElement(e.Fragment,null,e.createElement("div",{className:"w-6 h-6 rounded-full bg-gray-700 mr-2 flex items-center justify-center overflow-hidden",title:m[0].name},m[0].headshot_url?e.createElement("img",{src:m[0].headshot_url,alt:m[0].name,className:"w-full h-full object-cover",onError:k=>{k.target.onerror=null,k.target.src=`https://via.placeholder.com/60?text=${m[0].name.split(" ")[0][0]}`}}):m[0].name.split(" ")[0][0]),e.createElement("span",{className:"text-sm text-gray-200"},m[0].name)))),e.createElement("div",null,e.createElement("div",{className:"text-xs text-gray-400 mb-1"},"Avg. ",((N=(h=i.primaryStats)==null?void 0:h[0])==null?void 0:N.label)||"Stat"),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-base font-medium text-gray-200"},g.toFixed(c!=null&&c.includes("percentage")||c!=null&&c.includes("rate")?1:0)),m.length>0&&e.createElement("span",{className:"text-xs text-gray-400 ml-2"},"(Best: ",parseFloat(m[0][c]||0).toFixed(c!=null&&c.includes("percentage")||c!=null&&c.includes("rate")?1:0),")")))))})))),e.createElement("h4",{className:"text-lg font-medium mb-4 text-gray-200 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})),"Top Performers by Position"),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Object.entries(B).map(([t,i])=>{const n=a.filter(d=>C(d.position)===t);if(n.length===0)return null;const c=i.primaryStats;if(!c||c.length===0)return null;const m=c[0],g=[...n].sort((d,v)=>(parseFloat(v[m.key])||0)-(parseFloat(d[m.key])||0)).slice(0,5).map(d=>({name:d.name.split(" ").pop()||d.name,fullName:d.name,value:parseFloat(d[m.key])||0,jersey:d.jersey_number||"",headshot:d.headshot_url}));return e.createElement("div",{key:t,className:"bg-gray-850 p-5 rounded-xl border border-gray-700/50 shadow-md"},e.createElement("h4",{className:"text-base font-medium mb-3 text-gray-200 flex justify-between items-center"},e.createElement("div",null,e.createElement("span",{className:"inline-block w-3 h-3 rounded-full mr-2",style:{backgroundColor:Q(t)}}),"Top ",t,"s by ",m.label),e.createElement("span",{className:"text-xs text-gray-400"},n.length," total")),e.createElement("div",{className:"h-80"},e.createElement(ye,{width:"100%",height:"100%"},e.createElement(ht,{data:g,layout:"vertical",margin:{top:5,right:30,bottom:20,left:60}},e.createElement(Te,{strokeDasharray:"3 3",horizontal:!0,stroke:"#374151"}),e.createElement(Fe,{type:"number",tick:{fill:"#D1D5DB"},axisLine:{stroke:"#4B5563"},tickLine:{stroke:"#4B5563"}}),e.createElement(Le,{dataKey:"name",type:"category",tick:{fill:"#D1D5DB"},width:60,axisLine:{stroke:"#4B5563"},tickLine:{stroke:"#4B5563"}}),e.createElement(ve,{content:({active:d,payload:v})=>{if(d&&v&&v.length){const h=v[0].payload;return e.createElement("div",{className:"bg-gray-800 p-3 border border-gray-700 rounded-lg shadow-lg"},e.createElement("p",{className:"font-medium text-gray-200"},h.fullName),e.createElement("div",{className:"flex items-center mt-1"},e.createElement("span",{className:"text-blue-400 font-medium"},m.label,":"),e.createElement("span",{className:"ml-1 text-gray-300"},h.value)),h.jersey&&e.createElement("div",{className:"mt-1 text-xs text-gray-400"},"Jersey: #",h.jersey))}return null}}),e.createElement(gt,{dataKey:"value",fill:Q(t),fillOpacity:.8,stroke:Q(t),strokeWidth:1,strokeOpacity:1,radius:[0,4,4,0]})))))}))),O==="matrix"&&e.createElement("div",{className:"bg-gray-800 p-6 rounded-xl shadow-lg mb-8"},e.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start mb-6"},e.createElement("div",null,e.createElement("h3",{className:"text-xl font-semibold bg-gradient-to-r from-blue-400 to-indigo-500 bg-clip-text text-transparent mb-2"},"Player Performance Matrix"),e.createElement("p",{className:"text-sm text-gray-400 max-w-2xl"},"This visualization maps players based on their primary and secondary metrics. Identify standout performers, compare players, and discover hidden gems by exploring each quadrant.")),e.createElement("div",{className:"mt-4 md:mt-0"},e.createElement("select",{className:"p-2 rounded bg-gray-700 text-white border border-gray-600 text-sm",onChange:t=>Y(t.target.value),value:M},e.createElement("option",{value:"All"},"All Positions"),e.createElement("option",{value:"QB"},"Quarterbacks"),e.createElement("option",{value:"RB"},"Running Backs"),e.createElement("option",{value:"WR"},"Wide Receivers"),e.createElement("option",{value:"TE"},"Tight Ends")))),e.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6"},e.createElement("div",{className:"lg:col-span-3 bg-gray-700 p-4 rounded-lg"},e.createElement("h4",{className:"text-base font-medium text-gray-300 mb-2 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})),"Matrix Analysis"),e.createElement("p",{className:"text-xs text-gray-400 mb-2"},"Players are plotted on two primary performance metrics, with position indicated by color. Each quadrant represents a performance profile, with the top-right containing players exceeding position averages in both metrics."),e.createElement("p",{className:"text-xs text-gray-400"},e.createElement("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-500 mr-1 align-middle"})," Click on dots to add players to your comparison.",e.createElement("span",{className:"inline-block ml-3 text-xs"},e.createElement("span",{className:"text-blue-400"},"Selected")," players have rings around them."))),e.createElement("div",{className:"bg-gray-700 p-4 rounded-lg"},e.createElement("h4",{className:"text-base font-medium text-gray-300 mb-2 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})),"Quadrant Legend"),e.createElement("div",{className:"grid grid-cols-1 gap-2 mt-2 text-xs"},e.createElement("div",{className:"flex items-center p-1.5 bg-emerald-900/40 rounded-md border border-emerald-900/60"},e.createElement("div",{className:"w-3 h-3 bg-emerald-500 rounded-sm mr-2"}),e.createElement("span",null,"Elite (High both metrics)")),e.createElement("div",{className:"flex items-center p-1.5 bg-lime-900/40 rounded-md border border-lime-900/60"},e.createElement("div",{className:"w-3 h-3 bg-lime-400 rounded-sm mr-2"}),e.createElement("span",null,"Emerging (High Y, Low X)")),e.createElement("div",{className:"flex items-center p-1.5 bg-amber-900/40 rounded-md border border-amber-900/60"},e.createElement("div",{className:"w-3 h-3 bg-amber-400 rounded-sm mr-2"}),e.createElement("span",null,"Established (High X, Low Y)")),e.createElement("div",{className:"flex items-center p-1.5 bg-orange-900/40 rounded-md border border-orange-900/60"},e.createElement("div",{className:"w-3 h-3 bg-orange-500 rounded-sm mr-2"}),e.createElement("span",null,"Developing (Low both metrics)"))))),e.createElement("div",{className:"w-full h-[600px] bg-gray-850 p-3 sm:p-6 rounded-xl border border-gray-700/50 shadow-md"},e.createElement(ye,{width:"100%",height:"100%"},e.createElement(yt,{margin:{top:20,right:30,bottom:60,left:50}},e.createElement(Te,{strokeDasharray:"3 3",stroke:"#374151"}),e.createElement(Fe,{type:"number",dataKey:"x",name:"Primary Stat",tick:{fill:"white"},label:{value:"Primary Metric (varies by position)",position:"bottom",fill:"white",offset:10},domain:["dataMin - 5","dataMax + 5"]}),e.createElement(Le,{type:"number",dataKey:"y",name:"Secondary Stat",tick:{fill:"white"},label:{value:"Secondary Metric (varies by position)",angle:-90,position:"left",fill:"white"},domain:["dataMin - 5","dataMax + 5"]}),e.createElement(vt,{type:"number",dataKey:"z",range:[40,80]}),Object.entries(B).map(([t,i])=>{const n=de().filter(d=>d.group===t);if(n.length===0)return null;const c=n.reduce((d,v)=>d+v.x,0)/n.length,m=n.reduce((d,v)=>d+v.y,0)/n.length,b=Math.max(...n.map(d=>d.x)),g=Math.max(...n.map(d=>d.y));return e.createElement(e.Fragment,{key:`quadrants-${t}`},e.createElement(be,{x1:c,x2:b*1.1,y1:m,y2:g*1.1,fill:"#10B981",fillOpacity:.05,stroke:"#10B981",strokeOpacity:.3,strokeWidth:1,strokeDasharray:"3 3"}),e.createElement(be,{x1:0,x2:c,y1:m,y2:g*1.1,fill:"#A3E635",fillOpacity:.05,stroke:"#A3E635",strokeOpacity:.3,strokeWidth:1,strokeDasharray:"3 3"}),e.createElement(be,{x1:c,x2:b*1.1,y1:0,y2:m,fill:"#F59E0B",fillOpacity:.05,stroke:"#F59E0B",strokeOpacity:.3,strokeWidth:1,strokeDasharray:"3 3"}),e.createElement(be,{x1:0,x2:c,y1:0,y2:m,fill:"#F97316",fillOpacity:.05,stroke:"#F97316",strokeOpacity:.3,strokeWidth:1,strokeDasharray:"3 3"}),e.createElement(Oe,{x:c,stroke:i.color,strokeDasharray:"3 3",strokeOpacity:.7,label:{value:`${t} Avg`,fill:i.color,fontSize:12,position:"insideBottom"}}),e.createElement(Oe,{y:m,stroke:i.color,strokeDasharray:"3 3",strokeOpacity:.7,label:{value:`${t} Avg`,fill:i.color,fontSize:12,position:"insideLeft"}}))}),e.createElement(ve,{cursor:{strokeDasharray:"3 3"},content:({active:t,payload:i})=>{if(t&&i&&i.length){const n=i[0].payload,c=C(n.position),m=B[c],b=u.filter(E=>C(E.position)===c),g=b.map(E=>parseFloat(E[m==null?void 0:m.primaryStats[0].key])||0),d=b.map(E=>parseFloat(E[m==null?void 0:m.primaryStats[1].key])||0),v=pe(n.x,g),h=pe(n.y,d),N=de().filter(E=>E.group===c),k=N.length?N.reduce((E,j)=>E+j.x,0)/N.length:0,S=N.length?N.reduce((E,j)=>E+j.y,0)/N.length:0;let I,T;n.x>=k&&n.y>=S?(I="Elite",T="#10B981"):n.x<k&&n.y>=S?(I="Emerging",T="#A3E635"):n.x>=k&&n.y<S?(I="Established",T="#F59E0B"):(I="Developing",T="#F97316");const X=E=>E.headshot_url?E.headshot_url:`https://via.placeholder.com/50?text=${E.name.split(" ")[0][0]}${E.name.split(" ").length>1?E.name.split(" ")[1][0]:""}`;return e.createElement("div",{className:"bg-gray-800 p-4 border border-gray-700 rounded-lg shadow-lg max-w-xs"},e.createElement("div",{className:"flex items-center mb-3"},e.createElement("div",{className:"relative mr-3 flex-shrink-0"},e.createElement("img",{src:X(n.player),alt:n.name,className:"w-12 h-12 rounded-full object-cover bg-gray-700",onError:E=>{E.target.onerror=null,E.target.src=`https://via.placeholder.com/50?text=${n.name.split(" ")[0][0]}${n.name.split(" ").length>1?n.name.split(" ")[1][0]:""}`}}),e.createElement("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white border-2 border-gray-800",style:{backgroundColor:n.color}},n.position)),e.createElement("div",null,e.createElement("h4",{className:"font-bold text-base text-white"},n.name),e.createElement("p",{className:"text-xs text-gray-400"},n.position," · ",n.player.team))),e.createElement("div",{className:"p-2 mb-3 rounded-md border",style:{borderColor:T,backgroundColor:`${T}20`}},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("span",{className:"text-xs font-medium",style:{color:T}},I," Player"),e.createElement("div",{className:"flex items-center text-xs text-gray-400"},f.some(E=>E.gsis_id===n.player.gsis_id)?e.createElement("span",{className:"flex items-center text-blue-400"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})),"Selected"):e.createElement("span",null,"Click to select")))),e.createElement("div",{className:"grid grid-cols-2 gap-x-3 gap-y-2 text-sm mb-2"},e.createElement("div",null,e.createElement("p",{className:"text-xs text-gray-400 mb-1"},m==null?void 0:m.primaryStats[0].label),e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"font-medium"},Number(n.x).toFixed(1)),e.createElement("span",{className:"text-xs text-gray-400"},v,"%")),e.createElement("div",{className:"w-full bg-gray-700 h-1 mt-1 rounded-full"},e.createElement("div",{className:`h-full rounded-full bg-gradient-to-r ${xe(v)}`,style:{width:`${v}%`}}))),e.createElement("div",null,e.createElement("p",{className:"text-xs text-gray-400 mb-1"},m==null?void 0:m.primaryStats[1].label),e.createElement("div",{className:"flex justify-between"},e.createElement("span",{className:"font-medium"},Number(n.y).toFixed(1)),e.createElement("span",{className:"text-xs text-gray-400"},h,"%")),e.createElement("div",{className:"w-full bg-gray-700 h-1 mt-1 rounded-full"},e.createElement("div",{className:`h-full rounded-full bg-gradient-to-r ${xe(h)}`,style:{width:`${h}%`}})))),e.createElement("div",{className:"flex justify-center mt-2"},e.createElement("button",{className:"text-xs py-1 px-3 bg-gray-700 hover:bg-gray-600 rounded text-blue-400 transition-colors",onClick:()=>te(n.player)},f.some(E=>E.gsis_id===n.player.gsis_id)?"Remove from comparison":"Add to comparison")))}return null}}),Object.entries(B).map(([t,i])=>{const n=de().filter(b=>b.group===t);if(n.length===0)return null;const c=n.reduce((b,g)=>b+g.x,0)/n.length,m=n.reduce((b,g)=>b+g.y,0)/n.length;return e.createElement(bt,{key:t,name:t,data:n,fill:i.color,stroke:"#fff",strokeWidth:.5,shape:b=>{const{cx:g,cy:d,payload:v}=b,h=f.some(k=>k.gsis_id===v.player.gsis_id);let N;return v.x>=c&&v.y>=m?N="#10B981":v.x<c&&v.y>=m?N="#A3E635":v.x>=c&&v.y<m?N="#F59E0B":N="#F97316",e.createElement("g",null,h&&e.createElement("circle",{cx:g,cy:d,r:10,fill:"transparent",stroke:"#3B82F6",strokeWidth:2,strokeDasharray:"2 2"}),e.createElement("circle",{cx:g,cy:d,r:h?7:6,fill:N,stroke:h?"#fff":"rgba(255,255,255,0.4)",strokeWidth:h?1.5:.5,style:{cursor:"pointer",filter:h?"drop-shadow(0 0 3px rgba(59, 130, 246, 0.5))":"none",transition:"all 0.2s ease"},onClick:()=>te(v.player),className:"hover:opacity-90"}),e.createElement("text",{x:g,y:d,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:"7px",fontWeight:"bold",fill:"#fff",pointerEvents:"none"}},v.position))}})}),e.createElement(Be,{payload:Object.entries(B).map(([t,i])=>({value:t,type:"circle",id:t,color:i.color})),formatter:(t,i)=>e.createElement("span",{style:{color:"white",marginLeft:"5px"}},t),layout:"horizontal",verticalAlign:"bottom",align:"center",wrapperStyle:{bottom:-20,paddingTop:20,marginTop:20,position:"relative"},height:36,iconSize:10,margin:{top:15,left:0,right:0,bottom:0}})))),f.length>0&&e.createElement("div",{className:"mt-6 bg-gray-850 p-4 rounded-xl border border-gray-700/50 shadow-md"},e.createElement("div",{className:"flex justify-between items-center mb-4"},e.createElement("h4",{className:"text-base font-medium text-gray-300 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})),"Selected Players (",f.length,"/3)"),e.createElement("button",{onClick:()=>G([]),className:"text-xs py-1 px-3 bg-gray-700 hover:bg-gray-600 rounded text-red-400 transition-colors"},"Clear All")),e.createElement("div",{className:"flex flex-wrap gap-4 justify-center md:justify-start"},f.map(t=>{C(t.position);const i=Q(t.position);return e.createElement("div",{key:t.gsis_id,className:"flex flex-col items-center bg-gray-800 p-3 rounded-lg border border-gray-700/50 hover:border-gray-600 transition-all duration-200 hover:shadow-md"},e.createElement("div",{className:"relative"},t.headshot_url?e.createElement("img",{src:t.headshot_url,alt:t.name,className:"w-16 h-16 rounded-full object-cover",onError:n=>{n.target.onerror=null,n.target.src=`https://via.placeholder.com/64?text=${t.name.split(" ")[0][0]}${t.name.split(" ").length>1?t.name.split(" ")[1][0]:""}`}}):e.createElement("div",{className:"w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center"},e.createElement("span",{className:"text-xl text-gray-400 font-bold"},t.name.split(" ")[0][0],t.name.split(" ").length>1?t.name.split(" ")[1][0]:"")),e.createElement("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white border-2 border-gray-800",style:{backgroundColor:i}},t.position)),e.createElement("span",{className:"font-semibold mt-2 text-center"},t.name),e.createElement("div",{className:"flex items-center mt-1"},e.createElement("span",{className:"text-xs text-gray-400"},t.team)),e.createElement("button",{onClick:()=>te(t),className:"mt-2 text-xs py-1 px-2 bg-gray-700 hover:bg-gray-600 rounded text-red-400 transition-colors flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})),"Remove"))}),f.length>=2&&e.createElement("div",{className:"w-full mt-4 flex justify-center"},e.createElement("button",{onClick:()=>R("comparison"),className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded text-white transition-colors flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})),"Go to Detailed Comparison"))))),O==="cards"&&e.createElement(e.Fragment,null,e.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},a.length===0?e.createElement("div",{className:"text-yellow-400 col-span-full text-center p-8 bg-gray-800/50 rounded-lg border border-gray-700"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-3 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})),e.createElement("p",{className:"text-lg font-medium mb-1"},"No players match your search."),e.createElement("p",{className:"text-sm text-gray-400"},"Try adjusting your filters or search term.")):a.filter(t=>{const i=C(t.position);if(!i||!B[i])return!1;const n=B[i].primaryStats;return!n||n.length===0?!1:n.some(c=>t[c.key]!=null)}).map(t=>{var d,v;const i=C(t.position),n=f.some(h=>h.gsis_id===t.gsis_id),c=Q(t.position),m=ee[t.gsis_id]||!1;((h,N)=>{if(!N||!B[N])return{grade:"C",color:"text-amber-400"};const S=B[N].primaryStats.filter(T=>h[T.key]!=null).map(T=>{const X=u.filter(j=>C(j.position)===N&&j[T.key]!=null).map(j=>parseFloat(j[T.key])||0);let E=pe(parseFloat(h[T.key])||0,X);return T.key==="interceptions"&&(E=100-E),E});if(S.length===0)return{grade:"C",color:"text-amber-400"};const I=S.reduce((T,X)=>T+X,0)/S.length;return I>=90?{grade:"A+",color:"text-emerald-500"}:I>=80?{grade:"A",color:"text-emerald-400"}:I>=70?{grade:"B+",color:"text-green-400"}:I>=60?{grade:"B",color:"text-lime-400"}:I>=50?{grade:"C+",color:"text-amber-300"}:I>=40?{grade:"C",color:"text-amber-400"}:I>=30?{grade:"D+",color:"text-orange-400"}:I>=20?{grade:"D",color:"text-orange-500"}:I>=10?{grade:"F+",color:"text-orange-600"}:{grade:"F",color:"text-red-500"}})(t,i);const g=(h,N)=>{if(!i||!B[i])return null;const k=B[i][h];return!k||k.length===0?null:e.createElement("div",{className:"space-y-4"},N&&e.createElement("h4",{className:"text-xs uppercase font-semibold text-gray-400 border-b border-gray-700/50 pb-2 flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})),N),e.createElement("div",{className:"grid grid-cols-2 gap-4"},k.filter(S=>t[S.key]!=null).map(S=>{const I=u.filter(fe=>C(fe.position)===i&&fe[S.key]!=null).map(fe=>parseFloat(fe[S.key])||0),T=parseFloat(t[S.key])||0,X=pe(T,I),E=S.key==="interceptions",j=E?100-X:X,qe=_t(j),Qe=xe(j);let q;return j>=90?q="Elite":j>=80?q="Great":j>=70?q="Very Good":j>=60?q="Above Avg":j>=50?q="Solid":j>=40?q="Average":j>=30?q="Below Avg":j>=20?q="Poor":j>=10?q="Very Poor":q="Terrible",e.createElement("div",{key:S.key,className:"bg-gray-800/50 hover:bg-gray-800 rounded-lg border border-gray-700/50 hover:border-gray-700 p-3.5 relative transition-all duration-150 shadow-sm hover:shadow group"},e.createElement("div",{className:"mb-2"},e.createElement("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-medium group-hover:text-gray-300 transition-colors truncate"},S.label)),e.createElement("div",{className:"flex items-end justify-between mb-2"},e.createElement("span",{className:"text-2xl font-bold group-hover:text-white transition-colors"},t[S.key]),e.createElement("span",{className:"text-xs text-gray-400 font-medium group-hover:text-gray-300 transition-colors"},X,"%")),e.createElement("div",{className:"mt-2 mb-2 w-full bg-gray-700/70 rounded-full h-2 overflow-hidden"},e.createElement("div",{className:`h-full rounded-full bg-gradient-to-r ${Qe} transition-all duration-500 ease-out`,style:{width:`${X}%`,transform:E?"scaleX(-1)":"none"}})),e.createElement("div",{className:"flex justify-center"},e.createElement("div",{className:`text-xs px-2 py-0.5 rounded-full transition-colors ${qe} text-center`},q)))})))};return e.createElement("div",{key:t.gsis_id,className:`team-card bg-gray-850 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 ease-in-out ${m?"transform-none":"transform hover:-translate-y-1 focus:-translate-y-1"} flex flex-col overflow-hidden border ${n?"border-blue-500":"border-gray-700/50 hover:border-gray-600"} outline-none`},e.createElement("div",{className:"relative p-5 flex items-center",style:{background:`linear-gradient(to right, rgba(17, 24, 39, 0.9), rgba(17, 24, 39, 0.7)), linear-gradient(to right, ${c||"#4B5563"}, ${c||"#4B5563"}90)`}},e.createElement("button",{onClick:h=>{h.stopPropagation(),te(t)},className:`absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-150 ${n?"bg-blue-500 text-white hover:bg-blue-600 shadow-md":"bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white"}`,title:n?"Remove from comparison":"Add to comparison","aria-label":n?"Remove from comparison":"Add to comparison"},n?"−":"+"),e.createElement("div",{className:"relative mr-4 flex-shrink-0"},e.createElement("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-800 border border-gray-700 shadow-md transform transition-transform duration-300 hover:scale-105"},e.createElement("img",{src:t.headshot_url||`https://via.placeholder.com/80?text=${t.name.split(" ")[0][0]}${t.name.split(" ").length>1?t.name.split(" ")[1][0]:""}`,alt:t.name,className:"w-full h-full object-cover",onError:h=>{h.target.onerror=null,h.target.src=`https://via.placeholder.com/80?text=${t.name.split(" ")[0][0]}${t.name.split(" ").length>1?t.name.split(" ")[1][0]:""}`}})),e.createElement("div",{className:"absolute -bottom-2 -right-2 rounded-full w-8 h-8 flex items-center justify-center font-bold text-xs text-white border-2 border-gray-850 shadow-md",style:{backgroundColor:c}},t.position)),e.createElement("div",{className:"flex-1"},e.createElement("h3",{className:"font-bold text-xl text-white truncate leading-tight",title:t.name},t.name),e.createElement("div",{className:"text-sm text-gray-300 mt-1 flex items-center"},e.createElement("span",{className:"mr-2"},t.team),t.jersey_number&&e.createElement("span",{className:"px-1.5 py-0.5 bg-gray-700/80 rounded text-xs"},"#",t.jersey_number)))),e.createElement("div",{className:"flex-1 p-5 bg-gray-850"},i&&e.createElement("div",{className:"space-y-6"},g("primaryStats"),m&&g("secondaryStats","Advanced Stats"),((v=(d=B[i])==null?void 0:d.secondaryStats)==null?void 0:v.length)>0&&e.createElement("button",{onClick:()=>Ge(t.gsis_id),className:`w-full flex items-center justify-center p-2 text-xs text-gray-400 rounded-md transition-all duration-150 ${m?"bg-gray-800/70 border border-gray-700/50 hover:bg-gray-700 hover:text-white mt-3":"bg-gray-800/40 hover:bg-gray-700 hover:text-white border border-transparent hover:border-gray-700/50 mt-1"}`},m?e.createElement(e.Fragment,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})),"Collapse Stats"):e.createElement(e.Fragment,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})),"Show Advanced Stats")))),e.createElement("div",{className:"bg-gray-800/60 p-3 border-t border-gray-700/50"},e.createElement(Ce,{to:`/player/${t.gsis_id}`,className:"w-full flex justify-center items-center py-1.5 px-4 rounded bg-gray-700/60 hover:bg-gray-700 transition-colors group"},e.createElement("span",{className:"text-sm text-blue-400 group-hover:text-blue-300 transition-colors font-medium"},"View Player Profile"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1.5 text-blue-400 group-hover:text-blue-300 transition-transform group-hover:translate-x-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})))))})),a.length>0&&e.createElement("div",{className:"mt-6 bg-gray-800 rounded-lg p-4 border border-gray-700"},e.createElement("h3",{className:"text-sm font-medium text-gray-300 mb-2"},"Performance Grading Scale"),e.createElement("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 text-xs"},e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-emerald-500 font-bold mr-2"},"A+"),e.createElement("span",{className:"text-gray-400"},"Elite (90-100%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-emerald-400 font-bold mr-2"},"A"),e.createElement("span",{className:"text-gray-400"},"Great (80-89%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-green-400 font-bold mr-2"},"B+"),e.createElement("span",{className:"text-gray-400"},"Very Good (70-79%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-lime-400 font-bold mr-2"},"B"),e.createElement("span",{className:"text-gray-400"},"Above Avg (60-69%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-amber-300 font-bold mr-2"},"C+"),e.createElement("span",{className:"text-gray-400"},"Solid (50-59%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-amber-400 font-bold mr-2"},"C"),e.createElement("span",{className:"text-gray-400"},"Average (40-49%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-orange-400 font-bold mr-2"},"D+"),e.createElement("span",{className:"text-gray-400"},"Below Avg (30-39%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-orange-500 font-bold mr-2"},"D"),e.createElement("span",{className:"text-gray-400"},"Poor (20-29%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-orange-600 font-bold mr-2"},"F+"),e.createElement("span",{className:"text-gray-400"},"Very Poor (10-19%)")),e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"text-red-500 font-bold mr-2"},"F"),e.createElement("span",{className:"text-gray-400"},"Terrible (0-9%)"))))))};export{Dt as default};
