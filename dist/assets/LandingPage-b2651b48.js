var xr=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var k=(e,t,n)=>(xr(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},re=(e,t,n,r)=>(xr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var ce=(e,t,n)=>(xr(e,t,"access private method"),n);import{S as Fs,p as ea,r as $e,s as Mr,a as Cn,n as Ls,i as kr,b as ta,t as Ts,f as $s,c as Os,d as na,e as uo,g as I,u as Ds,R as p,h as zs,j as Is,L as nt}from"./index-c17ab661.js";import{P as M,R as Bs,T as js,X as qs,Y as Gs,a as ra,C as Ys}from"./generateCategoricalChart-c719c97c.js";import{T as Pn}from"./Tooltip-aef3c65b.js";import{m as ke}from"./proxy-f335667e.js";import{S as Us,Z as Ws,a as Xs}from"./ScatterChart-8897daca.js";import{C as Hs}from"./CartesianGrid-f1816e99.js";var we,K,nn,pe,ot,bt,Je,et,rn,wt,Et,st,lt,tt,_t,ct,Lt,an,Rr,on,Fr,sn,Lr,ln,Tr,cn,$r,un,Or,fn,Dr,dr,fo,co,Vs=(co=class extends Fs{constructor(t,n){super();ne(this,ct);ne(this,an);ne(this,on);ne(this,sn);ne(this,ln);ne(this,cn);ne(this,un);ne(this,fn);ne(this,dr);ne(this,we,void 0);ne(this,K,void 0);ne(this,nn,void 0);ne(this,pe,void 0);ne(this,ot,void 0);ne(this,bt,void 0);ne(this,Je,void 0);ne(this,et,void 0);ne(this,rn,void 0);ne(this,wt,void 0);ne(this,Et,void 0);ne(this,st,void 0);ne(this,lt,void 0);ne(this,tt,void 0);ne(this,_t,new Set);this.options=n,re(this,we,t),re(this,et,null),re(this,Je,ea()),this.options.experimental_prefetchInRender||k(this,Je).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,K).addObserver(this),ia(k(this,K),this.options)?ce(this,ct,Lt).call(this):this.updateResult(),ce(this,ln,Tr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zr(k(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zr(k(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,cn,$r).call(this),ce(this,un,Or).call(this),k(this,K).removeObserver(this)}setOptions(t){const n=this.options,r=k(this,K);if(this.options=k(this,we).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $e(this.options.enabled,k(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,fn,Dr).call(this),k(this,K).setOptions(this.options),n._defaulted&&!Mr(this.options,n)&&k(this,we).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,K),observer:this});const i=this.hasListeners();i&&aa(k(this,K),r,this.options,n)&&ce(this,ct,Lt).call(this),this.updateResult(),i&&(k(this,K)!==r||$e(this.options.enabled,k(this,K))!==$e(n.enabled,k(this,K))||Cn(this.options.staleTime,k(this,K))!==Cn(n.staleTime,k(this,K)))&&ce(this,an,Rr).call(this);const a=ce(this,on,Fr).call(this);i&&(k(this,K)!==r||$e(this.options.enabled,k(this,K))!==$e(n.enabled,k(this,K))||a!==k(this,tt))&&ce(this,sn,Lr).call(this,a)}getOptimisticResult(t){const n=k(this,we).getQueryCache().build(k(this,we),t),r=this.createResult(n,t);return Qs(this,r)&&(re(this,pe,r),re(this,bt,this.options),re(this,ot,k(this,K).state)),r}getCurrentResult(){return k(this,pe)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){k(this,_t).add(t)}getCurrentQuery(){return k(this,K)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=k(this,we).defaultQueryOptions(t),r=k(this,we).getQueryCache().build(k(this,we),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ce(this,ct,Lt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,pe)))}createResult(t,n){var q;const r=k(this,K),i=this.options,a=k(this,pe),o=k(this,ot),l=k(this,bt),f=t!==r?t.state:k(this,nn),{state:s}=t;let u={...s},d=!1,h;if(n._optimisticResults){const z=this.hasListeners(),$=!z&&ia(t,n),U=z&&aa(t,r,n,i);($||U)&&(u={...u,...Os(s.data,t.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:g,errorUpdatedAt:E,status:_}=u;h=u.data;let b=!1;if(n.placeholderData!==void 0&&h===void 0&&_==="pending"){let z;a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(z=a.data,b=!0):z=typeof n.placeholderData=="function"?n.placeholderData((q=k(this,Et))==null?void 0:q.state.data,k(this,Et)):n.placeholderData,z!==void 0&&(_="success",h=na(a==null?void 0:a.data,z,n),d=!0)}if(n.select&&h!==void 0&&!b)if(a&&h===(o==null?void 0:o.data)&&n.select===k(this,rn))h=k(this,wt);else try{re(this,rn,n.select),h=n.select(h),h=na(a==null?void 0:a.data,h,n),re(this,wt,h),re(this,et,null)}catch(z){re(this,et,z)}k(this,et)&&(g=k(this,et),h=k(this,wt),E=Date.now(),_="error");const N=u.fetchStatus==="fetching",x=_==="pending",w=_==="error",A=x&&N,P=h!==void 0,T={status:_,fetchStatus:u.fetchStatus,isPending:x,isSuccess:_==="success",isError:w,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:u.dataUpdatedAt,error:g,errorUpdatedAt:E,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>f.dataUpdateCount||u.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!x,isLoadingError:w&&!P,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:w&&P,isStale:yi(t,n),refetch:this.refetch,promise:k(this,Je)};if(this.options.experimental_prefetchInRender){const z=Z=>{T.status==="error"?Z.reject(T.error):T.data!==void 0&&Z.resolve(T.data)},$=()=>{const Z=re(this,Je,T.promise=ea());z(Z)},U=k(this,Je);switch(U.status){case"pending":t.queryHash===r.queryHash&&z(U);break;case"fulfilled":(T.status==="error"||T.data!==U.value)&&$();break;case"rejected":(T.status!=="error"||T.error!==U.reason)&&$();break}}return T}updateResult(){const t=k(this,pe),n=this.createResult(k(this,K),this.options);if(re(this,ot,k(this,K).state),re(this,bt,this.options),k(this,ot).data!==void 0&&re(this,Et,k(this,K)),Mr(n,t))return;re(this,pe,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!k(this,_t).size)return!0;const o=new Set(a??k(this,_t));return this.options.throwOnError&&o.add("error"),Object.keys(k(this,pe)).some(l=>{const c=l;return k(this,pe)[c]!==t[c]&&o.has(c)})};ce(this,dr,fo).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,ln,Tr).call(this)}},we=new WeakMap,K=new WeakMap,nn=new WeakMap,pe=new WeakMap,ot=new WeakMap,bt=new WeakMap,Je=new WeakMap,et=new WeakMap,rn=new WeakMap,wt=new WeakMap,Et=new WeakMap,st=new WeakMap,lt=new WeakMap,tt=new WeakMap,_t=new WeakMap,ct=new WeakSet,Lt=function(t){ce(this,fn,Dr).call(this);let n=k(this,K).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ls)),n},an=new WeakSet,Rr=function(){ce(this,cn,$r).call(this);const t=Cn(this.options.staleTime,k(this,K));if(kr||k(this,pe).isStale||!ta(t))return;const r=Ts(k(this,pe).dataUpdatedAt,t)+1;re(this,st,setTimeout(()=>{k(this,pe).isStale||this.updateResult()},r))},on=new WeakSet,Fr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,K)):this.options.refetchInterval)??!1},sn=new WeakSet,Lr=function(t){ce(this,un,Or).call(this),re(this,tt,t),!(kr||$e(this.options.enabled,k(this,K))===!1||!ta(k(this,tt))||k(this,tt)===0)&&re(this,lt,setInterval(()=>{(this.options.refetchIntervalInBackground||$s.isFocused())&&ce(this,ct,Lt).call(this)},k(this,tt)))},ln=new WeakSet,Tr=function(){ce(this,an,Rr).call(this),ce(this,sn,Lr).call(this,ce(this,on,Fr).call(this))},cn=new WeakSet,$r=function(){k(this,st)&&(clearTimeout(k(this,st)),re(this,st,void 0))},un=new WeakSet,Or=function(){k(this,lt)&&(clearInterval(k(this,lt)),re(this,lt,void 0))},fn=new WeakSet,Dr=function(){const t=k(this,we).getQueryCache().build(k(this,we),this.options);if(t===k(this,K))return;const n=k(this,K);re(this,K,t),re(this,nn,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},dr=new WeakSet,fo=function(t){uo.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(k(this,pe))}),k(this,we).getQueryCache().notify({query:k(this,K),type:"observerResultsUpdated"})})},co);function Zs(e,t){return $e(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ia(e,t){return Zs(e,t)||e.state.data!==void 0&&zr(e,t,t.refetchOnMount)}function zr(e,t,n){if($e(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&yi(e,t)}return!1}function aa(e,t,n,r){return(e!==t||$e(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&yi(e,n)}function yi(e,t){return $e(t.enabled,e)!==!1&&e.isStaleByTime(Cn(t.staleTime,e))}function Qs(e,t){return!Mr(e.getCurrentResult(),t)}var ho=I.createContext(!1),Ks=()=>I.useContext(ho);ho.Provider;function Js(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var el=I.createContext(Js()),tl=()=>I.useContext(el);function nl(e,t){return typeof e=="function"?e(...t):!!e}function oa(){}var rl=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},il=e=>{I.useEffect(()=>{e.clearReset()},[e])},al=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||nl(n,[e.error,r])),ol=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},sl=(e,t)=>e.isLoading&&e.isFetching&&!t,ll=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sa=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cl(e,t,n){var u,d,h,g,E;const r=Ds(n),i=Ks(),a=tl(),o=r.defaultQueryOptions(e);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",ol(o),rl(o,a),il(a);const l=!r.getQueryCache().get(o.queryHash),[c]=I.useState(()=>new t(r,o)),f=c.getOptimisticResult(o),s=!i&&e.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(_=>{const b=s?c.subscribe(uo.batchCalls(_)):oa;return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),I.useEffect(()=>{c.setOptions(o)},[o,c]),ll(o,f))throw sa(o,c,a);if(al({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;if((g=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,f),o.experimental_prefetchInRender&&!kr&&sl(f,i)){const _=l?sa(o,c,a):(E=r.getQueryCache().get(o.queryHash))==null?void 0:E.promise;_==null||_.catch(oa).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?f:c.trackResult(f)}function la(e,t){return cl(e,Vs,t)}class de{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,l=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);l&&(n[r++]=l),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}function*ul(e){for(const t of e)yield*t}function po(e){return Array.from(ul(e))}function mt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}var B=1e-6,Ht=1e-12,V=Math.PI,se=V/2,Dn=V/4,ye=V*2,te=180/V,j=V/180,J=Math.abs,Mt=Math.atan,xe=Math.atan2,O=Math.cos,yn=Math.ceil,mo=Math.exp,Ir=Math.hypot,zn=Math.log,br=Math.pow,L=Math.sin,Pe=Math.sign||function(e){return e>0?1:e<0?-1:0},ue=Math.sqrt,xi=Math.tan;function go(e){return e>1?0:e<-1?V:Math.acos(e)}function be(e){return e>1?se:e<-1?-se:Math.asin(e)}function ca(e){return(e=L(e/2))*e}function ae(){}function In(e,t){e&&fa.hasOwnProperty(e.type)&&fa[e.type](e,t)}var ua={Feature:function(e,t){In(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)In(n[r].geometry,t)}},fa={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Br(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Br(n[r],t,0)},Polygon:function(e,t){ha(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ha(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)In(n[r],t)}};function Br(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function ha(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Br(e[n],t,1);t.polygonEnd()}function Re(e,t){e&&ua.hasOwnProperty(e.type)?ua[e.type](e,t):In(e,t)}var Bn=new de,jn=new de,vo,yo,jr,qr,Gr,Be={point:ae,lineStart:ae,lineEnd:ae,polygonStart:function(){Bn=new de,Be.lineStart=fl,Be.lineEnd=hl},polygonEnd:function(){var e=+Bn;jn.add(e<0?ye+e:e),this.lineStart=this.lineEnd=this.point=ae},sphere:function(){jn.add(ye)}};function fl(){Be.point=dl}function hl(){xo(vo,yo)}function dl(e,t){Be.point=xo,vo=e,yo=t,e*=j,t*=j,jr=e,qr=O(t=t/2+Dn),Gr=L(t)}function xo(e,t){e*=j,t*=j,t=t/2+Dn;var n=e-jr,r=n>=0?1:-1,i=r*n,a=O(t),o=L(t),l=Gr*o,c=qr*a+l*O(i),f=l*r*L(i);Bn.add(xe(f,c)),jr=e,qr=a,Gr=o}function pl(e){return jn=new de,Re(e,Be),jn*2}function qn(e){return[xe(e[1],e[0]),be(e[2])]}function ut(e){var t=e[0],n=e[1],r=O(n);return[r*O(t),r*L(t),L(n)]}function xn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Nt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function wr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function bn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Gn(e){var t=ue(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ie,Ee,oe,Ae,at,bo,wo,yt,Gt,Ze,Xe,Ye={point:Yr,lineStart:da,lineEnd:pa,polygonStart:function(){Ye.point=_o,Ye.lineStart=ml,Ye.lineEnd=gl,Gt=new de,Be.polygonStart()},polygonEnd:function(){Be.polygonEnd(),Ye.point=Yr,Ye.lineStart=da,Ye.lineEnd=pa,Bn<0?(ie=-(oe=180),Ee=-(Ae=90)):Gt>B?Ae=90:Gt<-B&&(Ee=-90),Xe[0]=ie,Xe[1]=oe},sphere:function(){ie=-(oe=180),Ee=-(Ae=90)}};function Yr(e,t){Ze.push(Xe=[ie=e,oe=e]),t<Ee&&(Ee=t),t>Ae&&(Ae=t)}function Eo(e,t){var n=ut([e*j,t*j]);if(yt){var r=Nt(yt,n),i=[r[1],-r[0],0],a=Nt(i,r);Gn(a),a=qn(a);var o=e-at,l=o>0?1:-1,c=a[0]*te*l,f,s=J(o)>180;s^(l*at<c&&c<l*e)?(f=a[1]*te,f>Ae&&(Ae=f)):(c=(c+360)%360-180,s^(l*at<c&&c<l*e)?(f=-a[1]*te,f<Ee&&(Ee=f)):(t<Ee&&(Ee=t),t>Ae&&(Ae=t))),s?e<at?Se(ie,e)>Se(ie,oe)&&(oe=e):Se(e,oe)>Se(ie,oe)&&(ie=e):oe>=ie?(e<ie&&(ie=e),e>oe&&(oe=e)):e>at?Se(ie,e)>Se(ie,oe)&&(oe=e):Se(e,oe)>Se(ie,oe)&&(ie=e)}else Ze.push(Xe=[ie=e,oe=e]);t<Ee&&(Ee=t),t>Ae&&(Ae=t),yt=n,at=e}function da(){Ye.point=Eo}function pa(){Xe[0]=ie,Xe[1]=oe,Ye.point=Yr,yt=null}function _o(e,t){if(yt){var n=e-at;Gt.add(J(n)>180?n+(n>0?360:-360):n)}else bo=e,wo=t;Be.point(e,t),Eo(e,t)}function ml(){Be.lineStart()}function gl(){_o(bo,wo),Be.lineEnd(),J(Gt)>B&&(ie=-(oe=180)),Xe[0]=ie,Xe[1]=oe,yt=null}function Se(e,t){return(t-=e)<0?t+360:t}function vl(e,t){return e[0]-t[0]}function ma(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function yl(e){var t,n,r,i,a,o,l;if(Ae=oe=-(ie=Ee=1/0),Ze=[],Re(e,Ye),n=Ze.length){for(Ze.sort(vl),t=1,r=Ze[0],a=[r];t<n;++t)i=Ze[t],ma(r,i[0])||ma(r,i[1])?(Se(r[0],i[1])>Se(r[0],r[1])&&(r[1]=i[1]),Se(i[0],r[1])>Se(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(l=Se(r[1],i[0]))>o&&(o=l,ie=i[0],oe=r[1])}return Ze=Xe=null,ie===1/0||Ee===1/0?[[NaN,NaN],[NaN,NaN]]:[[ie,Ee],[oe,Ae]]}var Tt,Yn,Un,Wn,Xn,Hn,Vn,Zn,Ur,Wr,Xr,No,So,me,ge,ve,Le={sphere:ae,point:bi,lineStart:ga,lineEnd:va,polygonStart:function(){Le.lineStart=wl,Le.lineEnd=El},polygonEnd:function(){Le.lineStart=ga,Le.lineEnd=va}};function bi(e,t){e*=j,t*=j;var n=O(t);hn(n*O(e),n*L(e),L(t))}function hn(e,t,n){++Tt,Un+=(e-Un)/Tt,Wn+=(t-Wn)/Tt,Xn+=(n-Xn)/Tt}function ga(){Le.point=xl}function xl(e,t){e*=j,t*=j;var n=O(t);me=n*O(e),ge=n*L(e),ve=L(t),Le.point=bl,hn(me,ge,ve)}function bl(e,t){e*=j,t*=j;var n=O(t),r=n*O(e),i=n*L(e),a=L(t),o=xe(ue((o=ge*a-ve*i)*o+(o=ve*r-me*a)*o+(o=me*i-ge*r)*o),me*r+ge*i+ve*a);Yn+=o,Hn+=o*(me+(me=r)),Vn+=o*(ge+(ge=i)),Zn+=o*(ve+(ve=a)),hn(me,ge,ve)}function va(){Le.point=bi}function wl(){Le.point=_l}function El(){Ao(No,So),Le.point=bi}function _l(e,t){No=e,So=t,e*=j,t*=j,Le.point=Ao;var n=O(t);me=n*O(e),ge=n*L(e),ve=L(t),hn(me,ge,ve)}function Ao(e,t){e*=j,t*=j;var n=O(t),r=n*O(e),i=n*L(e),a=L(t),o=ge*a-ve*i,l=ve*r-me*a,c=me*i-ge*r,f=Ir(o,l,c),s=be(f),u=f&&-s/f;Ur.add(u*o),Wr.add(u*l),Xr.add(u*c),Yn+=s,Hn+=s*(me+(me=r)),Vn+=s*(ge+(ge=i)),Zn+=s*(ve+(ve=a)),hn(me,ge,ve)}function Nl(e){Tt=Yn=Un=Wn=Xn=Hn=Vn=Zn=0,Ur=new de,Wr=new de,Xr=new de,Re(e,Le);var t=+Ur,n=+Wr,r=+Xr,i=Ir(t,n,r);return i<Ht&&(t=Hn,n=Vn,r=Zn,Yn<B&&(t=Un,n=Wn,r=Xn),i=Ir(t,n,r),i<Ht)?[NaN,NaN]:[xe(n,t)*te,be(r/i)*te]}function dt(e){return function(){return e}}function Hr(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Vr(e,t){return[J(e)>V?e+Math.round(-e/ye)*ye:e,t]}Vr.invert=Vr;function wi(e,t,n){return(e%=ye)?t||n?Hr(xa(e),ba(t,n)):xa(e):t||n?ba(t,n):Vr}function ya(e){return function(t,n){return t+=e,[t>V?t-ye:t<-V?t+ye:t,n]}}function xa(e){var t=ya(e);return t.invert=ya(-e),t}function ba(e,t){var n=O(e),r=L(e),i=O(t),a=L(t);function o(l,c){var f=O(c),s=O(l)*f,u=L(l)*f,d=L(c),h=d*n+s*r;return[xe(u*i-h*a,s*n-d*r),be(h*i+u*a)]}return o.invert=function(l,c){var f=O(c),s=O(l)*f,u=L(l)*f,d=L(c),h=d*i-u*a;return[xe(u*i+d*a,s*n+h*r),be(h*n-s*r)]},o}function Co(e){e=wi(e[0]*j,e[1]*j,e.length>2?e[2]*j:0);function t(n){return n=e(n[0]*j,n[1]*j),n[0]*=te,n[1]*=te,n}return t.invert=function(n){return n=e.invert(n[0]*j,n[1]*j),n[0]*=te,n[1]*=te,n},t}function Po(e,t,n,r,i,a){if(n){var o=O(t),l=L(t),c=r*n;i==null?(i=t+r*ye,a=t-c/2):(i=wa(o,i),a=wa(o,a),(r>0?i<a:i>a)&&(i+=r*ye));for(var f,s=i;r>0?s>a:s<a;s-=c)f=qn([o,-l*O(s),-l*L(s)]),e.point(f[0],f[1])}}function wa(e,t){t=ut(t),t[0]-=e,Gn(t);var n=go(-t[1]);return((-t[2]<0?-n:n)+ye-B)%ye}function Sl(){var e=dt([0,0]),t=dt(90),n=dt(6),r,i,a={point:o};function o(c,f){r.push(c=i(c,f)),c[0]*=te,c[1]*=te}function l(){var c=e.apply(this,arguments),f=t.apply(this,arguments)*j,s=n.apply(this,arguments)*j;return r=[],i=wi(-c[0]*j,-c[1]*j,0).invert,Po(a,f,s,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return l.center=function(c){return arguments.length?(e=typeof c=="function"?c:dt([+c[0],+c[1]]),l):e},l.radius=function(c){return arguments.length?(t=typeof c=="function"?c:dt(+c),l):t},l.precision=function(c){return arguments.length?(n=typeof c=="function"?c:dt(+c),l):n},l}function Mo(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:ae,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Mn(e,t){return J(e[0]-t[0])<B&&J(e[1]-t[1])<B}function wn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ko(e,t,n,r,i){var a=[],o=[],l,c;if(e.forEach(function(g){if(!((E=g.length-1)<=0)){var E,_=g[0],b=g[E],N;if(Mn(_,b)){if(!_[2]&&!b[2]){for(i.lineStart(),l=0;l<E;++l)i.point((_=g[l])[0],_[1]);i.lineEnd();return}b[0]+=2*B}a.push(N=new wn(_,g,null,!0)),o.push(N.o=new wn(_,null,N,!1)),a.push(N=new wn(b,g,null,!1)),o.push(N.o=new wn(b,null,N,!0))}}),!!a.length){for(o.sort(t),Ea(a),Ea(o),l=0,c=o.length;l<c;++l)o[l].e=n=!n;for(var f=a[0],s,u;;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;s=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(l=0,c=s.length;l<c;++l)i.point((u=s[l])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(s=d.p.z,l=s.length-1;l>=0;--l)i.point((u=s[l])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,s=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Ea(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Er(e){return J(e[0])<=V?e[0]:Pe(e[0])*((J(e[0])+V)%ye-V)}function Ro(e,t){var n=Er(t),r=t[1],i=L(r),a=[L(n),-O(n),0],o=0,l=0,c=new de;i===1?r=se+B:i===-1&&(r=-se-B);for(var f=0,s=e.length;f<s;++f)if(d=(u=e[f]).length)for(var u,d,h=u[d-1],g=Er(h),E=h[1]/2+Dn,_=L(E),b=O(E),N=0;N<d;++N,g=w,_=P,b=D,h=x){var x=u[N],w=Er(x),A=x[1]/2+Dn,P=L(A),D=O(A),T=w-g,q=T>=0?1:-1,z=q*T,$=z>V,U=_*P;if(c.add(xe(U*q*L(z),b*D+U*O(z))),o+=$?T+q*ye:T,$^g>=n^w>=n){var Z=Nt(ut(h),ut(x));Gn(Z);var v=Nt(a,Z);Gn(v);var y=($^T>=0?-1:1)*be(v[2]);(r>y||r===y&&(Z[0]||Z[1]))&&(l+=$^T>=0?1:-1)}}return(o<-B||o<B&&c<-Ht)^l&1}function Fo(e,t,n,r){return function(i){var a=t(i),o=Mo(),l=t(o),c=!1,f,s,u,d={point:h,lineStart:E,lineEnd:_,polygonStart:function(){d.point=b,d.lineStart=N,d.lineEnd=x,s=[],f=[]},polygonEnd:function(){d.point=h,d.lineStart=E,d.lineEnd=_,s=po(s);var w=Ro(f,r);s.length?(c||(i.polygonStart(),c=!0),ko(s,Cl,w,n,i)):w&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),s=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,A){e(w,A)&&i.point(w,A)}function g(w,A){a.point(w,A)}function E(){d.point=g,a.lineStart()}function _(){d.point=h,a.lineEnd()}function b(w,A){u.push([w,A]),l.point(w,A)}function N(){l.lineStart(),u=[]}function x(){b(u[0][0],u[0][1]),l.lineEnd();var w=l.clean(),A=o.result(),P,D=A.length,T,q,z;if(u.pop(),f.push(u),u=null,!!D){if(w&1){if(q=A[0],(T=q.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),P=0;P<T;++P)i.point((z=q[P])[0],z[1]);i.lineEnd()}return}D>1&&w&2&&A.push(A.pop().concat(A.shift())),s.push(A.filter(Al))}}return d}}function Al(e){return e.length>1}function Cl(e,t){return((e=e.x)[0]<0?e[1]-se-B:se-e[1])-((t=t.x)[0]<0?t[1]-se-B:se-t[1])}const Zr=Fo(function(){return!0},Pl,kl,[-V,-se]);function Pl(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var l=a>0?V:-V,c=J(a-t);J(c-V)<B?(e.point(t,n=(n+o)/2>0?se:-se),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(l,n),e.point(a,n),i=0):r!==l&&c>=V&&(J(t-r)<B&&(t-=r*B),J(a-l)<B&&(a-=l*B),n=Ml(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(l,n),i=0),e.point(t=a,n=o),r=l},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Ml(e,t,n,r){var i,a,o=L(e-n);return J(o)>B?Mt((L(t)*(a=O(r))*L(n)-L(r)*(i=O(t))*L(e))/(i*a*o)):(t+r)/2}function kl(e,t,n,r){var i;if(e==null)i=n*se,r.point(-V,i),r.point(0,i),r.point(V,i),r.point(V,0),r.point(V,-i),r.point(0,-i),r.point(-V,-i),r.point(-V,0),r.point(-V,i);else if(J(e[0]-t[0])>B){var a=e[0]<t[0]?V:-V;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Lo(e){var t=O(e),n=6*j,r=t>0,i=J(t)>B;function a(s,u,d,h){Po(h,e,n,d,s,u)}function o(s,u){return O(s)*O(u)>t}function l(s){var u,d,h,g,E;return{lineStart:function(){g=h=!1,E=1},point:function(_,b){var N=[_,b],x,w=o(_,b),A=r?w?0:f(_,b):w?f(_+(_<0?V:-V),b):0;if(!u&&(g=h=w)&&s.lineStart(),w!==h&&(x=c(u,N),(!x||Mn(u,x)||Mn(N,x))&&(N[2]=1)),w!==h)E=0,w?(s.lineStart(),x=c(N,u),s.point(x[0],x[1])):(x=c(u,N),s.point(x[0],x[1],2),s.lineEnd()),u=x;else if(i&&u&&r^w){var P;!(A&d)&&(P=c(N,u,!0))&&(E=0,r?(s.lineStart(),s.point(P[0][0],P[0][1]),s.point(P[1][0],P[1][1]),s.lineEnd()):(s.point(P[1][0],P[1][1]),s.lineEnd(),s.lineStart(),s.point(P[0][0],P[0][1],3)))}w&&(!u||!Mn(u,N))&&s.point(N[0],N[1]),u=N,h=w,d=A},lineEnd:function(){h&&s.lineEnd(),u=null},clean:function(){return E|(g&&h)<<1}}}function c(s,u,d){var h=ut(s),g=ut(u),E=[1,0,0],_=Nt(h,g),b=xn(_,_),N=_[0],x=b-N*N;if(!x)return!d&&s;var w=t*b/x,A=-t*N/x,P=Nt(E,_),D=bn(E,w),T=bn(_,A);wr(D,T);var q=P,z=xn(D,q),$=xn(q,q),U=z*z-$*(xn(D,D)-1);if(!(U<0)){var Z=ue(U),v=bn(q,(-z-Z)/$);if(wr(v,D),v=qn(v),!d)return v;var y=s[0],m=u[0],S=s[1],R=u[1],F;m<y&&(F=y,y=m,m=F);var G=m-y,Y=J(G-V)<B,W=Y||G<B;if(!Y&&R<S&&(F=S,S=R,R=F),W?Y?S+R>0^v[1]<(J(v[0]-y)<B?S:R):S<=v[1]&&v[1]<=R:G>V^(y<=v[0]&&v[0]<=m)){var X=bn(q,(-z+Z)/$);return wr(X,D),[v,qn(X)]}}}function f(s,u){var d=r?e:V-e,h=0;return s<-d?h|=1:s>d&&(h|=2),u<-d?h|=4:u>d&&(h|=8),h}return Fo(o,l,a,r?[0,-e]:[-V,e-V])}function Rl(e,t,n,r,i,a){var o=e[0],l=e[1],c=t[0],f=t[1],s=0,u=1,d=c-o,h=f-l,g;if(g=n-o,!(!d&&g>0)){if(g/=d,d<0){if(g<s)return;g<u&&(u=g)}else if(d>0){if(g>u)return;g>s&&(s=g)}if(g=i-o,!(!d&&g<0)){if(g/=d,d<0){if(g>u)return;g>s&&(s=g)}else if(d>0){if(g<s)return;g<u&&(u=g)}if(g=r-l,!(!h&&g>0)){if(g/=h,h<0){if(g<s)return;g<u&&(u=g)}else if(h>0){if(g>u)return;g>s&&(s=g)}if(g=a-l,!(!h&&g<0)){if(g/=h,h<0){if(g>u)return;g>s&&(s=g)}else if(h>0){if(g<s)return;g<u&&(u=g)}return s>0&&(e[0]=o+s*d,e[1]=l+s*h),u<1&&(t[0]=o+u*d,t[1]=l+u*h),!0}}}}}var $t=1e9,En=-$t;function pr(e,t,n,r){function i(f,s){return e<=f&&f<=n&&t<=s&&s<=r}function a(f,s,u,d){var h=0,g=0;if(f==null||(h=o(f,u))!==(g=o(s,u))||c(f,s)<0^u>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+u+4)%4)!==g);else d.point(s[0],s[1])}function o(f,s){return J(f[0]-e)<B?s>0?0:3:J(f[0]-n)<B?s>0?2:1:J(f[1]-t)<B?s>0?1:0:s>0?3:2}function l(f,s){return c(f.x,s.x)}function c(f,s){var u=o(f,1),d=o(s,1);return u!==d?u-d:u===0?s[1]-f[1]:u===1?f[0]-s[0]:u===2?f[1]-s[1]:s[0]-f[0]}return function(f){var s=f,u=Mo(),d,h,g,E,_,b,N,x,w,A,P,D={point:T,lineStart:U,lineEnd:Z,polygonStart:z,polygonEnd:$};function T(y,m){i(y,m)&&s.point(y,m)}function q(){for(var y=0,m=0,S=h.length;m<S;++m)for(var R=h[m],F=1,G=R.length,Y=R[0],W,X,Q=Y[0],ee=Y[1];F<G;++F)W=Q,X=ee,Y=R[F],Q=Y[0],ee=Y[1],X<=r?ee>r&&(Q-W)*(r-X)>(ee-X)*(e-W)&&++y:ee<=r&&(Q-W)*(r-X)<(ee-X)*(e-W)&&--y;return y}function z(){s=u,d=[],h=[],P=!0}function $(){var y=q(),m=P&&y,S=(d=po(d)).length;(m||S)&&(f.polygonStart(),m&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),S&&ko(d,l,y,a,f),f.polygonEnd()),s=f,d=h=g=null}function U(){D.point=v,h&&h.push(g=[]),A=!0,w=!1,N=x=NaN}function Z(){d&&(v(E,_),b&&w&&u.rejoin(),d.push(u.result())),D.point=T,w&&s.lineEnd()}function v(y,m){var S=i(y,m);if(h&&g.push([y,m]),A)E=y,_=m,b=S,A=!1,S&&(s.lineStart(),s.point(y,m));else if(S&&w)s.point(y,m);else{var R=[N=Math.max(En,Math.min($t,N)),x=Math.max(En,Math.min($t,x))],F=[y=Math.max(En,Math.min($t,y)),m=Math.max(En,Math.min($t,m))];Rl(R,F,e,t,n,r)?(w||(s.lineStart(),s.point(R[0],R[1])),s.point(F[0],F[1]),S||s.lineEnd(),P=!1):S&&(s.lineStart(),s.point(y,m),P=!1)}N=y,x=m,w=S}return D}}function Fl(){var e=0,t=0,n=960,r=500,i,a,o;return o={stream:function(l){return i&&a===l?i:i=pr(e,t,n,r)(a=l)},extent:function(l){return arguments.length?(e=+l[0][0],t=+l[0][1],n=+l[1][0],r=+l[1][1],i=a=null,o):[[e,t],[n,r]]}}}var Qr,Kr,kn,Rn,St={sphere:ae,point:ae,lineStart:Ll,lineEnd:ae,polygonStart:ae,polygonEnd:ae};function Ll(){St.point=$l,St.lineEnd=Tl}function Tl(){St.point=St.lineEnd=ae}function $l(e,t){e*=j,t*=j,Kr=e,kn=L(t),Rn=O(t),St.point=Ol}function Ol(e,t){e*=j,t*=j;var n=L(t),r=O(t),i=J(e-Kr),a=O(i),o=L(i),l=r*o,c=Rn*n-kn*r*a,f=kn*n+Rn*r*a;Qr.add(xe(ue(l*l+c*c),f)),Kr=e,kn=n,Rn=r}function To(e){return Qr=new de,Re(e,St),+Qr}var Jr=[null,null],Dl={type:"LineString",coordinates:Jr};function Qn(e,t){return Jr[0]=e,Jr[1]=t,To(Dl)}var _a={Feature:function(e,t){return Kn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Kn(n[r].geometry,t))return!0;return!1}},Na={Sphere:function(){return!0},Point:function(e,t){return Sa(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Sa(n[r],t))return!0;return!1},LineString:function(e,t){return Aa(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Aa(n[r],t))return!0;return!1},Polygon:function(e,t){return Ca(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Ca(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Kn(n[r],t))return!0;return!1}};function Kn(e,t){return e&&Na.hasOwnProperty(e.type)?Na[e.type](e,t):!1}function Sa(e,t){return Qn(e,t)===0}function Aa(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(r=Qn(e[a],t),r===0||a>0&&(i=Qn(e[a],e[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Ht*i))return!0;n=r}return!1}function Ca(e,t){return!!Ro(e.map(zl),$o(t))}function zl(e){return e=e.map($o),e.pop(),e}function $o(e){return[e[0]*j,e[1]*j]}function Il(e,t){return(e&&_a.hasOwnProperty(e.type)?_a[e.type]:Kn)(e,t)}function Pa(e,t,n){var r=mt(e,t-B,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function Ma(e,t,n){var r=mt(e,t-B,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function Ei(){var e,t,n,r,i,a,o,l,c=10,f=c,s=90,u=360,d,h,g,E,_=2.5;function b(){return{type:"MultiLineString",coordinates:N()}}function N(){return mt(yn(r/s)*s,n,s).map(g).concat(mt(yn(l/u)*u,o,u).map(E)).concat(mt(yn(t/c)*c,e,c).filter(function(x){return J(x%s)>B}).map(d)).concat(mt(yn(a/f)*f,i,f).filter(function(x){return J(x%u)>B}).map(h))}return b.lines=function(){return N().map(function(x){return{type:"LineString",coordinates:x}})},b.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(E(o).slice(1),g(n).reverse().slice(1),E(l).reverse().slice(1))]}},b.extent=function(x){return arguments.length?b.extentMajor(x).extentMinor(x):b.extentMinor()},b.extentMajor=function(x){return arguments.length?(r=+x[0][0],n=+x[1][0],l=+x[0][1],o=+x[1][1],r>n&&(x=r,r=n,n=x),l>o&&(x=l,l=o,o=x),b.precision(_)):[[r,l],[n,o]]},b.extentMinor=function(x){return arguments.length?(t=+x[0][0],e=+x[1][0],a=+x[0][1],i=+x[1][1],t>e&&(x=t,t=e,e=x),a>i&&(x=a,a=i,i=x),b.precision(_)):[[t,a],[e,i]]},b.step=function(x){return arguments.length?b.stepMajor(x).stepMinor(x):b.stepMinor()},b.stepMajor=function(x){return arguments.length?(s=+x[0],u=+x[1],b):[s,u]},b.stepMinor=function(x){return arguments.length?(c=+x[0],f=+x[1],b):[c,f]},b.precision=function(x){return arguments.length?(_=+x,d=Pa(a,i,90),h=Ma(t,e,_),g=Pa(l,o,90),E=Ma(r,n,_),b):_},b.extentMajor([[-180,-90+B],[180,90-B]]).extentMinor([[-180,-80-B],[180,80+B]])}function Bl(){return Ei()()}function jl(e,t){var n=e[0]*j,r=e[1]*j,i=t[0]*j,a=t[1]*j,o=O(r),l=L(r),c=O(a),f=L(a),s=o*O(n),u=o*L(n),d=c*O(i),h=c*L(i),g=2*be(ue(ca(a-r)+o*c*ca(i-n))),E=L(g),_=g?function(b){var N=L(b*=g)/E,x=L(g-b)/E,w=x*s+N*d,A=x*u+N*h,P=x*l+N*f;return[xe(A,w)*te,xe(P,ue(w*w+A*A))*te]}:function(){return[n*te,r*te]};return _.distance=g,_}const Vt=e=>e;var _r=new de,ei=new de,Oo,Do,ti,ni,Ke={point:ae,lineStart:ae,lineEnd:ae,polygonStart:function(){Ke.lineStart=ql,Ke.lineEnd=Yl},polygonEnd:function(){Ke.lineStart=Ke.lineEnd=Ke.point=ae,_r.add(J(ei)),ei=new de},result:function(){var e=_r/2;return _r=new de,e}};function ql(){Ke.point=Gl}function Gl(e,t){Ke.point=zo,Oo=ti=e,Do=ni=t}function zo(e,t){ei.add(ni*e-ti*t),ti=e,ni=t}function Yl(){zo(Oo,Do)}const ka=Ke;var At=1/0,Jn=At,Zt=-At,er=Zt,Ul={point:Wl,lineStart:ae,lineEnd:ae,polygonStart:ae,polygonEnd:ae,result:function(){var e=[[At,Jn],[Zt,er]];return Zt=er=-(Jn=At=1/0),e}};function Wl(e,t){e<At&&(At=e),e>Zt&&(Zt=e),t<Jn&&(Jn=t),t>er&&(er=t)}const tr=Ul;var ri=0,ii=0,Ot=0,nr=0,rr=0,gt=0,ai=0,oi=0,Dt=0,Io,Bo,Oe,De,Fe={point:ft,lineStart:Ra,lineEnd:Fa,polygonStart:function(){Fe.lineStart=Vl,Fe.lineEnd=Zl},polygonEnd:function(){Fe.point=ft,Fe.lineStart=Ra,Fe.lineEnd=Fa},result:function(){var e=Dt?[ai/Dt,oi/Dt]:gt?[nr/gt,rr/gt]:Ot?[ri/Ot,ii/Ot]:[NaN,NaN];return ri=ii=Ot=nr=rr=gt=ai=oi=Dt=0,e}};function ft(e,t){ri+=e,ii+=t,++Ot}function Ra(){Fe.point=Xl}function Xl(e,t){Fe.point=Hl,ft(Oe=e,De=t)}function Hl(e,t){var n=e-Oe,r=t-De,i=ue(n*n+r*r);nr+=i*(Oe+e)/2,rr+=i*(De+t)/2,gt+=i,ft(Oe=e,De=t)}function Fa(){Fe.point=ft}function Vl(){Fe.point=Ql}function Zl(){jo(Io,Bo)}function Ql(e,t){Fe.point=jo,ft(Io=Oe=e,Bo=De=t)}function jo(e,t){var n=e-Oe,r=t-De,i=ue(n*n+r*r);nr+=i*(Oe+e)/2,rr+=i*(De+t)/2,gt+=i,i=De*e-Oe*t,ai+=i*(Oe+e),oi+=i*(De+t),Dt+=i*3,ft(Oe=e,De=t)}const La=Fe;function qo(e){this._context=e}qo.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ye);break}}},result:ae};var si=new de,Nr,Go,Yo,zt,It,ir={point:ae,lineStart:function(){ir.point=Kl},lineEnd:function(){Nr&&Uo(Go,Yo),ir.point=ae},polygonStart:function(){Nr=!0},polygonEnd:function(){Nr=null},result:function(){var e=+si;return si=new de,e}};function Kl(e,t){ir.point=Uo,Go=zt=e,Yo=It=t}function Uo(e,t){zt-=e,It-=t,si.add(ue(zt*zt+It*It)),zt=e,It=t}const Ta=ir;function Wo(){this._string=[]}Wo.prototype={_radius:4.5,_circle:$a(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=$a(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function $a(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Xo(e,t){var n=4.5,r,i;function a(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Re(o,r(i))),i.result()}return a.area=function(o){return Re(o,r(ka)),ka.result()},a.measure=function(o){return Re(o,r(Ta)),Ta.result()},a.bounds=function(o){return Re(o,r(tr)),tr.result()},a.centroid=function(o){return Re(o,r(La)),La.result()},a.projection=function(o){return arguments.length?(r=o==null?(e=null,Vt):(e=o).stream,a):e},a.context=function(o){return arguments.length?(i=o==null?(t=null,new Wo):new qo(t=o),typeof n!="function"&&i.pointRadius(n),a):t},a.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),a):n},a.projection(e).context(t)}function Jl(e){return{stream:dn(e)}}function dn(e){return function(t){var n=new li;for(var r in e)n[r]=e[r];return n.stream=t,n}}function li(){}li.prototype={constructor:li,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function _i(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Re(n,e.stream(tr)),t(tr.result()),r!=null&&e.clipExtent(r),e}function mr(e,t,n){return _i(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),l=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([l,c])},n)}function Ni(e,t,n){return mr(e,[[0,0],t],n)}function Si(e,t,n){return _i(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,l=-a*r[0][1];e.scale(150*a).translate([o,l])},n)}function Ai(e,t,n){return _i(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],l=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,l])},n)}var Oa=16,ec=O(30*j);function Da(e,t){return+t?nc(e,t):tc(e)}function tc(e){return dn({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function nc(e,t){function n(r,i,a,o,l,c,f,s,u,d,h,g,E,_){var b=f-r,N=s-i,x=b*b+N*N;if(x>4*t&&E--){var w=o+d,A=l+h,P=c+g,D=ue(w*w+A*A+P*P),T=be(P/=D),q=J(J(P)-1)<B||J(a-u)<B?(a+u)/2:xe(A,w),z=e(q,T),$=z[0],U=z[1],Z=$-r,v=U-i,y=N*Z-b*v;(y*y/x>t||J((b*Z+N*v)/x-.5)>.3||o*d+l*h+c*g<ec)&&(n(r,i,a,o,l,c,$,U,q,w/=D,A/=D,P,E,_),_.point($,U),n($,U,q,w,A,P,f,s,u,d,h,g,E,_))}}return function(r){var i,a,o,l,c,f,s,u,d,h,g,E,_={point:b,lineStart:N,lineEnd:w,polygonStart:function(){r.polygonStart(),_.lineStart=A},polygonEnd:function(){r.polygonEnd(),_.lineStart=N}};function b(T,q){T=e(T,q),r.point(T[0],T[1])}function N(){u=NaN,_.point=x,r.lineStart()}function x(T,q){var z=ut([T,q]),$=e(T,q);n(u,d,s,h,g,E,u=$[0],d=$[1],s=T,h=z[0],g=z[1],E=z[2],Oa,r),r.point(u,d)}function w(){_.point=b,r.lineEnd()}function A(){N(),_.point=P,_.lineEnd=D}function P(T,q){x(i=T,q),a=u,o=d,l=h,c=g,f=E,_.point=x}function D(){n(u,d,s,h,g,E,a,o,i,l,c,f,Oa,r),_.lineEnd=w,w()}return _}}var rc=dn({point:function(e,t){this.stream.point(e*j,t*j)}});function ic(e){return dn({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function ac(e,t,n,r,i){function a(o,l){return o*=r,l*=i,[t+e*o,n-e*l]}return a.invert=function(o,l){return[(o-t)/e*r,(n-l)/e*i]},a}function za(e,t,n,r,i,a){if(!a)return ac(e,t,n,r,i);var o=O(a),l=L(a),c=o*e,f=l*e,s=o/e,u=l/e,d=(l*n-o*t)/e,h=(l*t+o*n)/e;function g(E,_){return E*=r,_*=i,[c*E-f*_+t,n-f*E-c*_]}return g.invert=function(E,_){return[r*(s*E-u*_+d),i*(h-u*E-s*_)]},g}function je(e){return Ci(function(){return e})()}function Ci(e){var t,n=150,r=480,i=250,a=0,o=0,l=0,c=0,f=0,s,u=0,d=1,h=1,g=null,E=Zr,_=null,b,N,x,w=Vt,A=.5,P,D,T,q,z;function $(y){return T(y[0]*j,y[1]*j)}function U(y){return y=T.invert(y[0],y[1]),y&&[y[0]*te,y[1]*te]}$.stream=function(y){return q&&z===y?q:q=rc(ic(s)(E(P(w(z=y)))))},$.preclip=function(y){return arguments.length?(E=y,g=void 0,v()):E},$.postclip=function(y){return arguments.length?(w=y,_=b=N=x=null,v()):w},$.clipAngle=function(y){return arguments.length?(E=+y?Lo(g=y*j):(g=null,Zr),v()):g*te},$.clipExtent=function(y){return arguments.length?(w=y==null?(_=b=N=x=null,Vt):pr(_=+y[0][0],b=+y[0][1],N=+y[1][0],x=+y[1][1]),v()):_==null?null:[[_,b],[N,x]]},$.scale=function(y){return arguments.length?(n=+y,Z()):n},$.translate=function(y){return arguments.length?(r=+y[0],i=+y[1],Z()):[r,i]},$.center=function(y){return arguments.length?(a=y[0]%360*j,o=y[1]%360*j,Z()):[a*te,o*te]},$.rotate=function(y){return arguments.length?(l=y[0]%360*j,c=y[1]%360*j,f=y.length>2?y[2]%360*j:0,Z()):[l*te,c*te,f*te]},$.angle=function(y){return arguments.length?(u=y%360*j,Z()):u*te},$.reflectX=function(y){return arguments.length?(d=y?-1:1,Z()):d<0},$.reflectY=function(y){return arguments.length?(h=y?-1:1,Z()):h<0},$.precision=function(y){return arguments.length?(P=Da(D,A=y*y),v()):ue(A)},$.fitExtent=function(y,m){return mr($,y,m)},$.fitSize=function(y,m){return Ni($,y,m)},$.fitWidth=function(y,m){return Si($,y,m)},$.fitHeight=function(y,m){return Ai($,y,m)};function Z(){var y=za(n,0,0,d,h,u).apply(null,t(a,o)),m=za(n,r-y[0],i-y[1],d,h,u);return s=wi(l,c,f),D=Hr(t,m),T=Hr(s,D),P=Da(D,A),v()}function v(){return q=z=null,$}return function(){return t=e.apply(this,arguments),$.invert=t.invert&&U,Z()}}function Pi(e){var t=0,n=V/3,r=Ci(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*j,n=a[1]*j):[t*te,n*te]},i}function oc(e){var t=O(e);function n(r,i){return[r*t,L(i)/t]}return n.invert=function(r,i){return[r/t,be(i*t)]},n}function Ho(e,t){var n=L(e),r=(n+L(t))/2;if(J(r)<B)return oc(e);var i=1+n*(2*r-n),a=ue(i)/r;function o(l,c){var f=ue(i-2*r*L(c))/r;return[f*L(l*=r),a-f*O(l)]}return o.invert=function(l,c){var f=a-c,s=xe(l,J(f))*Pe(f);return f*r<0&&(s-=V*Pe(l)*Pe(f)),[s/r,be((i-(l*l+f*f)*r*r)/(2*r))]},o}function ar(){return Pi(Ho).scale(155.424).center([0,33.6442])}function Vo(){return ar().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sc(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function lc(){var e,t,n=Vo(),r,i=ar().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ar().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,c,f={point:function(d,h){c=[d,h]}};function s(d){var h=d[0],g=d[1];return c=null,r.point(h,g),c||(a.point(h,g),c)||(l.point(h,g),c)}s.invert=function(d){var h=n.scale(),g=n.translate(),E=(d[0]-g[0])/h,_=(d[1]-g[1])/h;return(_>=.12&&_<.234&&E>=-.425&&E<-.214?i:_>=.166&&_<.234&&E>=-.214&&E<-.115?o:n).invert(d)},s.stream=function(d){return e&&t===d?e:e=sc([n.stream(t=d),i.stream(d),o.stream(d)])},s.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),u()):n.precision()},s.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),s.translate(n.translate())):n.scale()},s.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),g=+d[0],E=+d[1];return r=n.translate(d).clipExtent([[g-.455*h,E-.238*h],[g+.455*h,E+.238*h]]).stream(f),a=i.translate([g-.307*h,E+.201*h]).clipExtent([[g-.425*h+B,E+.12*h+B],[g-.214*h-B,E+.234*h-B]]).stream(f),l=o.translate([g-.205*h,E+.212*h]).clipExtent([[g-.214*h+B,E+.166*h+B],[g-.115*h-B,E+.234*h-B]]).stream(f),u()},s.fitExtent=function(d,h){return mr(s,d,h)},s.fitSize=function(d,h){return Ni(s,d,h)},s.fitWidth=function(d,h){return Si(s,d,h)},s.fitHeight=function(d,h){return Ai(s,d,h)};function u(){return e=t=null,s}return s.scale(1070)}function Zo(e){return function(t,n){var r=O(t),i=O(n),a=e(r*i);return a===1/0?[2,0]:[a*i*L(t),a*L(n)]}}function pn(e){return function(t,n){var r=ue(t*t+n*n),i=e(r),a=L(i),o=O(i);return[xe(t*a,r*o),be(r&&n*a/r)]}}var Mi=Zo(function(e){return ue(2/(1+e))});Mi.invert=pn(function(e){return 2*be(e/2)});function cc(){return je(Mi).scale(124.75).clipAngle(180-.001)}var ki=Zo(function(e){return(e=go(e))&&e/L(e)});ki.invert=pn(function(e){return e});function uc(){return je(ki).scale(79.4188).clipAngle(180-.001)}function mn(e,t){return[e,zn(xi((se+t)/2))]}mn.invert=function(e,t){return[e,2*Mt(mo(t))-se]};function fc(){return Qo(mn).scale(961/ye)}function Qo(e){var t=je(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,l,c,f;t.scale=function(u){return arguments.length?(r(u),s()):r()},t.translate=function(u){return arguments.length?(i(u),s()):i()},t.center=function(u){return arguments.length?(n(u),s()):n()},t.clipExtent=function(u){return arguments.length?(u==null?o=l=c=f=null:(o=+u[0][0],l=+u[0][1],c=+u[1][0],f=+u[1][1]),s()):o==null?null:[[o,l],[c,f]]};function s(){var u=V*r(),d=t(Co(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-u,d[1]-u],[d[0]+u,d[1]+u]]:e===mn?[[Math.max(d[0]-u,o),l],[Math.min(d[0]+u,c),f]]:[[o,Math.max(d[1]-u,l)],[c,Math.min(d[1]+u,f)]])}return s()}function _n(e){return xi((se+e)/2)}function Ko(e,t){var n=O(e),r=e===t?L(e):zn(n/O(t))/zn(_n(t)/_n(e)),i=n*br(_n(e),r)/r;if(!r)return mn;function a(o,l){i>0?l<-se+B&&(l=-se+B):l>se-B&&(l=se-B);var c=i/br(_n(l),r);return[c*L(r*o),i-c*O(r*o)]}return a.invert=function(o,l){var c=i-l,f=Pe(r)*ue(o*o+c*c),s=xe(o,J(c))*Pe(c);return c*r<0&&(s-=V*Pe(o)*Pe(c)),[s/r,2*Mt(br(i/f,1/r))-se]},a}function hc(){return Pi(Ko).scale(109.5).parallels([30,30])}function Qt(e,t){return[e,t]}Qt.invert=Qt;function dc(){return je(Qt).scale(152.63)}function Jo(e,t){var n=O(e),r=e===t?L(e):(n-O(t))/(t-e),i=n/r+e;if(J(r)<B)return Qt;function a(o,l){var c=i-l,f=r*o;return[c*L(f),i-c*O(f)]}return a.invert=function(o,l){var c=i-l,f=xe(o,J(c))*Pe(c);return c*r<0&&(f-=V*Pe(o)*Pe(c)),[f/r,i-Pe(r)*ue(o*o+c*c)]},a}function pc(){return Pi(Jo).scale(131.154).center([0,13.9389])}var Yt=1.340264,Ut=-.081106,Wt=893e-6,Xt=.003796,or=ue(3)/2,mc=12;function Ri(e,t){var n=be(or*L(t)),r=n*n,i=r*r*r;return[e*O(n)/(or*(Yt+3*Ut*r+i*(7*Wt+9*Xt*r))),n*(Yt+Ut*r+i*(Wt+Xt*r))]}Ri.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,l,c;a<mc&&(l=n*(Yt+Ut*r+i*(Wt+Xt*r))-t,c=Yt+3*Ut*r+i*(7*Wt+9*Xt*r),n-=o=l/c,r=n*n,i=r*r*r,!(J(o)<Ht));++a);return[or*e*(Yt+3*Ut*r+i*(7*Wt+9*Xt*r))/O(n),be(L(n)/or)]};function gc(){return je(Ri).scale(177.158)}function Fi(e,t){var n=O(t),r=O(e)*n;return[n*L(e)/r,L(t)/r]}Fi.invert=pn(Mt);function vc(){return je(Fi).scale(144.049).clipAngle(60)}function yc(){var e=1,t=0,n=0,r=1,i=1,a=0,o,l,c=null,f,s,u,d=1,h=1,g=dn({point:function(w,A){var P=x([w,A]);this.stream.point(P[0],P[1])}}),E=Vt,_,b;function N(){return d=e*r,h=e*i,_=b=null,x}function x(w){var A=w[0]*d,P=w[1]*h;if(a){var D=P*o-A*l;A=A*o+P*l,P=D}return[A+t,P+n]}return x.invert=function(w){var A=w[0]-t,P=w[1]-n;if(a){var D=P*o+A*l;A=A*o-P*l,P=D}return[A/d,P/h]},x.stream=function(w){return _&&b===w?_:_=g(E(b=w))},x.postclip=function(w){return arguments.length?(E=w,c=f=s=u=null,N()):E},x.clipExtent=function(w){return arguments.length?(E=w==null?(c=f=s=u=null,Vt):pr(c=+w[0][0],f=+w[0][1],s=+w[1][0],u=+w[1][1]),N()):c==null?null:[[c,f],[s,u]]},x.scale=function(w){return arguments.length?(e=+w,N()):e},x.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],N()):[t,n]},x.angle=function(w){return arguments.length?(a=w%360*j,l=L(a),o=O(a),N()):a*te},x.reflectX=function(w){return arguments.length?(r=w?-1:1,N()):r<0},x.reflectY=function(w){return arguments.length?(i=w?-1:1,N()):i<0},x.fitExtent=function(w,A){return mr(x,w,A)},x.fitSize=function(w,A){return Ni(x,w,A)},x.fitWidth=function(w,A){return Si(x,w,A)},x.fitHeight=function(w,A){return Ai(x,w,A)},x}function Li(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Li.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-t)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(J(i)>B&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function xc(){return je(Li).scale(175.295)}function Ti(e,t){return[O(t)*L(e),L(t)]}Ti.invert=pn(be);function bc(){return je(Ti).scale(249.5).clipAngle(90+B)}function $i(e,t){var n=O(t),r=1+O(e)*n;return[n*L(e)/r,L(t)/r]}$i.invert=pn(function(e){return 2*Mt(e)});function wc(){return je($i).scale(250).clipAngle(142)}function Oi(e,t){return[zn(xi((se+t)/2)),-e]}Oi.invert=function(e,t){return[-t,2*Mt(mo(e))-se]};function Ec(){var e=Qo(Oi),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const _c=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:Vo,geoAlbersUsa:lc,geoArea:pl,geoAzimuthalEqualArea:cc,geoAzimuthalEqualAreaRaw:Mi,geoAzimuthalEquidistant:uc,geoAzimuthalEquidistantRaw:ki,geoBounds:yl,geoCentroid:Nl,geoCircle:Sl,geoClipAntimeridian:Zr,geoClipCircle:Lo,geoClipExtent:Fl,geoClipRectangle:pr,geoConicConformal:hc,geoConicConformalRaw:Ko,geoConicEqualArea:ar,geoConicEqualAreaRaw:Ho,geoConicEquidistant:pc,geoConicEquidistantRaw:Jo,geoContains:Il,geoDistance:Qn,geoEqualEarth:gc,geoEqualEarthRaw:Ri,geoEquirectangular:dc,geoEquirectangularRaw:Qt,geoGnomonic:vc,geoGnomonicRaw:Fi,geoGraticule:Ei,geoGraticule10:Bl,geoIdentity:yc,geoInterpolate:jl,geoLength:To,geoMercator:fc,geoMercatorRaw:mn,geoNaturalEarth1:xc,geoNaturalEarth1Raw:Li,geoOrthographic:bc,geoOrthographicRaw:Ti,geoPath:Xo,geoProjection:je,geoProjectionMutator:Ci,geoRotation:Co,geoStereographic:wc,geoStereographicRaw:$i,geoStream:Re,geoTransform:Jl,geoTransverseMercator:Ec,geoTransverseMercatorRaw:Oi},Symbol.toStringTag,{value:"Module"}));function Nc(e){return e}function Sc(e){if(e==null)return Nc;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(l,c){c||(t=n=0);var f=2,s=l.length,u=new Array(s);for(u[0]=(t+=l[0])*r+a,u[1]=(n+=l[1])*i+o;f<s;)u[f]=l[f],++f;return u}}function Ac(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Cc(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Ia(e,n)})}:Ia(e,t)}function Ia(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=es(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function es(e,t){var n=Sc(e.transform),r=e.arcs;function i(s,u){u.length&&u.pop();for(var d=r[s<0?~s:s],h=0,g=d.length;h<g;++h)u.push(n(d[h],h));s<0&&Ac(u,g)}function a(s){return n(s)}function o(s){for(var u=[],d=0,h=s.length;d<h;++d)i(s[d],u);return u.length<2&&u.push(u[0]),u}function l(s){for(var u=o(s);u.length<4;)u.push(u[0]);return u}function c(s){return s.map(l)}function f(s){var u=s.type,d;switch(u){case"GeometryCollection":return{type:u,geometries:s.geometries.map(f)};case"Point":d=a(s.coordinates);break;case"MultiPoint":d=s.coordinates.map(a);break;case"LineString":d=o(s.arcs);break;case"MultiLineString":d=s.arcs.map(o);break;case"Polygon":d=c(s.arcs);break;case"MultiPolygon":d=s.arcs.map(c);break;default:return null}return{type:u,coordinates:d}}return f(t)}function Pc(e,t){var n={},r={},i={},a=[],o=-1;t.forEach(function(f,s){var u=e.arcs[f<0?~f:f],d;u.length<3&&!u[1][0]&&!u[1][1]&&(d=t[++o],t[o]=f,t[s]=d)}),t.forEach(function(f){var s=l(f),u=s[0],d=s[1],h,g;if(h=i[u])if(delete i[h.end],h.push(f),h.end=d,g=r[d]){delete r[g.start];var E=g===h?h:h.concat(g);r[E.start=h.start]=i[E.end=g.end]=E}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(f),h.start=u,g=i[u]){delete i[g.end];var _=g===h?h:g.concat(h);r[_.start=g.start]=i[_.end=h.end]=_}else r[h.start]=i[h.end]=h;else h=[f],r[h.start=u]=i[h.end=d]=h});function l(f){var s=e.arcs[f<0?~f:f],u=s[0],d;return e.transform?(d=[0,0],s.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=s[s.length-1],f<0?[d,u]:[u,d]}function c(f,s){for(var u in f){var d=f[u];delete s[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),a.push(d)}}return c(i,r),c(r,i),t.forEach(function(f){n[f<0?~f:f]||a.push([f])}),a}function Ba(e){return es(e,Mc.apply(this,arguments))}function Mc(e,t,n){var r,i,a;if(arguments.length>1)r=kc(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Pc(e,r)}}function kc(e,t,n){var r=[],i=[],a;function o(u){var d=u<0?~u:u;(i[d]||(i[d]=[])).push({i:u,g:a})}function l(u){u.forEach(o)}function c(u){u.forEach(l)}function f(u){u.forEach(c)}function s(u){switch(a=u,u.type){case"GeometryCollection":u.geometries.forEach(s);break;case"LineString":l(u.arcs);break;case"MultiLineString":case"Polygon":c(u.arcs);break;case"MultiPolygon":f(u.arcs);break}}return s(t),i.forEach(n==null?function(u){r.push(u[0].i)}:function(u){n(u[0].g,u[u.length-1].g)&&r.push(u[0].i)}),r}var Rc={value:()=>{}};function Di(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Fn(n)}function Fn(e){this._=e}function Fc(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Fn.prototype=Di.prototype={constructor:Fn,on:function(e,t){var n=this._,r=Fc(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=Lc(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=ja(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ja(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Fn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function Lc(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ja(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Rc,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ci="http://www.w3.org/1999/xhtml";const qa={svg:"http://www.w3.org/2000/svg",xhtml:ci,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qa.hasOwnProperty(t)?{space:qa[t],local:e}:e}function Tc(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ci&&t.documentElement.namespaceURI===ci?t.createElement(e):t.createElementNS(n,e)}}function $c(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ts(e){var t=gr(e);return(t.local?$c:Tc)(t)}function Oc(){}function zi(e){return e==null?Oc:function(){return this.querySelector(e)}}function Dc(e){typeof e!="function"&&(e=zi(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),c,f,s=0;s<o;++s)(c=a[s])&&(f=e.call(c,c.__data__,s,a))&&("__data__"in c&&(f.__data__=c.__data__),l[s]=f);return new _e(r,this._parents)}function ns(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zc(){return[]}function rs(e){return e==null?zc:function(){return this.querySelectorAll(e)}}function Ic(e){return function(){var t=e.apply(this,arguments);return t==null?[]:ns(t)}}function Bc(e){typeof e=="function"?e=Ic(e):e=rs(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,c,f=0;f<l;++f)(c=o[f])&&(r.push(e.call(c,c.__data__,f,o)),i.push(c));return new _e(r,i)}function is(e){return function(){return this.matches(e)}}function as(e){return function(t){return t.matches(e)}}var jc=Array.prototype.find;function qc(e){return function(){return jc.call(this.children,e)}}function Gc(){return this.firstElementChild}function Yc(e){return this.select(e==null?Gc:qc(typeof e=="function"?e:as(e)))}var Uc=Array.prototype.filter;function Wc(){return this.children}function Xc(e){return function(){return Uc.call(this.children,e)}}function Hc(e){return this.selectAll(e==null?Wc:Xc(typeof e=="function"?e:as(e)))}function Vc(e){typeof e!="function"&&(e=is(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],c,f=0;f<o;++f)(c=a[f])&&e.call(c,c.__data__,f,a)&&l.push(c);return new _e(r,this._parents)}function os(e){return new Array(e.length)}function Zc(){return new _e(this._enter||this._groups.map(os),this._parents)}function sr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}sr.prototype={constructor:sr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Qc(e){return function(){return e}}function Kc(e,t,n,r,i,a){for(var o=0,l,c=t.length,f=a.length;o<f;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new sr(e,a[o]);for(;o<c;++o)(l=t[o])&&(i[o]=l)}function Jc(e,t,n,r,i,a,o){var l,c,f=new Map,s=t.length,u=a.length,d=new Array(s),h;for(l=0;l<s;++l)(c=t[l])&&(d[l]=h=o.call(c,c.__data__,l,t)+"",f.has(h)?i[l]=c:f.set(h,c));for(l=0;l<u;++l)h=o.call(e,a[l],l,a)+"",(c=f.get(h))?(r[l]=c,c.__data__=a[l],f.delete(h)):n[l]=new sr(e,a[l]);for(l=0;l<s;++l)(c=t[l])&&f.get(d[l])===c&&(i[l]=c)}function eu(e){return e.__data__}function tu(e,t){if(!arguments.length)return Array.from(this,eu);var n=t?Jc:Kc,r=this._parents,i=this._groups;typeof e!="function"&&(e=Qc(e));for(var a=i.length,o=new Array(a),l=new Array(a),c=new Array(a),f=0;f<a;++f){var s=r[f],u=i[f],d=u.length,h=ns(e.call(s,s&&s.__data__,f,r)),g=h.length,E=l[f]=new Array(g),_=o[f]=new Array(g),b=c[f]=new Array(d);n(s,u,E,_,b,h,t);for(var N=0,x=0,w,A;N<g;++N)if(w=E[N]){for(N>=x&&(x=N+1);!(A=_[x])&&++x<g;);w._next=A||null}}return o=new _e(o,r),o._enter=l,o._exit=c,o}function nu(){return new _e(this._exit||this._groups.map(os),this._parents)}function ru(e,t,n){var r=this.enter(),i=this,a=this.exit();return r=typeof e=="function"?e(r):r.append(e+""),t!=null&&(i=t(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function iu(e){if(!(e instanceof _e))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var c=t[l],f=n[l],s=c.length,u=o[l]=new Array(s),d,h=0;h<s;++h)(d=c[h]||f[h])&&(u[h]=d);for(;l<r;++l)o[l]=t[l];return new _e(o,this._parents)}function au(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function ou(e){e||(e=su);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,c=i[a]=new Array(l),f,s=0;s<l;++s)(f=o[s])&&(c[s]=f);c.sort(t)}return new _e(i,this._parents).order()}function su(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function lu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cu(){return Array.from(this)}function uu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function fu(){let e=0;for(const t of this)++e;return e}function hu(){return!this.node()}function du(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function pu(e){return function(){this.removeAttribute(e)}}function mu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gu(e,t){return function(){this.setAttribute(e,t)}}function vu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function xu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bu(e,t){var n=gr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?mu:pu:typeof t=="function"?n.local?xu:yu:n.local?vu:gu)(n,t))}function ss(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wu(e){return function(){this.style.removeProperty(e)}}function Eu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _u(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Nu(e,t,n){return arguments.length>1?this.each((t==null?wu:typeof t=="function"?_u:Eu)(e,t,n??"")):Ct(this.node(),e)}function Ct(e,t){return e.style.getPropertyValue(t)||ss(e).getComputedStyle(e,null).getPropertyValue(t)}function Su(e){return function(){delete this[e]}}function Au(e,t){return function(){this[e]=t}}function Cu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pu(e,t){return arguments.length>1?this.each((t==null?Su:typeof t=="function"?Cu:Au)(e,t)):this.node()[e]}function ls(e){return e.trim().split(/^|\s+/)}function Ii(e){return e.classList||new cs(e)}function cs(e){this._node=e,this._names=ls(e.getAttribute("class")||"")}cs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function us(e,t){for(var n=Ii(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function fs(e,t){for(var n=Ii(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Mu(e){return function(){us(this,e)}}function ku(e){return function(){fs(this,e)}}function Ru(e,t){return function(){(t.apply(this,arguments)?us:fs)(this,e)}}function Fu(e,t){var n=ls(e+"");if(arguments.length<2){for(var r=Ii(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ru:t?Mu:ku)(n,t))}function Lu(){this.textContent=""}function Tu(e){return function(){this.textContent=e}}function $u(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ou(e){return arguments.length?this.each(e==null?Lu:(typeof e=="function"?$u:Tu)(e)):this.node().textContent}function Du(){this.innerHTML=""}function zu(e){return function(){this.innerHTML=e}}function Iu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Bu(e){return arguments.length?this.each(e==null?Du:(typeof e=="function"?Iu:zu)(e)):this.node().innerHTML}function ju(){this.nextSibling&&this.parentNode.appendChild(this)}function qu(){return this.each(ju)}function Gu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yu(){return this.each(Gu)}function Uu(e){var t=typeof e=="function"?e:ts(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Wu(){return null}function Xu(e,t){var n=typeof e=="function"?e:ts(e),r=t==null?Wu:typeof t=="function"?t:zi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hu(){var e=this.parentNode;e&&e.removeChild(this)}function Vu(){return this.each(Hu)}function Zu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ku(e){return this.select(e?Qu:Zu)}function Ju(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ef(e){return function(t){e.call(this,t,this.__data__)}}function tf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function rf(e,t,n){return function(){var r=this.__on,i,a=ef(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function af(e,t,n){var r=tf(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,f=l.length,s;c<f;++c)for(i=0,s=l[c];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}return}for(l=t?rf:nf,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function hs(e,t,n){var r=ss(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function of(e,t){return function(){return hs(this,e,t)}}function sf(e,t){return function(){return hs(this,e,t.apply(this,arguments))}}function lf(e,t){return this.each((typeof t=="function"?sf:of)(e,t))}function*cf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var ds=[null];function _e(e,t){this._groups=e,this._parents=t}function gn(){return new _e([[document.documentElement]],ds)}function uf(){return this}_e.prototype=gn.prototype={constructor:_e,select:Dc,selectAll:Bc,selectChild:Yc,selectChildren:Hc,filter:Vc,data:tu,enter:Zc,exit:nu,join:ru,merge:iu,selection:uf,order:au,sort:ou,call:lu,nodes:cu,node:uu,size:fu,empty:hu,each:du,attr:bu,style:Nu,property:Pu,classed:Fu,text:Ou,html:Bu,raise:qu,lower:Yu,append:Uu,insert:Xu,remove:Vu,clone:Ku,datum:Ju,on:af,dispatch:lf,[Symbol.iterator]:cf};function Ue(e){return typeof e=="string"?new _e([[document.querySelector(e)]],[document.documentElement]):new _e([[e]],ds)}function ff(e){let t;for(;t=e.sourceEvent;)e=t;return e}function rt(e,t){if(e=ff(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function hf(e){var t=e.document.documentElement,n=Ue(e).on("dragstart.drag",ui,!0);"onselectstart"in t?n.on("selectstart.drag",ui,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function df(e,t){var n=e.document.documentElement,r=Ue(e).on("dragstart.drag",null);t&&(r.on("click.drag",ui,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var pf=1e-12;function Ga(e){return((e=Math.exp(e))+1/e)/2}function mf(e){return((e=Math.exp(e))-1/e)/2}function gf(e){return((e=Math.exp(2*e))-1)/(e+1)}const vf=function e(t,n,r){function i(a,o){var l=a[0],c=a[1],f=a[2],s=o[0],u=o[1],d=o[2],h=s-l,g=u-c,E=h*h+g*g,_,b;if(E<pf)b=Math.log(d/f)/t,_=function(D){return[l+D*h,c+D*g,f*Math.exp(t*D*b)]};else{var N=Math.sqrt(E),x=(d*d-f*f+r*E)/(2*f*n*N),w=(d*d-f*f-r*E)/(2*d*n*N),A=Math.log(Math.sqrt(x*x+1)-x),P=Math.log(Math.sqrt(w*w+1)-w);b=(P-A)/t,_=function(D){var T=D*b,q=Ga(A),z=f/(n*N)*(q*gf(t*T+A)-mf(A));return[l+z*h,c+z*g,f*q/Ga(t*T+A)]}}return _.duration=b*1e3*t/Math.SQRT2,_}return i.rho=function(a){var o=Math.max(.001,+a),l=o*o,c=l*l;return e(o,l,c)},i}(Math.SQRT2,2,4);var Pt=0,Bt=0,Rt=0,ps=1e3,lr,jt,cr=0,ht=0,vr=0,Kt=typeof performance=="object"&&performance.now?performance:Date,ms=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Bi(){return ht||(ms(yf),ht=Kt.now()+vr)}function yf(){ht=0}function ur(){this._call=this._time=this._next=null}ur.prototype=gs.prototype={constructor:ur,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Bi():+n)+(t==null?0:+t),!this._next&&jt!==this&&(jt?jt._next=this:lr=this,jt=this),this._call=e,this._time=n,fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,fi())}};function gs(e,t,n){var r=new ur;return r.restart(e,t,n),r}function xf(){Bi(),++Pt;for(var e=lr,t;e;)(t=ht-e._time)>=0&&e._call.call(null,t),e=e._next;--Pt}function Ya(){ht=(cr=Kt.now())+vr,Pt=Bt=0;try{xf()}finally{Pt=0,wf(),ht=0}}function bf(){var e=Kt.now(),t=e-cr;t>ps&&(vr-=t,cr=e)}function wf(){for(var e,t=lr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:lr=n);jt=e,fi(r)}function fi(e){if(!Pt){Bt&&(Bt=clearTimeout(Bt));var t=e-ht;t>24?(e<1/0&&(Bt=setTimeout(Ya,e-Kt.now()-vr)),Rt&&(Rt=clearInterval(Rt))):(Rt||(cr=Kt.now(),Rt=setInterval(bf,ps)),Pt=1,ms(Ya))}}function Ua(e,t,n){var r=new ur;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Ef=Di("start","end","cancel","interrupt"),_f=[],vs=0,Wa=1,hi=2,Ln=3,Xa=4,di=5,Tn=6;function yr(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Nf(e,n,{name:t,index:r,group:i,on:Ef,tween:_f,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vs})}function ji(e,t){var n=Te(e,t);if(n.state>vs)throw new Error("too late; already scheduled");return n}function qe(e,t){var n=Te(e,t);if(n.state>Ln)throw new Error("too late; already running");return n}function Te(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Nf(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=gs(a,0,n.time);function a(f){n.state=Wa,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var s,u,d,h;if(n.state!==Wa)return c();for(s in r)if(h=r[s],h.name===n.name){if(h.state===Ln)return Ua(o);h.state===Xa?(h.state=Tn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[s]):+s<t&&(h.state=Tn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[s])}if(Ua(function(){n.state===Ln&&(n.state=Xa,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=hi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===hi){for(n.state=Ln,i=new Array(d=n.tween.length),s=0,u=-1;s<d;++s)(h=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function l(f){for(var s=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=di,1),u=-1,d=i.length;++u<d;)i[u].call(e,s);n.state===di&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Tn,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function $n(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>hi&&r.state<di,r.state=Tn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function Sf(e){return this.each(function(){$n(this,e)})}function qi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ys(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vn(){}var Jt=.7,fr=1/Jt,xt="\\s*([+-]?\\d+)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Af=/^#([0-9a-f]{3,8})$/,Cf=new RegExp("^rgb\\("+[xt,xt,xt]+"\\)$"),Pf=new RegExp("^rgb\\("+[Ie,Ie,Ie]+"\\)$"),Mf=new RegExp("^rgba\\("+[xt,xt,xt,en]+"\\)$"),kf=new RegExp("^rgba\\("+[Ie,Ie,Ie,en]+"\\)$"),Rf=new RegExp("^hsl\\("+[en,Ie,Ie]+"\\)$"),Ff=new RegExp("^hsla\\("+[en,Ie,Ie,en]+"\\)$"),Ha={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qi(vn,tn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Va,formatHex:Va,formatHsl:Lf,formatRgb:Za,toString:Za});function Va(){return this.rgb().formatHex()}function Lf(){return xs(this).formatHsl()}function Za(){return this.rgb().formatRgb()}function tn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Af.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qa(t):n===3?new Ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cf.exec(e))?new Ce(t[1],t[2],t[3],1):(t=Pf.exec(e))?new Ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mf.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=kf.exec(e))?Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rf.exec(e))?eo(t[1],t[2]/100,t[3]/100,1):(t=Ff.exec(e))?eo(t[1],t[2]/100,t[3]/100,t[4]):Ha.hasOwnProperty(e)?Qa(Ha[e]):e==="transparent"?new Ce(NaN,NaN,NaN,0):null}function Qa(e){return new Ce(e>>16&255,e>>8&255,e&255,1)}function Nn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ce(e,t,n,r)}function Tf(e){return e instanceof vn||(e=tn(e)),e?(e=e.rgb(),new Ce(e.r,e.g,e.b,e.opacity)):new Ce}function pi(e,t,n,r){return arguments.length===1?Tf(e):new Ce(e,t,n,r??1)}function Ce(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}qi(Ce,pi,ys(vn,{brighter:function(e){return e=e==null?fr:Math.pow(fr,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Jt:Math.pow(Jt,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ka,formatHex:Ka,formatRgb:Ja,toString:Ja}));function Ka(){return"#"+Sr(this.r)+Sr(this.g)+Sr(this.b)}function Ja(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Sr(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function eo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ze(e,t,n,r)}function xs(e){if(e instanceof ze)return new ze(e.h,e.s,e.l,e.opacity);if(e instanceof vn||(e=tn(e)),!e)return new ze;if(e instanceof ze)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new ze(o,l,c,e.opacity)}function $f(e,t,n,r){return arguments.length===1?xs(e):new ze(e,t,n,r??1)}function ze(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}qi(ze,$f,ys(vn,{brighter:function(e){return e=e==null?fr:Math.pow(fr,e),new ze(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Jt:Math.pow(Jt,e),new ze(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ce(Ar(e>=240?e-240:e+120,i,r),Ar(e,i,r),Ar(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Ar(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const bs=e=>()=>e;function Of(e,t){return function(n){return e+n*t}}function Df(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function zf(e){return(e=+e)==1?ws:function(t,n){return n-t?Df(t,n,e):bs(isNaN(t)?n:t)}}function ws(e,t){var n=t-e;return n?Of(e,n):bs(isNaN(e)?t:e)}const to=function e(t){var n=zf(t);function r(i,a){var o=n((i=pi(i)).r,(a=pi(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=ws(i.opacity,a.opacity);return function(s){return i.r=o(s),i.g=l(s),i.b=c(s),i.opacity=f(s),i+""}}return r.gamma=e,r}(1);function Qe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cr=new RegExp(mi.source,"g");function If(e){return function(){return e}}function Bf(e){return function(t){return e(t)+""}}function jf(e,t){var n=mi.lastIndex=Cr.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=mi.exec(e))&&(i=Cr.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Qe(r,i)})),n=Cr.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Bf(c[0].x):If(t):(t=c.length,function(f){for(var s=0,u;s<t;++s)l[(u=c[s]).i]=u.x(f);return l.join("")})}var no=180/Math.PI,gi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Es(e,t,n,r,i,a){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),e*r<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*no,skewX:Math.atan(c)*no,scaleX:o,scaleY:l}}var Sn;function qf(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gi:Es(t.a,t.b,t.c,t.d,t.e,t.f)}function Gf(e){return e==null||(Sn||(Sn=document.createElementNS("http://www.w3.org/2000/svg","g")),Sn.setAttribute("transform",e),!(e=Sn.transform.baseVal.consolidate()))?gi:(e=e.matrix,Es(e.a,e.b,e.c,e.d,e.e,e.f))}function _s(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,s,u,d,h,g){if(f!==u||s!==d){var E=h.push("translate(",null,t,null,n);g.push({i:E-4,x:Qe(f,u)},{i:E-2,x:Qe(s,d)})}else(u||d)&&h.push("translate("+u+t+d+n)}function o(f,s,u,d){f!==s?(f-s>180?s+=360:s-f>180&&(f+=360),d.push({i:u.push(i(u)+"rotate(",null,r)-2,x:Qe(f,s)})):s&&u.push(i(u)+"rotate("+s+r)}function l(f,s,u,d){f!==s?d.push({i:u.push(i(u)+"skewX(",null,r)-2,x:Qe(f,s)}):s&&u.push(i(u)+"skewX("+s+r)}function c(f,s,u,d,h,g){if(f!==u||s!==d){var E=h.push(i(h)+"scale(",null,",",null,")");g.push({i:E-4,x:Qe(f,u)},{i:E-2,x:Qe(s,d)})}else(u!==1||d!==1)&&h.push(i(h)+"scale("+u+","+d+")")}return function(f,s){var u=[],d=[];return f=e(f),s=e(s),a(f.translateX,f.translateY,s.translateX,s.translateY,u,d),o(f.rotate,s.rotate,u,d),l(f.skewX,s.skewX,u,d),c(f.scaleX,f.scaleY,s.scaleX,s.scaleY,u,d),f=s=null,function(h){for(var g=-1,E=d.length,_;++g<E;)u[(_=d[g]).i]=_.x(h);return u.join("")}}}var Yf=_s(qf,"px, ","px)","deg)"),Uf=_s(Gf,", ",")",")");function Wf(e,t){var n,r;return function(){var i=qe(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Xf(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=qe(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===t){i[c]=l;break}c===f&&i.push(l)}a.tween=i}}function Hf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Te(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?Wf:Xf)(n,e,t))}function Gi(e,t,n){var r=e._id;return e.each(function(){var i=qe(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Te(i,r).value[t]}}function Ns(e,t){var n;return(typeof t=="number"?Qe:t instanceof tn?to:(n=tn(t))?(t=n,to):jf)(e,t)}function Vf(e){return function(){this.removeAttribute(e)}}function Zf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qf(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function Kf(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Jf(e,t,n){var r,i,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,l)))}}function e0(e,t,n){var r,i,a;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,l)))}}function t0(e,t){var n=gr(e),r=n==="transform"?Uf:Ns;return this.attrTween(e,typeof t=="function"?(n.local?e0:Jf)(n,r,Gi(this,"attr."+e,t)):t==null?(n.local?Zf:Vf)(n):(n.local?Kf:Qf)(n,r,t))}function n0(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function r0(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function i0(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&r0(e,a)),n}return i._value=t,i}function a0(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&n0(e,a)),n}return i._value=t,i}function o0(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=gr(e);return this.tween(n,(r.local?i0:a0)(r,t))}function s0(e,t){return function(){ji(this,e).delay=+t.apply(this,arguments)}}function l0(e,t){return t=+t,function(){ji(this,e).delay=t}}function c0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?s0:l0)(t,e)):Te(this.node(),t).delay}function u0(e,t){return function(){qe(this,e).duration=+t.apply(this,arguments)}}function f0(e,t){return t=+t,function(){qe(this,e).duration=t}}function h0(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?u0:f0)(t,e)):Te(this.node(),t).duration}function d0(e,t){if(typeof t!="function")throw new Error;return function(){qe(this,e).ease=t}}function p0(e){var t=this._id;return arguments.length?this.each(d0(t,e)):Te(this.node(),t).ease}function m0(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qe(this,e).ease=n}}function g0(e){if(typeof e!="function")throw new Error;return this.each(m0(this._id,e))}function v0(e){typeof e!="function"&&(e=is(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],c,f=0;f<o;++f)(c=a[f])&&e.call(c,c.__data__,f,a)&&l.push(c);return new He(r,this._parents,this._name,this._id)}function y0(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var c=t[l],f=n[l],s=c.length,u=o[l]=new Array(s),d,h=0;h<s;++h)(d=c[h]||f[h])&&(u[h]=d);for(;l<r;++l)o[l]=t[l];return new He(o,this._parents,this._name,this._id)}function x0(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function b0(e,t,n){var r,i,a=x0(t)?ji:qe;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function w0(e,t){var n=this._id;return arguments.length<2?Te(this.node(),n).on.on(e):this.each(b0(n,e,t))}function E0(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _0(){return this.on("end.remove",E0(this._id))}function N0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zi(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],c=l.length,f=a[o]=new Array(c),s,u,d=0;d<c;++d)(s=l[d])&&(u=e.call(s,s.__data__,d,l))&&("__data__"in s&&(u.__data__=s.__data__),f[d]=u,yr(f[d],t,n,d,f,Te(s,n)));return new He(a,this._parents,t,n)}function S0(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rs(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var c=r[l],f=c.length,s,u=0;u<f;++u)if(s=c[u]){for(var d=e.call(s,s.__data__,u,c),h,g=Te(s,n),E=0,_=d.length;E<_;++E)(h=d[E])&&yr(h,t,n,E,d,g);a.push(d),o.push(s)}return new He(a,o,t,n)}var A0=gn.prototype.constructor;function C0(){return new A0(this._groups,this._parents)}function P0(e,t){var n,r,i;return function(){var a=Ct(this,e),o=(this.style.removeProperty(e),Ct(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function Ss(e){return function(){this.style.removeProperty(e)}}function M0(e,t,n){var r,i=n+"",a;return function(){var o=Ct(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function k0(e,t,n){var r,i,a;return function(){var o=Ct(this,e),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Ct(this,e))),o===c?null:o===r&&c===i?a:(i=c,a=t(r=o,l))}}function R0(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var c=qe(this,e),f=c.on,s=c.value[a]==null?l||(l=Ss(t)):void 0;(f!==n||i!==s)&&(r=(n=f).copy()).on(o,i=s),c.on=r}}function F0(e,t,n){var r=(e+="")=="transform"?Yf:Ns;return t==null?this.styleTween(e,P0(e,r)).on("end.style."+e,Ss(e)):typeof t=="function"?this.styleTween(e,k0(e,r,Gi(this,"style."+e,t))).each(R0(this._id,e)):this.styleTween(e,M0(e,r,t),n).on("end.style."+e,null)}function L0(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function T0(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&L0(e,o,n)),r}return a._value=t,a}function $0(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,T0(e,t,n??""))}function O0(e){return function(){this.textContent=e}}function D0(e){return function(){var t=e(this);this.textContent=t??""}}function z0(e){return this.tween("text",typeof e=="function"?D0(Gi(this,"text",e)):O0(e==null?"":e+""))}function I0(e){return function(t){this.textContent=e.call(this,t)}}function B0(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&I0(i)),t}return r._value=e,r}function j0(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,B0(e))}function q0(){for(var e=this._name,t=this._id,n=As(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,c,f=0;f<l;++f)if(c=o[f]){var s=Te(c,t);yr(c,e,n,f,o,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new He(r,this._parents,e,n)}function G0(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var f=qe(this,r),s=f.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),f.on=t}),i===0&&a()})}var Y0=0;function He(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function As(){return++Y0}var it=gn.prototype;He.prototype={constructor:He,select:N0,selectAll:S0,filter:v0,merge:y0,selection:C0,transition:q0,call:it.call,nodes:it.nodes,node:it.node,size:it.size,empty:it.empty,each:it.each,on:w0,attr:t0,attrTween:o0,style:F0,styleTween:$0,text:z0,textTween:j0,remove:_0,tween:Hf,delay:c0,duration:h0,ease:p0,easeVarying:g0,end:G0,[Symbol.iterator]:it[Symbol.iterator]};function U0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W0={time:null,delay:0,duration:250,ease:U0};function X0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function H0(e){var t,n;e instanceof He?(t=e._id,e=e._name):(t=As(),(n=W0).time=Bi(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,c,f=0;f<l;++f)(c=o[f])&&yr(c,e,t,f,o,n||X0(c,t));return new He(r,this._parents,e,t)}gn.prototype.interrupt=Sf;gn.prototype.transition=H0;const An=e=>()=>e;function V0(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function We(e,t,n){this.k=e,this.x=t,this.y=n}We.prototype={constructor:We,scale:function(e){return e===1?this:new We(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new We(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yi=new We(1,0,0);We.prototype;function Pr(e){e.stopImmediatePropagation()}function Ft(e){e.preventDefault(),e.stopImmediatePropagation()}function Z0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Q0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ro(){return this.__zoom||Yi}function K0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function J0(){return navigator.maxTouchPoints||"ontouchstart"in this}function eh(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function th(){var e=Z0,t=Q0,n=eh,r=K0,i=J0,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=vf,f=Di("start","zoom","end"),s,u,d,h=500,g=150,E=0,_=10;function b(v){v.property("__zoom",ro).on("wheel.zoom",T).on("mousedown.zoom",q).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(v,y,m,S){var R=v.selection?v.selection():v;R.property("__zoom",ro),v!==R?A(v,y,m,S):R.interrupt().each(function(){P(this,arguments).event(S).start().zoom(null,typeof y=="function"?y.apply(this,arguments):y).end()})},b.scaleBy=function(v,y,m,S){b.scaleTo(v,function(){var R=this.__zoom.k,F=typeof y=="function"?y.apply(this,arguments):y;return R*F},m,S)},b.scaleTo=function(v,y,m,S){b.transform(v,function(){var R=t.apply(this,arguments),F=this.__zoom,G=m==null?w(R):typeof m=="function"?m.apply(this,arguments):m,Y=F.invert(G),W=typeof y=="function"?y.apply(this,arguments):y;return n(x(N(F,W),G,Y),R,o)},m,S)},b.translateBy=function(v,y,m,S){b.transform(v,function(){return n(this.__zoom.translate(typeof y=="function"?y.apply(this,arguments):y,typeof m=="function"?m.apply(this,arguments):m),t.apply(this,arguments),o)},null,S)},b.translateTo=function(v,y,m,S,R){b.transform(v,function(){var F=t.apply(this,arguments),G=this.__zoom,Y=S==null?w(F):typeof S=="function"?S.apply(this,arguments):S;return n(Yi.translate(Y[0],Y[1]).scale(G.k).translate(typeof y=="function"?-y.apply(this,arguments):-y,typeof m=="function"?-m.apply(this,arguments):-m),F,o)},S,R)};function N(v,y){return y=Math.max(a[0],Math.min(a[1],y)),y===v.k?v:new We(y,v.x,v.y)}function x(v,y,m){var S=y[0]-m[0]*v.k,R=y[1]-m[1]*v.k;return S===v.x&&R===v.y?v:new We(v.k,S,R)}function w(v){return[(+v[0][0]+ +v[1][0])/2,(+v[0][1]+ +v[1][1])/2]}function A(v,y,m,S){v.on("start.zoom",function(){P(this,arguments).event(S).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(S).end()}).tween("zoom",function(){var R=this,F=arguments,G=P(R,F).event(S),Y=t.apply(R,F),W=m==null?w(Y):typeof m=="function"?m.apply(R,F):m,X=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=R.__zoom,ee=typeof y=="function"?y.apply(R,F):y,fe=c(Q.invert(W).concat(X/Q.k),ee.invert(W).concat(X/ee.k));return function(C){if(C===1)C=ee;else{var H=fe(C),le=X/H[2];C=new We(le,W[0]-H[0]*le,W[1]-H[1]*le)}G.zoom(null,C)}})}function P(v,y,m){return!m&&v.__zooming||new D(v,y)}function D(v,y){this.that=v,this.args=y,this.active=0,this.sourceEvent=null,this.extent=t.apply(v,y),this.taps=0}D.prototype={event:function(v){return v&&(this.sourceEvent=v),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(v,y){return this.mouse&&v!=="mouse"&&(this.mouse[1]=y.invert(this.mouse[0])),this.touch0&&v!=="touch"&&(this.touch0[1]=y.invert(this.touch0[0])),this.touch1&&v!=="touch"&&(this.touch1[1]=y.invert(this.touch1[0])),this.that.__zoom=y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(v){var y=Ue(this.that).datum();f.call(v,this.that,new V0(v,{sourceEvent:this.sourceEvent,target:b,type:v,transform:this.that.__zoom,dispatch:f}),y)}};function T(v,...y){if(!e.apply(this,arguments))return;var m=P(this,y).event(v),S=this.__zoom,R=Math.max(a[0],Math.min(a[1],S.k*Math.pow(2,r.apply(this,arguments)))),F=rt(v);if(m.wheel)(m.mouse[0][0]!==F[0]||m.mouse[0][1]!==F[1])&&(m.mouse[1]=S.invert(m.mouse[0]=F)),clearTimeout(m.wheel);else{if(S.k===R)return;m.mouse=[F,S.invert(F)],$n(this),m.start()}Ft(v),m.wheel=setTimeout(G,g),m.zoom("mouse",n(x(N(S,R),m.mouse[0],m.mouse[1]),m.extent,o));function G(){m.wheel=null,m.end()}}function q(v,...y){if(d||!e.apply(this,arguments))return;var m=P(this,y,!0).event(v),S=Ue(v.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",X,!0),R=rt(v,F),F=v.currentTarget,G=v.clientX,Y=v.clientY;hf(v.view),Pr(v),m.mouse=[R,this.__zoom.invert(R)],$n(this),m.start();function W(Q){if(Ft(Q),!m.moved){var ee=Q.clientX-G,fe=Q.clientY-Y;m.moved=ee*ee+fe*fe>E}m.event(Q).zoom("mouse",n(x(m.that.__zoom,m.mouse[0]=rt(Q,F),m.mouse[1]),m.extent,o))}function X(Q){S.on("mousemove.zoom mouseup.zoom",null),df(Q.view,m.moved),Ft(Q),m.event(Q).end()}}function z(v,...y){if(e.apply(this,arguments)){var m=this.__zoom,S=rt(v.changedTouches?v.changedTouches[0]:v,this),R=m.invert(S),F=m.k*(v.shiftKey?.5:2),G=n(x(N(m,F),S,R),t.apply(this,y),o);Ft(v),l>0?Ue(this).transition().duration(l).call(A,G,S,v):Ue(this).call(b.transform,G,S,v)}}function $(v,...y){if(e.apply(this,arguments)){var m=v.touches,S=m.length,R=P(this,y,v.changedTouches.length===S).event(v),F,G,Y,W;for(Pr(v),G=0;G<S;++G)Y=m[G],W=rt(Y,this),W=[W,this.__zoom.invert(W),Y.identifier],R.touch0?!R.touch1&&R.touch0[2]!==W[2]&&(R.touch1=W,R.taps=0):(R.touch0=W,F=!0,R.taps=1+!!s);s&&(s=clearTimeout(s)),F&&(R.taps<2&&(u=W[0],s=setTimeout(function(){s=null},h)),$n(this),R.start())}}function U(v,...y){if(this.__zooming){var m=P(this,y).event(v),S=v.changedTouches,R=S.length,F,G,Y,W;for(Ft(v),F=0;F<R;++F)G=S[F],Y=rt(G,this),m.touch0&&m.touch0[2]===G.identifier?m.touch0[0]=Y:m.touch1&&m.touch1[2]===G.identifier&&(m.touch1[0]=Y);if(G=m.that.__zoom,m.touch1){var X=m.touch0[0],Q=m.touch0[1],ee=m.touch1[0],fe=m.touch1[1],C=(C=ee[0]-X[0])*C+(C=ee[1]-X[1])*C,H=(H=fe[0]-Q[0])*H+(H=fe[1]-Q[1])*H;G=N(G,Math.sqrt(C/H)),Y=[(X[0]+ee[0])/2,(X[1]+ee[1])/2],W=[(Q[0]+fe[0])/2,(Q[1]+fe[1])/2]}else if(m.touch0)Y=m.touch0[0],W=m.touch0[1];else return;m.zoom("touch",n(x(G,Y,W),m.extent,o))}}function Z(v,...y){if(this.__zooming){var m=P(this,y).event(v),S=v.changedTouches,R=S.length,F,G;for(Pr(v),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),F=0;F<R;++F)G=S[F],m.touch0&&m.touch0[2]===G.identifier?delete m.touch0:m.touch1&&m.touch1[2]===G.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(G=rt(G,this),Math.hypot(u[0]-G[0],u[1]-G[1])<_)){var Y=Ue(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return b.wheelDelta=function(v){return arguments.length?(r=typeof v=="function"?v:An(+v),b):r},b.filter=function(v){return arguments.length?(e=typeof v=="function"?v:An(!!v),b):e},b.touchable=function(v){return arguments.length?(i=typeof v=="function"?v:An(!!v),b):i},b.extent=function(v){return arguments.length?(t=typeof v=="function"?v:An([[+v[0][0],+v[0][1]],[+v[1][0],+v[1][1]]]),b):t},b.scaleExtent=function(v){return arguments.length?(a[0]=+v[0],a[1]=+v[1],b):[a[0],a[1]]},b.translateExtent=function(v){return arguments.length?(o[0][0]=+v[0][0],o[1][0]=+v[1][0],o[0][1]=+v[0][1],o[1][1]=+v[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(v){return arguments.length?(n=v,b):n},b.duration=function(v){return arguments.length?(l=+v,b):l},b.interpolate=function(v){return arguments.length?(c=v,b):c},b.on=function(){var v=f.on.apply(f,arguments);return v===f?b:v},b.clickDistance=function(v){return arguments.length?(E=(v=+v)*v,b):Math.sqrt(E)},b.tapDistance=function(v){return arguments.length?(_=+v,b):_},b}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?io(Object(n),!0).forEach(function(r){nh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vi(e){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(e)}function nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function rh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Me(e,t){if(e==null)return{};var n=rh(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function he(e,t){return ih(e)||ah(e,t)||oh(e,t)||sh()}function ih(e){if(Array.isArray(e))return e}function ah(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,l;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function oh(e,t){if(e){if(typeof e=="string")return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(e,t)}}function ao(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var lh=["width","height","projection","projectionConfig"],ch=Xo,uh=Me(_c,["geoPath"]),Ge=I.createContext(),fh=function(t){var n=t.projectionConfig,r=n===void 0?{}:n,i=t.projection,a=i===void 0?"geoEqualEarth":i,o=t.width,l=o===void 0?800:o,c=t.height,f=c===void 0?600:c,s=typeof a=="function";if(s)return a;var u=uh[a]().translate([l/2,f/2]),d=[u.center?"center":null,u.rotate?"rotate":null,u.scale?"scale":null,u.parallels?"parallels":null];return d.forEach(function(h){h&&(u=u[h](r[h]||u[h]()))}),u},Cs=function(t){var n=t.width,r=t.height,i=t.projection,a=t.projectionConfig,o=Me(t,lh),l=a.center||[],c=he(l,2),f=c[0],s=c[1],u=a.rotate||[],d=he(u,3),h=d[0],g=d[1],E=d[2],_=a.parallels||[],b=he(_,2),N=b[0],x=b[1],w=a.scale||null,A=I.useMemo(function(){return fh({projectionConfig:{center:f||f===0||s||s===0?[f,s]:null,rotate:h||h===0||g||g===0?[h,g,E]:null,parallels:N||N===0||x||x===0?[N,x]:null,scale:w},projection:i,width:n,height:r})},[n,r,i,f,s,h,g,E,N,x,w]),P=I.useCallback(A,[A]),D=I.useMemo(function(){return{width:n,height:r,projection:P,path:ch().projection(P)}},[n,r,P]);return p.createElement(Ge.Provider,Ne({value:D},o))};Cs.propTypes={width:M.number,height:M.number,projection:M.oneOfType([M.string,M.func]),projectionConfig:M.object};var hh=["width","height","projection","projectionConfig","className"],Ui=I.forwardRef(function(e,t){var n=e.width,r=n===void 0?800:n,i=e.height,a=i===void 0?600:i,o=e.projection,l=o===void 0?"geoEqualEarth":o,c=e.projectionConfig,f=c===void 0?{}:c,s=e.className,u=s===void 0?"":s,d=Me(e,hh);return p.createElement(Cs,{width:r,height:a,projection:l,projectionConfig:f},p.createElement("svg",Ne({ref:t,viewBox:"0 0 ".concat(r," ").concat(a),className:"rsm-svg ".concat(u)},d)))});Ui.displayName="ComposableMap";Ui.propTypes={width:M.number,height:M.number,projection:M.oneOfType([M.string,M.func]),projectionConfig:M.object,className:M.string};function oo(e,t,n){var r=(e*n.k-e)/2,i=(t*n.k-t)/2;return[e/2-(r+n.x)/n.k,t/2-(i+n.y)/n.k]}function dh(e){return fetch(e).then(function(t){if(!t.ok)throw Error(t.statusText);return t.json()}).catch(function(t){console.log("There was a problem when fetching the data: ",t)})}function so(e,t){var n=e.type==="Topology";if(!n)return t?t(e.features||e):e.features||e;var r=Cc(e,e.objects[Object.keys(e.objects)[0]]).features;return t?t(r):r}function lo(e){var t=e.type==="Topology";if(!t)return null;var n=Ba(e,e.objects[Object.keys(e.objects)[0]],function(i,a){return i===a}),r=Ba(e,e.objects[Object.keys(e.objects)[0]],function(i,a){return i!==a});return{outline:n,borders:r}}function ph(e,t,n){return e&&t?{outline:vt(vt({},e),{},{rsmKey:"outline",svgPath:n(e)}),borders:vt(vt({},t),{},{rsmKey:"borders",svgPath:n(t)})}:{}}function mh(e,t){return e?e.map(function(n,r){return vt(vt({},n),{},{rsmKey:"geo-".concat(r),svgPath:t(n)})}):[]}function gh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=e/2*r[0],a=t/2*r[1];return"M".concat(0,",",0," Q",-e/2-i,",").concat(-t/2+a," ").concat(-e,",").concat(-t)}function vh(e){return typeof e=="string"}function yh(e){var t=e.geography,n=e.parseGeographies,r=I.useContext(Ge),i=r.path,a=I.useState({}),o=he(a,2),l=o[0],c=o[1];I.useEffect(function(){(typeof window>"u"?"undefined":vi(window))!=="undefined"&&t&&(vh(t)?dh(t).then(function(h){h&&c({geographies:so(h,n),mesh:lo(h)})}):c({geographies:so(t,n),mesh:lo(t)}))},[t,n]);var f=I.useMemo(function(){var h=l.mesh||{},g=ph(h.outline,h.borders,i);return{geographies:mh(l.geographies,i),outline:g.outline,borders:g.borders}},[l,i]),s=f.geographies,u=f.outline,d=f.borders;return{geographies:s,outline:u,borders:d}}var xh=["geography","children","parseGeographies","className"],Wi=I.forwardRef(function(e,t){var n=e.geography,r=e.children,i=e.parseGeographies,a=e.className,o=a===void 0?"":a,l=Me(e,xh),c=I.useContext(Ge),f=c.path,s=c.projection,u=yh({geography:n,parseGeographies:i}),d=u.geographies,h=u.outline,g=u.borders;return p.createElement("g",Ne({ref:t,className:"rsm-geographies ".concat(o)},l),d&&d.length>0&&r({geographies:d,outline:h,borders:g,path:f,projection:s}))});Wi.displayName="Geographies";Wi.propTypes={geography:M.oneOfType([M.string,M.object,M.array]),children:M.func,parseGeographies:M.func,className:M.string};var bh=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Xi=I.forwardRef(function(e,t){var n=e.geography,r=e.onMouseEnter,i=e.onMouseLeave,a=e.onMouseDown,o=e.onMouseUp,l=e.onFocus,c=e.onBlur,f=e.style,s=f===void 0?{}:f,u=e.className,d=u===void 0?"":u,h=Me(e,bh),g=I.useState(!1),E=he(g,2),_=E[0],b=E[1],N=I.useState(!1),x=he(N,2),w=x[0],A=x[1];function P(U){A(!0),r&&r(U)}function D(U){A(!1),_&&b(!1),i&&i(U)}function T(U){A(!0),l&&l(U)}function q(U){A(!1),_&&b(!1),c&&c(U)}function z(U){b(!0),a&&a(U)}function $(U){b(!1),o&&o(U)}return p.createElement("path",Ne({ref:t,tabIndex:"0",className:"rsm-geography ".concat(d),d:n.svgPath,onMouseEnter:P,onMouseLeave:D,onFocus:T,onBlur:q,onMouseDown:z,onMouseUp:$,style:s[_||w?_?"pressed":"hover":"default"]},h))});Xi.displayName="Geography";Xi.propTypes={geography:M.object,onMouseEnter:M.func,onMouseLeave:M.func,onMouseDown:M.func,onMouseUp:M.func,onFocus:M.func,onBlur:M.func,style:M.object,className:M.string};var wh=I.memo(Xi),Eh=["fill","stroke","step","className"],Hi=I.forwardRef(function(e,t){var n=e.fill,r=n===void 0?"transparent":n,i=e.stroke,a=i===void 0?"currentcolor":i,o=e.step,l=o===void 0?[10,10]:o,c=e.className,f=c===void 0?"":c,s=Me(e,Eh),u=I.useContext(Ge),d=u.path;return p.createElement("path",Ne({ref:t,d:d(Ei().step(l)()),fill:r,stroke:a,className:"rsm-graticule ".concat(f)},s))});Hi.displayName="Graticule";Hi.propTypes={fill:M.string,stroke:M.string,step:M.array,className:M.string};I.memo(Hi);var _h=["value"],Nh=I.createContext(),Sh={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},Ps=function(t){var n=t.value,r=n===void 0?Sh:n,i=Me(t,_h);return p.createElement(Nh.Provider,Ne({value:r},i))};Ps.propTypes={x:M.number,y:M.number,k:M.number,transformString:M.string};function Ah(e){var t=e.center,n=e.filterZoomEvent,r=e.onMoveStart,i=e.onMoveEnd,a=e.onMove,o=e.translateExtent,l=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,c=e.scaleExtent,f=c===void 0?[1,8]:c,s=e.zoom,u=s===void 0?1:s,d=I.useContext(Ge),h=d.width,g=d.height,E=d.projection,_=he(t,2),b=_[0],N=_[1],x=I.useState({x:0,y:0,k:1}),w=he(x,2),A=w[0],P=w[1],D=I.useRef({x:0,y:0,k:1}),T=I.useRef(),q=I.useRef(),z=I.useRef(!1),$=he(l,2),U=$[0],Z=$[1],v=he(U,2),y=v[0],m=v[1],S=he(Z,2),R=S[0],F=S[1],G=he(f,2),Y=G[0],W=G[1];return I.useEffect(function(){var X=Ue(T.current);function Q(le){!r||z.current||r({coordinates:E.invert(oo(h,g,le.transform)),zoom:le.transform.k},le)}function ee(le){if(!z.current){var Ve=le.transform,kt=le.sourceEvent;P({x:Ve.x,y:Ve.y,k:Ve.k,dragging:kt}),a&&a({x:Ve.x,y:Ve.y,zoom:Ve.k,dragging:kt},le)}}function fe(le){if(z.current){z.current=!1;return}var Ve=E.invert(oo(h,g,le.transform)),kt=he(Ve,2),Ki=kt[0],Ji=kt[1];D.current={x:Ki,y:Ji,k:le.transform.k},i&&i({coordinates:[Ki,Ji],zoom:le.transform.k},le)}function C(le){return n?n(le):le?!le.ctrlKey&&!le.button:!1}var H=th().filter(C).scaleExtent([Y,W]).translateExtent([[y,m],[R,F]]).on("start",Q).on("zoom",ee).on("end",fe);q.current=H,X.call(H)},[h,g,y,m,R,F,Y,W,E,r,a,i,n]),I.useEffect(function(){if(!(b===D.current.x&&N===D.current.y&&u===D.current.k)){var X=E([b,N]),Q=X[0]*u,ee=X[1]*u,fe=Ue(T.current);z.current=!0,fe.call(q.current.transform,Yi.translate(h/2-Q,g/2-ee).scale(u)),P({x:h/2-Q,y:g/2-ee,k:u}),D.current={x:b,y:N,k:u}}},[b,N,u,h,g,E]),{mapRef:T,position:A,transformString:"translate(".concat(A.x," ").concat(A.y,") scale(").concat(A.k,")")}}var Ch=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],Ms=I.forwardRef(function(e,t){var n=e.center,r=n===void 0?[0,0]:n,i=e.zoom,a=i===void 0?1:i,o=e.minZoom,l=o===void 0?1:o,c=e.maxZoom,f=c===void 0?8:c,s=e.translateExtent,u=e.filterZoomEvent,d=e.onMoveStart,h=e.onMove,g=e.onMoveEnd,E=e.className,_=Me(e,Ch),b=I.useContext(Ge),N=b.width,x=b.height,w=Ah({center:r,filterZoomEvent:u,onMoveStart:d,onMove:h,onMoveEnd:g,scaleExtent:[l,f],translateExtent:s,zoom:a}),A=w.mapRef,P=w.transformString,D=w.position;return p.createElement(Ps,{value:{x:D.x,y:D.y,k:D.k,transformString:P}},p.createElement("g",{ref:A},p.createElement("rect",{width:N,height:x,fill:"transparent"}),p.createElement("g",Ne({ref:t,transform:P,className:"rsm-zoomable-group ".concat(E)},_))))});Ms.displayName="ZoomableGroup";Ms.propTypes={center:M.array,zoom:M.number,minZoom:M.number,maxZoom:M.number,translateExtent:M.arrayOf(M.array),onMoveStart:M.func,onMove:M.func,onMoveEnd:M.func,className:M.string};var Ph=["id","fill","stroke","strokeWidth","className"],Vi=I.forwardRef(function(e,t){var n=e.id,r=n===void 0?"rsm-sphere":n,i=e.fill,a=i===void 0?"transparent":i,o=e.stroke,l=o===void 0?"currentcolor":o,c=e.strokeWidth,f=c===void 0?.5:c,s=e.className,u=s===void 0?"":s,d=Me(e,Ph),h=I.useContext(Ge),g=h.path,E=I.useMemo(function(){return g({type:"Sphere"})},[g]);return p.createElement(I.Fragment,null,p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("path",{d:E}))),p.createElement("path",Ne({ref:t,d:E,fill:a,stroke:l,strokeWidth:f,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(u)},d)))});Vi.displayName="Sphere";Vi.propTypes={id:M.string,fill:M.string,stroke:M.string,strokeWidth:M.number,className:M.string};I.memo(Vi);var Mh=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Zi=I.forwardRef(function(e,t){var n=e.coordinates,r=e.children,i=e.onMouseEnter,a=e.onMouseLeave,o=e.onMouseDown,l=e.onMouseUp,c=e.onFocus,f=e.onBlur,s=e.style,u=s===void 0?{}:s,d=e.className,h=d===void 0?"":d,g=Me(e,Mh),E=I.useContext(Ge),_=E.projection,b=I.useState(!1),N=he(b,2),x=N[0],w=N[1],A=I.useState(!1),P=he(A,2),D=P[0],T=P[1],q=_(n),z=he(q,2),$=z[0],U=z[1];function Z(F){T(!0),i&&i(F)}function v(F){T(!1),x&&w(!1),a&&a(F)}function y(F){T(!0),c&&c(F)}function m(F){T(!1),x&&w(!1),f&&f(F)}function S(F){w(!0),o&&o(F)}function R(F){w(!1),l&&l(F)}return p.createElement("g",Ne({ref:t,transform:"translate(".concat($,", ").concat(U,")"),className:"rsm-marker ".concat(h),onMouseEnter:Z,onMouseLeave:v,onFocus:y,onBlur:m,onMouseDown:S,onMouseUp:R,style:u[x||D?x?"pressed":"hover":"default"]},g),r)});Zi.displayName="Marker";Zi.propTypes={coordinates:M.array,children:M.oneOfType([M.node,M.arrayOf(M.node)]),onMouseEnter:M.func,onMouseLeave:M.func,onMouseDown:M.func,onMouseUp:M.func,onFocus:M.func,onBlur:M.func,style:M.object,className:M.string};var kh=["from","to","coordinates","stroke","strokeWidth","fill","className"],ks=I.forwardRef(function(e,t){var n=e.from,r=n===void 0?[0,0]:n,i=e.to,a=i===void 0?[0,0]:i,o=e.coordinates,l=e.stroke,c=l===void 0?"currentcolor":l,f=e.strokeWidth,s=f===void 0?3:f,u=e.fill,d=u===void 0?"transparent":u,h=e.className,g=h===void 0?"":h,E=Me(e,kh),_=I.useContext(Ge),b=_.path,N={type:"LineString",coordinates:o||[r,a]};return p.createElement("path",Ne({ref:t,d:b(N),className:"rsm-line ".concat(g),stroke:c,strokeWidth:s,fill:d},E))});ks.displayName="Line";ks.propTypes={from:M.array,to:M.array,coordinates:M.array,stroke:M.string,strokeWidth:M.number,fill:M.string,className:M.string};var Rh=["subject","children","connectorProps","dx","dy","curve","className"],Rs=I.forwardRef(function(e,t){var n=e.subject,r=e.children,i=e.connectorProps,a=e.dx,o=a===void 0?30:a,l=e.dy,c=l===void 0?30:l,f=e.curve,s=f===void 0?0:f,u=e.className,d=u===void 0?"":u,h=Me(e,Rh),g=I.useContext(Ge),E=g.projection,_=E(n),b=he(_,2),N=b[0],x=b[1],w=gh(o,c,s);return p.createElement("g",Ne({ref:t,transform:"translate(".concat(N+o,", ").concat(x+c,")"),className:"rsm-annotation ".concat(d)},h),p.createElement("path",Ne({d:w,fill:"transparent",stroke:"#000"},i)),r)});Rs.displayName="Annotation";Rs.propTypes={subject:M.array,children:M.oneOfType([M.node,M.arrayOf(M.node)]),dx:M.number,dy:M.number,curve:M.number,connectorProps:M.object,className:M.string};const Fh="https://api.sidelinemetrics.com/api",Qi=zs.create({baseURL:Fh,timeout:1e4,headers:{"Content-Type":"application/json"}});Qi.interceptors.response.use(e=>e,e=>{var t;return console.error("API Error:",((t=e.response)==null?void 0:t.data)||e.message),e.response&&(e.isApiError=!0,e.errorData=e.response.data,e.statusCode=e.response.status),Promise.reject(e)});const Lh=(e="2024")=>Qi.get("/teams/",{params:{season:e}}),Th=(e={})=>Qi.get("/players/",{params:e}),$h={ARI:"#97233F",ATL:"#A71930",BAL:"#241773",BUF:"#00338D",CAR:"#0085CA",CHI:"#0B162A",CIN:"#FB4F14",CLE:"#311D00",DAL:"#003594",DEN:"#FB4F14",DET:"#0076B6",GB:"#203731",HOU:"#03202F",IND:"#002C5F",JAX:"#006778",KC:"#E31837",LV:"#000000",LAC:"#0080C6",LAR:"#003594",MIA:"#008E97",MIN:"#4F2683",NE:"#002244",NO:"#D3BC8D",NYG:"#0B2265",NYJ:"#125740",PHI:"#004C54",PIT:"#FFB612",SF:"#AA0000",SEA:"#002244",TB:"#D50A0A",TEN:"#0C2340",WAS:"#5A1414"},pt={ARI:"Arizona Cardinals",ATL:"Atlanta Falcons",BAL:"Baltimore Ravens",BUF:"Buffalo Bills",CAR:"Carolina Panthers",CHI:"Chicago Bears",CIN:"Cincinnati Bengals",CLE:"Cleveland Browns",DAL:"Dallas Cowboys",DEN:"Denver Broncos",DET:"Detroit Lions",GB:"Green Bay Packers",HOU:"Houston Texans",IND:"Indianapolis Colts",JAX:"Jacksonville Jaguars",KC:"Kansas City Chiefs",LV:"Las Vegas Raiders",LAC:"Los Angeles Chargers",LAR:"Los Angeles Rams",MIA:"Miami Dolphins",MIN:"Minnesota Vikings",NE:"New England Patriots",NO:"New Orleans Saints",NYG:"New York Giants",NYJ:"New York Jets",PHI:"Philadelphia Eagles",PIT:"Pittsburgh Steelers",SF:"San Francisco 49ers",SEA:"Seattle Seahawks",TB:"Tampa Bay Buccaneers",TEN:"Tennessee Titans",WAS:"Washington Commanders"},Oh=[{abbr:"ARI",name:"Cardinals",coordinates:[-112.2625,33.5275],color:"#97233F",conference:"NFC",division:"West"},{abbr:"ATL",name:"Falcons",coordinates:[-84.4009,33.7553],color:"#A71930",conference:"NFC",division:"South"},{abbr:"BAL",name:"Ravens",coordinates:[-76.6227,39.278],color:"#241773",conference:"AFC",division:"North"},{abbr:"BUF",name:"Bills",coordinates:[-78.787,42.7738],color:"#00338D",conference:"AFC",division:"East"},{abbr:"CAR",name:"Panthers",coordinates:[-80.8527,35.2258],color:"#0085CA",conference:"NFC",division:"South"},{abbr:"CHI",name:"Bears",coordinates:[-87.6167,41.8625],color:"#0B162A",conference:"NFC",division:"North"},{abbr:"CIN",name:"Bengals",coordinates:[-84.5159,39.0955],color:"#FB4F14",conference:"AFC",division:"North"},{abbr:"CLE",name:"Browns",coordinates:[-81.6995,41.5061],color:"#311D00",conference:"AFC",division:"North"},{abbr:"DAL",name:"Cowboys",coordinates:[-97.0929,32.7479],color:"#003594",conference:"NFC",division:"East"},{abbr:"DEN",name:"Broncos",coordinates:[-105.02,39.7439],color:"#FB4F14",conference:"AFC",division:"West"},{abbr:"DET",name:"Lions",coordinates:[-83.0459,42.34],color:"#0076B6",conference:"NFC",division:"North"},{abbr:"GB",name:"Packers",coordinates:[-88.0626,44.5013],color:"#203731",conference:"NFC",division:"North"},{abbr:"HOU",name:"Texans",coordinates:[-95.4103,29.6848],color:"#03202F",conference:"AFC",division:"South"},{abbr:"IND",name:"Colts",coordinates:[-86.1626,39.7601],color:"#002C5F",conference:"AFC",division:"South"},{abbr:"JAX",name:"Jaguars",coordinates:[-81.6376,30.3238],color:"#006778",conference:"AFC",division:"South"},{abbr:"KC",name:"Chiefs",coordinates:[-94.4839,39.0489],color:"#E31837",conference:"AFC",division:"West"},{abbr:"LAC",name:"Chargers",coordinates:[-118.3392,33.9535],color:"#0080C6",conference:"AFC",division:"West"},{abbr:"LAR",name:"Rams",coordinates:[-118.3392,33.9535],color:"#003594",conference:"NFC",division:"West"},{abbr:"LV",name:"Raiders",coordinates:[-115.1833,36.0907],color:"#000000",conference:"AFC",division:"West"},{abbr:"MIA",name:"Dolphins",coordinates:[-80.2388,25.9579],color:"#008E97",conference:"AFC",division:"East"},{abbr:"MIN",name:"Vikings",coordinates:[-93.258,44.9735],color:"#4F2683",conference:"NFC",division:"North"},{abbr:"NE",name:"Patriots",coordinates:[-71.2643,42.0909],color:"#002244",conference:"AFC",division:"East"},{abbr:"NO",name:"Saints",coordinates:[-90.0812,29.9511],color:"#D3BC8D",conference:"NFC",division:"South"},{abbr:"NYG",name:"Giants",coordinates:[-74.0748,40.8135],color:"#0B2265",conference:"NFC",division:"East"},{abbr:"NYJ",name:"Jets",coordinates:[-74.0748,40.8135],color:"#125740",conference:"AFC",division:"East"},{abbr:"PHI",name:"Eagles",coordinates:[-75.1674,39.9008],color:"#004C54",conference:"NFC",division:"East"},{abbr:"PIT",name:"Steelers",coordinates:[-80.0158,40.4468],color:"#FFB612",conference:"AFC",division:"North"},{abbr:"SF",name:"49ers",coordinates:[-122.0375,37.4032],color:"#AA0000",conference:"NFC",division:"West"},{abbr:"SEA",name:"Seahawks",coordinates:[-122.3316,47.5952],color:"#002244",conference:"NFC",division:"West"},{abbr:"TB",name:"Buccaneers",coordinates:[-82.5033,27.9758],color:"#D50A0A",conference:"NFC",division:"South"},{abbr:"TEN",name:"Titans",coordinates:[-86.7713,36.1665],color:"#0C2340",conference:"AFC",division:"South"},{abbr:"WAS",name:"Commanders",coordinates:[-76.8644,38.9076],color:"#5A1414",conference:"NFC",division:"East"}],hr={ARI:"https://a.espncdn.com/i/teamlogos/nfl/500/ari.png",ATL:"https://a.espncdn.com/i/teamlogos/nfl/500/atl.png",BAL:"https://a.espncdn.com/i/teamlogos/nfl/500/bal.png",BUF:"https://a.espncdn.com/i/teamlogos/nfl/500/buf.png",CAR:"https://a.espncdn.com/i/teamlogos/nfl/500/car.png",CHI:"https://a.espncdn.com/i/teamlogos/nfl/500/chi.png",CIN:"https://a.espncdn.com/i/teamlogos/nfl/500/cin.png",CLE:"https://a.espncdn.com/i/teamlogos/nfl/500/cle.png",DAL:"https://a.espncdn.com/i/teamlogos/nfl/500/dal.png",DEN:"https://a.espncdn.com/i/teamlogos/nfl/500/den.png",DET:"https://a.espncdn.com/i/teamlogos/nfl/500/det.png",GB:"https://a.espncdn.com/i/teamlogos/nfl/500/gb.png",HOU:"https://a.espncdn.com/i/teamlogos/nfl/500/hou.png",IND:"https://a.espncdn.com/i/teamlogos/nfl/500/ind.png",JAX:"https://a.espncdn.com/i/teamlogos/nfl/500/jax.png",KC:"https://a.espncdn.com/i/teamlogos/nfl/500/kc.png",LV:"https://a.espncdn.com/i/teamlogos/nfl/500/lv.png",LAC:"https://a.espncdn.com/i/teamlogos/nfl/500/lac.png",LAR:"https://a.espncdn.com/i/teamlogos/nfl/500/lar.png",MIA:"https://a.espncdn.com/i/teamlogos/nfl/500/mia.png",MIN:"https://a.espncdn.com/i/teamlogos/nfl/500/min.png",NE:"https://a.espncdn.com/i/teamlogos/nfl/500/ne.png",NO:"https://a.espncdn.com/i/teamlogos/nfl/500/no.png",NYG:"https://a.espncdn.com/i/teamlogos/nfl/500/nyg.png",NYJ:"https://a.espncdn.com/i/teamlogos/nfl/500/nyj.png",PHI:"https://a.espncdn.com/i/teamlogos/nfl/500/phi.png",PIT:"https://a.espncdn.com/i/teamlogos/nfl/500/pit.png",SEA:"https://a.espncdn.com/i/teamlogos/nfl/500/sea.png",SF:"https://a.espncdn.com/i/teamlogos/nfl/500/sf.png",TB:"https://a.espncdn.com/i/teamlogos/nfl/500/tb.png",TEN:"https://a.espncdn.com/i/teamlogos/nfl/500/ten.png",WAS:"https://a.espncdn.com/i/teamlogos/nfl/500/wsh.png"},qt=e=>e.team_logo_espn||e.team_logo||hr[e.team_abbr]||"https://via.placeholder.com/100?text=N/A",On="Expected Points Added (EPA) measures the change in the expected points scored after a specific play. Positive EPA means the play increased scoring expectation; negative means it decreased.",Dh=({active:e,payload:t,label:n,teamsData:r})=>{if(e&&t&&t.length){const i=t[0].payload.name,a=r==null?void 0:r.find(s=>s.team_abbr===i),o=pt[i]||i,l=a?qt(a):hr[i],c=(s,u)=>s.toLowerCase().includes("epa")?u.toFixed(3):u.toFixed(1),f=s=>{if(typeof s=="string"){if(s.toLowerCase().includes("offensive epa/play"))return"Offensive EPA/Play";if(s.toLowerCase().includes("defensive epa/play"))return"Defensive EPA/Play"}return s};return p.createElement("div",{className:"bg-gray-900/90 backdrop-blur-sm p-4 border border-gray-700 rounded-lg shadow-xl z-30"}," ",p.createElement("div",{className:"flex items-center mb-3"},l&&p.createElement("img",{src:l,alt:o,className:"w-6 h-6 mr-2 object-contain",onError:s=>{s.target.style.display="none"}}),p.createElement("p",{className:"font-bold text-white"},o)),p.createElement("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1"},t.map((s,u)=>p.createElement(p.Fragment,{key:u},p.createElement("div",{className:"text-xs text-gray-400 flex items-center"},f(s.name)," ",typeof s.name=="string"&&s.name.toLowerCase().includes("epa")&&p.createElement(Pn,{text:On})),p.createElement("div",{className:"text-xs font-medium text-right",style:{color:s.color||"#10B981"}},c(s.name,s.value)))),a&&p.createElement(p.Fragment,null,p.createElement("div",{className:"text-xs text-gray-400 mt-2"},"Record:"),p.createElement("div",{className:"text-xs font-medium text-right text-white mt-2"},a.wins,"-",a.losses,a.ties>0?`-${a.ties}`:""))))}return null};function Uh(){var Z,v,y;const e=Is(),[t,n]=I.useState(null),[r,i]=I.useState("all"),[a,o]=I.useState(!0),{data:l,isLoading:c,error:f}=la({queryKey:["teams","2024"],queryFn:()=>Lh("2024")}),{data:s,isLoading:u,error:d}=la({queryKey:["players",{season:"2024"}],queryFn:()=>Th({season:"2024"})}),h=l==null?void 0:l.data,g=s==null?void 0:s.data,E=m=>{e(`/team/${m}`)},_=m=>{e(`/player/${m}`)},b=()=>{if(!h||!g)return{scatterData:[],teamLeaderboards:{},playerLeaderboards:{},avgOffEPA:0,avgDefEPA:0};let m=0,S=0;h.forEach(C=>{m+=parseFloat(C.offense_epa_per_play),S+=parseFloat(C.defense_epa_per_play)});const R=h.length>0?m/h.length:0,G=(h.length>0?S/h.length:0)*-1,Y=h.map(C=>({name:C.team_abbr,x:parseFloat(C.offense_epa_per_play),y:parseFloat(C.defense_epa_per_play)*-1,z:parseFloat(C.offensive_ppg)+(24-parseFloat(C.defensive_ppg)),color:$h[C.team_abbr]||"#666"})),W={offensePPG:[...h].sort((C,H)=>parseFloat(H.offensive_ppg)-parseFloat(C.offensive_ppg)).slice(0,5).map((C,H)=>({rank:H+1,abbr:C.team_abbr,name:pt[C.team_abbr]||C.team_abbr,logo:qt(C),value:parseFloat(C.offensive_ppg).toFixed(1),metricLabel:"PPG"})),offenseEPA:[...h].sort((C,H)=>parseFloat(H.offense_epa_per_play)-parseFloat(C.offense_epa_per_play)).slice(0,5).map((C,H)=>({rank:H+1,abbr:C.team_abbr,name:pt[C.team_abbr]||C.team_abbr,logo:qt(C),value:parseFloat(C.offense_epa_per_play).toFixed(3),metricLabel:"Off EPA/Play"})),defensePPG:[...h].sort((C,H)=>parseFloat(C.defensive_ppg)-parseFloat(H.defensive_ppg)).slice(0,5).map((C,H)=>({rank:H+1,abbr:C.team_abbr,name:pt[C.team_abbr]||C.team_abbr,logo:qt(C),value:parseFloat(C.defensive_ppg).toFixed(1),metricLabel:"PPG Allowed"})),defenseEPA:[...h].sort((C,H)=>parseFloat(C.defense_epa_per_play)-parseFloat(H.defense_epa_per_play)).slice(0,5).map((C,H)=>({rank:H+1,abbr:C.team_abbr,name:pt[C.team_abbr]||C.team_abbr,logo:qt(C),value:parseFloat(C.defense_epa_per_play).toFixed(3),metricLabel:"Def EPA/Play"}))},X=g.filter(C=>C.position==="QB"&&C.passing_yards!=null),Q=g.filter(C=>C.position==="RB"&&C.rushing_yards!=null),ee=g.filter(C=>C.position==="WR"&&C.receiving_yards!=null),fe={qbPassingYards:[...X].sort((C,H)=>parseFloat(H.passing_yards)-parseFloat(C.passing_yards)).slice(0,5).map((C,H)=>({rank:H+1,id:C.gsis_id,name:C.name,team:C.team,headshot:C.headshot_url,value:parseInt(C.passing_yards).toLocaleString(),metricLabel:"Passing Yards"})),rbYards:[...Q].sort((C,H)=>parseFloat(H.rushing_yards)-parseFloat(C.rushing_yards)).slice(0,5).map((C,H)=>({rank:H+1,id:C.gsis_id,name:C.name,team:C.team,headshot:C.headshot_url,value:parseInt(C.rushing_yards).toLocaleString(),metricLabel:"Rush Yards"})),wrYards:[...ee].sort((C,H)=>parseFloat(H.receiving_yards)-parseFloat(C.receiving_yards)).slice(0,5).map((C,H)=>({rank:H+1,id:C.gsis_id,name:C.name,team:C.team,headshot:C.headshot_url,value:parseInt(C.receiving_yards).toLocaleString(),metricLabel:"Rec Yards"}))};return{scatterData:Y,teamLeaderboards:W,playerLeaderboards:fe,avgOffEPA:R,avgDefEPA:G}},{scatterData:N,teamLeaderboards:x,playerLeaderboards:w,avgOffEPA:A,avgDefEPA:P}=b(),D=c||u,T=f||d;I.useEffect(()=>{if(h&&!c){const m=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(m)}},[h,c]);const q=(m,S,R,F,G=!1)=>{if(!m||m.length===0)return null;const Y=Math.max(...m.map(X=>parseFloat(X.value))),W=[...m];return p.createElement("div",{className:"space-y-3 py-2"},W.map((X,Q)=>{const ee=parseFloat(X.value)/Y*100,fe=G?(W.length-1-Q)*.3:Q*.3;return p.createElement("div",{key:`${X.abbr}-${S}`,className:"relative",onClick:()=>E(X.abbr)},p.createElement("div",{className:"flex items-center justify-between mb-1 cursor-pointer hover:opacity-80 transition-opacity"},p.createElement("div",{className:"flex items-center space-x-2"},p.createElement("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center overflow-hidden border border-gray-700"},p.createElement("img",{src:X.logo,alt:`${X.name} logo`,className:"w-6 h-6 object-contain",onError:C=>{C.target.style.display="none"},loading:"lazy"})),p.createElement("div",{className:"text-sm font-medium text-white truncate max-w-[120px]",title:X.name},X.name)),p.createElement("div",{className:"text-right"},p.createElement("div",{className:"text-base font-bold text-green-400"},X.value),p.createElement("div",{className:"text-xs text-gray-400"},X.metricLabel))),p.createElement("div",{className:"h-2 w-full bg-gray-700 rounded-full overflow-hidden"},p.createElement(ke.div,{className:"h-full rounded-full",style:{background:`linear-gradient(to right, ${R}, ${F})`,originX:0,width:`${ee}%`},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.8,delay:fe,ease:"easeOut"},custom:Q})),p.createElement("div",{className:"absolute -left-7 top-1 w-5 h-5 flex items-center justify-center font-bold text-xs text-gray-400 bg-gray-800/80 rounded-full"},X.rank))}))},z=()=>p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 h-[60px] bg-gray-700/50 animate-pulse"}),p.createElement("div",{className:"p-3 h-[40px] bg-gray-600/50 animate-pulse"}),p.createElement("div",{className:"p-6 space-y-3"},[...Array(5)].map((m,S)=>p.createElement("div",{key:S,className:"flex items-center space-x-3 animate-pulse"},p.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-700"}),p.createElement("div",{className:"flex-1 space-y-2"},p.createElement("div",{className:"h-3 bg-gray-700 rounded w-3/4"}),p.createElement("div",{className:"h-2 bg-gray-700 rounded w-full"})),p.createElement("div",{className:"w-12 h-8 bg-gray-700 rounded"})))),p.createElement("div",{className:"p-3 h-[40px] bg-gray-600/50 animate-pulse mt-1"}),p.createElement("div",{className:"p-6 space-y-3"},[...Array(5)].map((m,S)=>p.createElement("div",{key:S,className:"flex items-center space-x-3 animate-pulse"},p.createElement("div",{className:"w-8 h-8 rounded-full bg-gray-700"}),p.createElement("div",{className:"flex-1 space-y-2"},p.createElement("div",{className:"h-3 bg-gray-700 rounded w-3/4"}),p.createElement("div",{className:"h-2 bg-gray-700 rounded w-full"})),p.createElement("div",{className:"w-12 h-8 bg-gray-700 rounded"}))))),$=()=>p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 h-[60px] bg-gray-700/50 animate-pulse"}),p.createElement("div",{className:"p-3 h-[40px] bg-gray-600/50 animate-pulse"}),p.createElement("div",{className:"p-6 space-y-3"},[...Array(5)].map((m,S)=>p.createElement("div",{key:S,className:"flex items-center space-x-3 animate-pulse"},p.createElement("div",{className:"w-10 h-10 rounded-full bg-gray-700"}),p.createElement("div",{className:"flex-1 space-y-2"},p.createElement("div",{className:"h-3 bg-gray-700 rounded w-3/4"}),p.createElement("div",{className:"h-2 bg-gray-700 rounded w-1/2"})),p.createElement("div",{className:"w-12 h-8 bg-gray-700 rounded"})))));if(D)return p.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},p.createElement("div",{className:"mb-12 text-center py-16 animate-pulse"},p.createElement("div",{className:"h-6 w-32 bg-gray-700 rounded-full mx-auto mb-3"}),p.createElement("div",{className:"h-10 md:h-14 bg-gray-700 rounded w-3/4 mx-auto mb-6"}),p.createElement("div",{className:"h-6 md:h-8 bg-gray-700 rounded w-1/2 mx-auto mb-8"}),p.createElement("div",{className:"flex justify-center gap-4"},p.createElement("div",{className:"h-12 w-36 bg-gray-700 rounded-md"}),p.createElement("div",{className:"h-12 w-36 bg-gray-700 rounded-md"}))),p.createElement("div",{className:"mb-16"},p.createElement("div",{className:"h-8 w-64 bg-gray-700 rounded mb-8 animate-pulse"}),p.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},p.createElement(z,null),p.createElement(z,null)),p.createElement("div",{className:"h-8 w-64 bg-gray-700 rounded mb-8 animate-pulse"}),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},p.createElement($,null),p.createElement($,null),p.createElement($,null))),p.createElement("div",{className:"h-[500px] bg-gray-800/70 rounded-xl mb-16 animate-pulse"}),p.createElement("div",{className:"h-[500px] bg-gray-800/70 rounded-xl mb-16 animate-pulse"}),p.createElement("div",{className:"h-[400px] bg-gray-800/70 rounded-xl mb-8 animate-pulse"}));if(T)return p.createElement("div",{className:"flex flex-col items-center justify-center h-screen"},p.createElement("p",{className:"text-red-500 text-xl"},"Error loading data"),p.createElement("p",{className:"text-gray-400"},T.message));const U=m=>p.createElement("div",{key:`${m.id}-${m.metricLabel}`,className:"flex items-center p-3 cursor-pointer hover:bg-gray-700/50 transition-colors",onClick:()=>_(m.id)},p.createElement("div",{className:"w-6 h-6 flex items-center justify-center font-bold text-xs text-gray-400 mr-3 bg-gray-800/80 rounded-full"},m.rank),p.createElement("div",{className:"relative mr-3"},p.createElement("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-900 border border-gray-700"},p.createElement("img",{src:m.headshot||"https://via.placeholder.com/150?text=No+Image",alt:`${m.name} headshot`,className:"w-10 h-10 object-cover",onError:S=>{S.target.src="https://via.placeholder.com/150?text=No+Image"},loading:"lazy"})),m.team&&p.createElement("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-gray-800 flex items-center justify-center overflow-hidden border border-gray-700"},p.createElement("img",{src:hr[m.team]||"https://via.placeholder.com/20?text=N/A",alt:`${m.team} logo`,className:"w-4 h-4 object-contain",onError:S=>{S.target.style.display="none"}}))),p.createElement("div",{className:"flex-1"},p.createElement("div",{className:"font-semibold text-white text-sm truncate",title:m.name},m.name),p.createElement("div",{className:"text-xs text-gray-400"},m.team)),p.createElement("div",{className:"flex flex-col items-end"},p.createElement("div",{className:"text-lg font-bold text-green-400"},m.value),p.createElement("div",{className:"text-xs text-gray-400"},m.metricLabel)));return p.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},p.createElement(ke.div,{className:"mb-12 text-center relative py-16",initial:{opacity:0},animate:{opacity:1},transition:{duration:.7}},p.createElement("div",{className:"absolute inset-0 bg-grid-pattern opacity-5 z-0"}),p.createElement("div",{className:"relative z-10"},p.createElement(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"inline-block mb-3 px-4 py-1 bg-blue-600/20 text-blue-400 rounded-full text-sm font-medium tracking-wide"},"NFL SEASON ","2024"),p.createElement(ke.h1,{className:"text-4xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3}},"Sideline Metrics"),p.createElement(ke.p,{className:"text-xl md:text-2xl text-gray-400 max-w-3xl mx-auto mb-8",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4}},"Comprehensive NFL analytics visualizing team and player performance"),p.createElement(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex justify-center gap-4 flex-wrap"},p.createElement(nt,{to:"/teams",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition duration-150 shadow-lg shadow-blue-500/20"},"Explore Teams"),p.createElement(nt,{to:"/rankings",className:"px-6 py-3 bg-gray-700 text-white font-medium rounded-md hover:bg-gray-600 transition duration-150 border border-gray-600"},"Player Rankings")))),p.createElement(ke.div,{className:"mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6}},p.createElement("div",{className:"flex justify-between items-center mb-8"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold"},"NFL Team Leaderboards"),p.createElement(nt,{to:"/teams",className:"text-blue-400 hover:text-blue-300 transition flex items-center text-sm font-medium"},"View All Teams",p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})))),p.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12"},p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 bg-gradient-to-r from-green-600/90 to-green-800/90"},p.createElement("h3",{className:"text-xl font-semibold text-white"},"Offensive Leaders")),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider"},"Points Per Game"),p.createElement("div",{className:"p-6"},q(x.offensePPG,"PPG","#10B981","#065F46",!1)),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider mt-1"},"EPA per play ",p.createElement(Pn,{text:On})),p.createElement("div",{className:"p-6"},q(x.offenseEPA,"EPA/Play","#10B981","#065F46",!1))),p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 bg-gradient-to-r from-blue-600/90 to-blue-800/90"},p.createElement("h3",{className:"text-xl font-semibold text-white"},"Defensive Leaders")),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider"},"Points Per Game Allowed"),p.createElement("div",{className:"p-6"},q(x.defensePPG,"PPG Allowed","#3B82F6","#1E40AF",!0)),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider mt-1"},"EPA per play allowed ",p.createElement(Pn,{text:On})),p.createElement("div",{className:"p-6"},q(x.defenseEPA,"EPA/Play","#3B82F6","#1E40AF",!0)))),p.createElement("div",{className:"flex justify-between items-center mb-8"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold"},"NFL Player Leaderboards"),p.createElement(nt,{to:"/rankings",className:"text-blue-400 hover:text-blue-300 transition flex items-center text-sm font-medium"},"View All Players",p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})))),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 bg-gradient-to-r from-red-600/90 to-red-800/90"},p.createElement("h3",{className:"text-xl font-semibold text-white"},"QB Leaders")),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider"},"Passing Yards"),p.createElement("div",{className:"divide-y divide-gray-700/50"},(Z=w.qbPassingYards)==null?void 0:Z.map(U))),p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 bg-gradient-to-r from-purple-600/90 to-purple-800/90"},p.createElement("h3",{className:"text-xl font-semibold text-white"},"RB Leaders")),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider"},"Rushing Yards"),p.createElement("div",{className:"divide-y divide-gray-700/50"},(v=w.rbYards)==null?void 0:v.map(U))),p.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-700/50"},p.createElement("div",{className:"p-4 bg-gradient-to-r from-yellow-600/90 to-yellow-800/90"},p.createElement("h3",{className:"text-xl font-semibold text-white"},"WR Leaders")),p.createElement("div",{className:"p-3 bg-gray-700/70 font-semibold text-gray-300 uppercase text-sm tracking-wider"},"Receiving Yards"),p.createElement("div",{className:"divide-y divide-gray-700/50"},(y=w.wrYards)==null?void 0:y.map(U)))),p.createElement("div",{className:"text-center mt-6 text-gray-400 text-sm"},p.createElement("p",null,"Click on any team or player to view detailed analytics. All stats from ","2024"," season."))),p.createElement(ke.div,{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl p-8 border border-gray-700/50 mb-16 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7}},p.createElement("div",{className:"flex justify-between items-center mb-6"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold"},"NFL Team Performance Map"),p.createElement("div",{className:"flex items-center space-x-2 text-sm"},p.createElement("button",{className:`px-3 py-1 rounded transition-colors ${r==="all"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>i("all")},"All"),p.createElement("button",{className:`px-3 py-1 rounded transition-colors ${r==="afc"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>i("afc")},"AFC"),p.createElement("button",{className:`px-3 py-1 rounded transition-colors ${r==="nfc"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>i("nfc")},"NFC"))),p.createElement("div",{className:"h-[450px] w-full relative"},p.createElement("div",{className:"absolute top-2 right-2 bg-gray-900/80 backdrop-blur-sm p-3 rounded-lg border border-gray-700/50 z-10 text-xs"},p.createElement("h4",{className:"font-bold text-white mb-2 text-center"},"Performance Guide"),p.createElement("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mb-2"},p.createElement("div",{className:"text-gray-400"},"Conference:"),p.createElement("div",{className:"flex items-center"},p.createElement("div",{className:"w-3 h-3 rounded-full border-2 border-red-500 mr-2"}),p.createElement("span",null,"AFC"),p.createElement("div",{className:"w-3 h-3 rounded-full border-2 border-blue-500 ml-4 mr-2"}),p.createElement("span",null,"NFC")),p.createElement("div",{className:"text-gray-400"},"EPA Rating:"),p.createElement("div",null,p.createElement("div",{className:"flex items-center mb-1"},p.createElement("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),p.createElement("span",null,"High EPA")),p.createElement("div",{className:"flex items-center mb-1"},p.createElement("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),p.createElement("span",null,"Medium EPA")),p.createElement("div",{className:"flex items-center"},p.createElement("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),p.createElement("span",null,"Negative EPA")))),p.createElement("div",{className:"text-center text-gray-400 mt-2 border-t border-gray-700 pt-1"},"Circle size represents EPA value")),p.createElement(Ui,{projection:"geoAlbersUsa",projectionConfig:{scale:1e3},style:{width:"100%",height:"100%"},className:"bg-gray-900/20 rounded-lg"},p.createElement(Wi,{geography:"/assets/us-states.json"},({geographies:m})=>m.map(S=>p.createElement(wh,{key:S.rsmKey,geography:S,fill:"#27303f",stroke:"#4b5563",strokeWidth:.5}))),Oh.filter(m=>r==="all"||r==="afc"&&m.conference==="AFC"||r==="nfc"&&m.conference==="NFC").map(m=>{const S=h==null?void 0:h.find(Q=>Q.team_abbr===m.abbr),R=S?parseFloat(S.offense_epa_per_play):0,F=(S==null?void 0:S.wins)||0,G=(S==null?void 0:S.losses)||0,Y=8+(R>0?R*100:0);let W=m.color;R>.1?W="#10B981":R>0?W="#F59E0B":W="#EF4444";const X=m.conference==="AFC"?"#EF4444":"#3B82F6";return p.createElement(Zi,{key:m.abbr,coordinates:m.coordinates,onMouseEnter:()=>n(m),onMouseLeave:()=>n(null),onClick:()=>E(m.abbr)},p.createElement("circle",{r:Y+2,fill:"transparent",stroke:X,strokeWidth:2,opacity:.8,style:{cursor:"pointer"}}),p.createElement("circle",{r:Y,fill:W,opacity:.8,style:{cursor:"pointer",transition:"all 0.2s ease"}}),p.createElement("text",{textAnchor:"middle",y:-Y-5,style:{fontFamily:"system-ui",fontSize:"8px",fontWeight:"bold",fill:"#FFFFFF",pointerEvents:"none"}},m.abbr),Y>12&&p.createElement("text",{textAnchor:"middle",y:Y+8,style:{fontFamily:"system-ui",fontSize:"7px",fill:"#FFF",pointerEvents:"none"}},F,"-",G))}))),p.createElement(ke.div,{className:"mt-4 w-full flex justify-center",initial:{opacity:0,y:10},animate:{opacity:t?1:0,y:t?0:10},transition:{duration:.2}},t&&h&&p.createElement("div",{className:"p-4 bg-gray-900/80 backdrop-blur-sm rounded-lg border border-gray-700/50 flex items-center"},p.createElement("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center overflow-hidden mr-4 border-2",style:{borderColor:t.conference==="AFC"?"#EF4444":"#3B82F6"}},p.createElement("img",{src:hr[t.abbr],alt:t.name,className:"w-9 h-9 object-contain",onError:m=>{m.target.style.display="none"}})),p.createElement("div",null,p.createElement("div",{className:"flex items-center"},p.createElement("p",{className:"font-bold text-base"},pt[t.abbr]),p.createElement("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded ${t.conference==="AFC"?"bg-red-900/50 text-red-300":"bg-blue-900/50 text-blue-300"}`},t.conference)),(()=>{const m=h.find(S=>S.team_abbr===t.abbr);return m?p.createElement("div",{className:"grid grid-cols-2 gap-x-8 gap-y-1 mt-1 text-sm"},p.createElement("div",{className:"text-gray-400"},"Record:"),p.createElement("div",null,m.wins,"-",m.losses,m.ties>0?`-${m.ties}`:""),p.createElement("div",{className:"text-gray-400"},"Off EPA:"),p.createElement("div",null,parseFloat(m.offense_epa_per_play).toFixed(3)),p.createElement("div",{className:"text-gray-400"},"Off PPG:"),p.createElement("div",null,parseFloat(m.offensive_ppg).toFixed(1)),p.createElement("div",{className:"text-gray-400"},"Def EPA:"),p.createElement("div",null,parseFloat(m.defense_epa_per_play).toFixed(3))):p.createElement("p",{className:"text-gray-400 text-sm"},"Stats not available")})()))),p.createElement("div",{className:"mt-6 text-sm text-gray-400 text-center"},p.createElement("p",null,"Markers show offensive EPA/play and conference. Larger circles indicate better offensive performance."),p.createElement("p",{className:"mt-1"},"Click on any team to view detailed stats."))),p.createElement(ke.div,{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl p-8 border border-gray-700/50 mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8}},p.createElement("div",{className:"flex justify-between items-center mb-6"},p.createElement("h2",{className:"text-2xl md:text-3xl font-bold"},"Offense vs Defense Performance vs League Average",p.createElement(Pn,{text:`Compares Offensive EPA/Play (X-axis) vs Defensive EPA/Play (Y-axis, inverted so higher is better). Dashed lines show league averages. Bubble size represents Point Differential. ${On}`}))),p.createElement("div",{className:"relative z-10 h-[450px] w-full"},p.createElement("div",{className:"absolute inset-0 grid grid-cols-2 grid-rows-2 pointer-events-none"},p.createElement("div",{className:"flex items-end justify-start p-4"},p.createElement("div",{className:"text-xs md:text-sm text-gray-200 bg-gray-900/80 backdrop-blur-sm rounded p-2 shadow-md border border-gray-700/50"},p.createElement("span",{className:"block font-semibold mb-1 text-blue-400"},"Below Avg Offense / Above Avg Defense"),p.createElement("span",{className:"text-xs text-gray-400"},"Struggling offense, strong D"))),p.createElement("div",{className:"flex items-end justify-end p-4"},p.createElement("div",{className:"text-xs md:text-sm text-gray-200 bg-gray-900/80 backdrop-blur-sm rounded p-2 shadow-md border border-gray-700/50"},p.createElement("span",{className:"block font-semibold mb-1 text-green-400"},"Above Avg Offense / Above Avg Defense"),p.createElement("span",{className:"text-xs text-gray-400"},"Well-rounded teams"))),p.createElement("div",{className:"flex items-start justify-start p-4"},p.createElement("div",{className:"text-xs md:text-sm text-gray-200 bg-gray-900/80 backdrop-blur-sm rounded p-2 shadow-md border border-gray-700/50"},p.createElement("span",{className:"block font-semibold mb-1 text-red-400"},"Below Avg Offense / Below Avg Defense"),p.createElement("span",{className:"text-xs text-gray-400"},"Needs improvement"))),p.createElement("div",{className:"flex items-start justify-end p-4"},p.createElement("div",{className:"text-xs md:text-sm text-gray-200 bg-gray-900/80 backdrop-blur-sm rounded p-2 shadow-md border border-gray-700/50"},p.createElement("span",{className:"block font-semibold mb-1 text-yellow-400"},"Above Avg Offense / Below Avg Defense"),p.createElement("span",{className:"text-xs text-gray-400"},"High scoring, weak D")))),p.createElement(Bs,{width:"100%",height:"100%"},p.createElement(Us,{margin:{top:20,right:30,bottom:60,left:30}},p.createElement(js,{cursor:{strokeDasharray:"3 3"},content:m=>p.createElement(Dh,{...m,teamsData:h}),wrapperStyle:{zIndex:50}}),p.createElement(Hs,{strokeDasharray:"3 3",stroke:"#374151"}),p.createElement(qs,{type:"number",dataKey:"x",name:"Offensive EPA/Play",domain:["auto","auto"],tick:{fill:"#D1D5DB"},label:{value:"Offensive EPA/Play",position:"bottom",fill:"#D1D5DB",dy:25}}),p.createElement(Gs,{type:"number",dataKey:"y",name:"Defensive EPA/Play",domain:["auto","auto"],tick:{fill:"#D1D5DB"},label:{value:"Defensive EPA/Play (Higher is Better)",angle:-90,position:"left",fill:"#D1D5DB",dx:-20}}),p.createElement(Ws,{type:"number",dataKey:"z",range:[60,500]}),p.createElement(ra,{y:P,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1.5,label:{value:"Avg Def EPA",position:"insideTopRight",fill:"#9CA3AF",fontSize:10,dy:-5,dx:5}}),p.createElement(ra,{x:A,stroke:"#9CA3AF",strokeDasharray:"4 4",strokeWidth:1.5,label:{value:"Avg Off EPA",position:"insideBottomRight",fill:"#9CA3AF",fontSize:10,dy:15,dx:5}}),p.createElement(Xs,{name:"Teams",data:N},N.map((m,S)=>p.createElement(Ys,{key:`cell-${S}`,fill:m.color,onClick:()=>E(m.name),style:{cursor:"pointer"}}))))))),p.createElement(ke.div,{className:"bg-gradient-to-br from-gray-800/80 to-gray-900/80 backdrop-blur-sm rounded-xl shadow-xl p-10 border border-gray-700/50 text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9}},p.createElement("h2",{className:"text-3xl font-bold mb-4"},"Explore NFL Analytics"),p.createElement("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto"},"Dive deeper into team details, player stats, and game breakdowns with our comprehensive tools."),p.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-8"},p.createElement("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-gray-800 flex flex-col items-center hover:border-blue-500/30 transition duration-300 hover:shadow-lg"},p.createElement("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mb-4"},p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),p.createElement("h3",{className:"text-xl font-bold mb-2"},"Team Analytics"),p.createElement("p",{className:"text-gray-400 text-sm mb-4"},"Compare team performance across multiple metrics and seasons."),p.createElement(nt,{to:"/teams",className:"mt-auto px-4 py-2 bg-blue-600/80 hover:bg-blue-500 text-white text-sm font-medium rounded transition duration-150 w-full"},"View Teams")),p.createElement("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-gray-800 flex flex-col items-center hover:border-green-500/30 transition duration-300 hover:shadow-lg"},p.createElement("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mb-4"},p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))),p.createElement("h3",{className:"text-xl font-bold mb-2"},"Player Rankings"),p.createElement("p",{className:"text-gray-400 text-sm mb-4"},"Explore detailed player stats and performance rankings."),p.createElement(nt,{to:"/rankings",className:"mt-auto px-4 py-2 bg-green-600/80 hover:bg-green-500 text-white text-sm font-medium rounded transition duration-150 w-full"},"View Rankings")),p.createElement("div",{className:"bg-gray-900/50 backdrop-blur-sm p-6 rounded-lg border border-gray-800 flex flex-col items-center hover:border-purple-500/30 transition duration-300 hover:shadow-lg"},p.createElement("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center mb-4"},p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}))),p.createElement("h3",{className:"text-xl font-bold mb-2"},"Position Analysis"),p.createElement("p",{className:"text-gray-400 text-sm mb-4"},"Analyze performance data by position groups and trends."),p.createElement(nt,{to:"/rankings",className:"mt-auto px-4 py-2 bg-purple-600/80 hover:bg-purple-500 text-white text-sm font-medium rounded transition duration-150 w-full"},"View Players"))),p.createElement("div",{className:"mt-8 text-sm text-gray-400"},p.createElement("p",null,"Stats and analysis powered by advanced NFL data. Updated weekly throughout the season."))))}export{Uh as default};
