import{S as G,_ as rt,f as L,g as T,j as at,A as ot,l as D,m as st,r as Q,h as I,$ as ct,i as lt,b as ut,c as pt,e as w,q as ft,G as yt,H as V,v as mt,a0 as vt,C as dt,x as ht,X as bt,Y as xt,J as At}from"./generateCategoricalChart-c719c97c.js";import{R as p,g as Ot}from"./index-c17ab661.js";function _(e){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}function Pt(e,t,i){return t&&X(e.prototype,t),i&&X(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function St(e,t,i){return t=B(t),wt(e,U()?Reflect.construct(t,i||[],B(e).constructor):t.apply(e,i))}function wt(e,t){if(t&&(_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}function _t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U=function(){return!!e})()}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},B(e)}function jt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Z(e,t)}function tt(e,t,i){return t=et(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function et(e){var t=Et(e,"string");return _(t)=="symbol"?t:t+""}function Et(e,t){if(_(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(_(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C=function(e){function t(){return gt(this,t),St(this,t,arguments)}return jt(t,e),Pt(t,[{key:"render",value:function(){return null}}])}(p.Component);tt(C,"displayName","ZAxis");tt(C,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Tt=["option","isActive"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},K.apply(this,arguments)}function Kt(e,t){if(e==null)return{};var i=zt(e,t),n,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zt(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function $t(e){var t=e.option,i=e.isActive,n=Kt(e,Tt);return typeof t=="string"?p.createElement(G,K({option:p.createElement(rt,K({type:t},n)),isActive:i,shapeType:"symbols"},n)):p.createElement(G,K({option:t,isActive:i,shapeType:"symbols"},n))}function j(e){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},z.apply(this,arguments)}function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function A(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Y(Object(i),!0).forEach(function(n){P(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,it(n.key),n)}}function It(e,t,i){return t&&H(e.prototype,t),i&&H(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bt(e,t,i){return t=N(t),Nt(e,nt()?Reflect.construct(t,i||[],N(e).constructor):t.apply(e,i))}function Nt(e,t){if(t&&(j(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ct(e)}function Ct(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nt=function(){return!!e})()}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},N(e)}function Rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},M(e,t)}function P(e,t,i){return t=it(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function it(e){var t=Ft(e,"string");return j(t)=="symbol"?t:t+""}function Ft(e,t){if(j(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t||"default");if(j(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R=function(e){function t(){var i;Dt(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=Bt(this,t,[].concat(r)),P(i,"state",{isAnimationFinished:!1}),P(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0})}),P(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1})}),P(i,"id",mt("recharts-scatter-")),i}return Rt(t,e),It(t,[{key:"renderSymbolsStatically",value:function(n){var r=this,a=this.props,f=a.shape,O=a.activeShape,m=a.activeIndex,y=L(this.props,!1);return n.map(function(o,s){var u=m===s,c=u?O:f,v=A(A({},y),o);return p.createElement(T,z({className:"recharts-scatter-symbol",key:"symbol-".concat(o==null?void 0:o.cx,"-").concat(o==null?void 0:o.cy,"-").concat(o==null?void 0:o.size,"-").concat(s)},at(r.props,o,s),{role:"img"}),p.createElement($t,z({option:c,isActive:u,key:"symbol-".concat(s)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,r=this.props,a=r.points,f=r.isAnimationActive,O=r.animationBegin,m=r.animationDuration,y=r.animationEasing,o=r.animationId,s=this.state.prevPoints;return p.createElement(ot,{begin:O,duration:m,isActive:f,easing:y,from:{t:0},to:{t:1},key:"pie-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(u){var c=u.t,v=a.map(function(d,h){var b=s&&s[h];if(b){var x=D(b.cx,d.cx),l=D(b.cy,d.cy),g=D(b.size,d.size);return A(A({},d),{},{cx:x(c),cy:l(c),size:g(c)})}var S=D(0,d.size);return A(A({},d),{},{size:S(c)})});return p.createElement(T,null,n.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var n=this.props,r=n.points,a=n.isAnimationActive,f=this.state.prevPoints;return a&&r&&r.length&&(!f||!st(f,r))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(r)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var r=this.props,a=r.points,f=r.xAxis,O=r.yAxis,m=r.children,y=Q(m,vt);return y?y.map(function(o,s){var u=o.props,c=u.direction,v=u.dataKey;return p.cloneElement(o,{key:"".concat(c,"-").concat(v,"-").concat(a[s]),data:a,xAxis:f,yAxis:O,layout:c==="x"?"vertical":"horizontal",dataPointFormatter:function(h,b){return{x:h.cx,y:h.cy,value:c==="x"?+h.node.x:+h.node.y,errorVal:I(h,b)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,r=n.points,a=n.line,f=n.lineType,O=n.lineJointType,m=L(this.props,!1),y=L(a,!1),o,s;if(f==="joint")o=r.map(function(l){return{x:l.cx,y:l.cy}});else if(f==="fitting"){var u=ct(r),c=u.xmin,v=u.xmax,d=u.a,h=u.b,b=function(g){return d*g+h};o=[{x:c,y:b(c)},{x:v,y:b(v)}]}var x=A(A(A({},m),{},{fill:"none",stroke:m&&m.fill},y),{},{points:o});return p.isValidElement(a)?s=p.cloneElement(a,x):lt(a)?s=a(x):s=p.createElement(ut,z({},x,{type:O})),p.createElement(T,{className:"recharts-scatter-line",key:"recharts-scatter-line"},s)}},{key:"render",value:function(){var n=this.props,r=n.hide,a=n.points,f=n.line,O=n.className,m=n.xAxis,y=n.yAxis,o=n.left,s=n.top,u=n.width,c=n.height,v=n.id,d=n.isAnimationActive;if(r||!a||!a.length)return null;var h=this.state.isAnimationFinished,b=pt("recharts-scatter",O),x=m&&m.allowDataOverflow,l=y&&y.allowDataOverflow,g=x||l,S=w(v)?this.id:v;return p.createElement(T,{className:b,clipPath:g?"url(#clipPath-".concat(S,")"):null},x||l?p.createElement("defs",null,p.createElement("clipPath",{id:"clipPath-".concat(S)},p.createElement("rect",{x:x?o:o-u/2,y:l?s:s-c/2,width:x?u:u*2,height:l?c:c*2}))):null,f&&this.renderLine(),this.renderErrorBar(),p.createElement(T,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!d||h)&&ft.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.animationId!==r.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:r.curPoints}:n.points!==r.curPoints?{curPoints:n.points}:null}}])}(Ot.PureComponent);P(R,"displayName","Scatter");P(R,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!yt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});P(R,"getComposedData",function(e){var t=e.xAxis,i=e.yAxis,n=e.zAxis,r=e.item,a=e.displayedData,f=e.xAxisTicks,O=e.yAxisTicks,m=e.offset,y=r.props.tooltipType,o=Q(r.props.children,dt),s=w(t.dataKey)?r.props.dataKey:t.dataKey,u=w(i.dataKey)?r.props.dataKey:i.dataKey,c=n&&n.dataKey,v=n?n.range:C.defaultProps.range,d=v&&v[0],h=t.scale.bandwidth?t.scale.bandwidth():0,b=i.scale.bandwidth?i.scale.bandwidth():0,x=a.map(function(l,g){var S=I(l,s),W=I(l,u),E=!w(c)&&I(l,c)||"-",q=[{name:w(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:l,dataKey:s,type:y},{name:w(i.dataKey)?r.props.name:i.name||i.dataKey,unit:i.unit||"",value:W,payload:l,dataKey:u,type:y}];E!=="-"&&q.push({name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:l,dataKey:c,type:y});var F=V({axis:t,ticks:f,bandSize:h,entry:l,index:g,dataKey:s}),k=V({axis:i,ticks:O,bandSize:b,entry:l,index:g,dataKey:u}),J=E!=="-"?n.scale(E):d,$=Math.sqrt(Math.max(J,0)/Math.PI);return A(A({},l),{},{cx:F,cy:k,x:F-$,y:k-$,xAxis:t,yAxis:i,zAxis:n,width:2*$,height:2*$,size:J,node:{x:S,y:W,z:E},tooltipPayload:q,tooltipPosition:{x:F,y:k},payload:l},o&&o[g]&&o[g].props)});return A({points:x},m)});var Zt=ht({chartName:"ScatterChart",GraphicalChild:R,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:xt},{axisType:"zAxis",AxisComp:C}],formatAxisMap:At});export{Zt as S,C as Z,R as a};
