import{g as v,j as xe,h as K,R as e}from"./index-c17ab661.js";import{R as I,L as _e,T as O,X as U,Y as J,a as se,B as ne,C as X}from"./generateCategoricalChart-c719c97c.js";import{R as Ee,P as Ne,a as we,b as Ae,c as Ce}from"./RadarChart-76623cc3.js";import{B as le}from"./BarChart-5a60b6bc.js";import{S as ke,Z as Fe,a as Se}from"./ScatterChart-8897daca.js";const Pe={ARI:"#97233F",ATL:"#A71930",BAL:"#241773",BUF:"#00338D",CAR:"#0085CA",CHI:"#0B162A",CIN:"#FB4F14",CLE:"#311D00",DAL:"#003594",DEN:"#FB4F14",DET:"#0076B6",GB:"#203731",HOU:"#03202F",IND:"#002C5F",JAX:"#101820",KC:"#E31837",LAC:"#0080C6",LAR:"#003594",LV:"#000000",MIA:"#008E97",MIN:"#4F2683",NE:"#002244",NO:"#D3BC8D",NYG:"#0B2265",NYJ:"#125740",PHI:"#004C54",PIT:"#FFB612",SEA:"#002244",SF:"#AA0000",TB:"#D50A0A",TEN:"#0C2340",WAS:"#773141"},De={ARI:{conference:"NFC",division:"West"},ATL:{conference:"NFC",division:"South"},BAL:{conference:"AFC",division:"North"},BUF:{conference:"AFC",division:"East"},CAR:{conference:"NFC",division:"South"},CHI:{conference:"NFC",division:"North"},CIN:{conference:"AFC",division:"North"},CLE:{conference:"AFC",division:"North"},DAL:{conference:"NFC",division:"East"},DEN:{conference:"AFC",division:"West"},DET:{conference:"NFC",division:"North"},GB:{conference:"NFC",division:"North"},HOU:{conference:"AFC",division:"South"},IND:{conference:"AFC",division:"South"},JAX:{conference:"AFC",division:"South"},KC:{conference:"AFC",division:"West"},LAC:{conference:"AFC",division:"West"},LAR:{conference:"NFC",division:"West"},LV:{conference:"AFC",division:"West"},MIA:{conference:"AFC",division:"East"},MIN:{conference:"NFC",division:"North"},NE:{conference:"AFC",division:"East"},NO:{conference:"NFC",division:"South"},NYG:{conference:"NFC",division:"East"},NYJ:{conference:"AFC",division:"East"},PHI:{conference:"NFC",division:"East"},PIT:{conference:"AFC",division:"North"},SEA:{conference:"NFC",division:"West"},SF:{conference:"NFC",division:"West"},TB:{conference:"NFC",division:"South"},TEN:{conference:"AFC",division:"South"},WAS:{conference:"NFC",division:"East"}},R=(p,N,g=!1)=>{const D=N.map(x=>parseFloat(x)).filter(x=>!isNaN(x));if(!D.length)return 0;const k=parseFloat(p);if(isNaN(k))return 0;const C=[...D].sort((x,G)=>x-G);let b=C.findIndex(x=>x>=k);b===-1&&(b=C.length);let P=Math.round(b/C.length*100);return b===0&&C.length>1&&(P=Math.round(1/C.length*100)),P},Le=(p,N=!1)=>{const g=N?100-p:p;return g>=90?"text-emerald-500 bg-emerald-900/50":g>=80?"text-emerald-400 bg-emerald-900/50":g>=70?"text-green-400 bg-green-900/50":g>=60?"text-lime-400 bg-lime-900/50":g>=50?"text-amber-300 bg-amber-900/50":g>=40?"text-amber-400 bg-amber-900/50":g>=30?"text-orange-400 bg-orange-900/50":g>=20?"text-orange-500 bg-orange-900/50":g>=10?"text-orange-600 bg-orange-900/50":"text-red-500 bg-red-900/50"},Te=(p,N=!1)=>{const g=N?100-p:p;return g>=90?"from-emerald-500 to-emerald-600":g>=80?"from-emerald-400 to-emerald-500":g>=70?"from-green-400 to-green-500":g>=60?"from-lime-400 to-lime-500":g>=50?"from-amber-300 to-amber-400":g>=40?"from-amber-400 to-amber-500":g>=30?"from-orange-400 to-orange-500":g>=20?"from-orange-500 to-orange-600":g>=10?"from-orange-600 to-orange-700":"from-red-500 to-red-600"},Re={ARI:"https://a.espncdn.com/i/teamlogos/nfl/500/ari.png",ATL:"https://a.espncdn.com/i/teamlogos/nfl/500/atl.png",BAL:"https://a.espncdn.com/i/teamlogos/nfl/500/bal.png",BUF:"https://a.espncdn.com/i/teamlogos/nfl/500/buf.png",CAR:"https://a.espncdn.com/i/teamlogos/nfl/500/car.png",CHI:"https://a.espncdn.com/i/teamlogos/nfl/500/chi.png",CIN:"https://a.espncdn.com/i/teamlogos/nfl/500/cin.png",CLE:"https://a.espncdn.com/i/teamlogos/nfl/500/cle.png",DAL:"https://a.espncdn.com/i/teamlogos/nfl/500/dal.png",DEN:"https://a.espncdn.com/i/teamlogos/nfl/500/den.png",DET:"https://a.espncdn.com/i/teamlogos/nfl/500/det.png",GB:"https://a.espncdn.com/i/teamlogos/nfl/500/gb.png",HOU:"https://a.espncdn.com/i/teamlogos/nfl/500/hou.png",IND:"https://a.espncdn.com/i/teamlogos/nfl/500/ind.png",JAX:"https://a.espncdn.com/i/teamlogos/nfl/500/jax.png",KC:"https://a.espncdn.com/i/teamlogos/nfl/500/kc.png",LV:"https://a.espncdn.com/i/teamlogos/nfl/500/lv.png",LAC:"https://a.espncdn.com/i/teamlogos/nfl/500/lac.png",LAR:"https://a.espncdn.com/i/teamlogos/nfl/500/lar.png",MIA:"https://a.espncdn.com/i/teamlogos/nfl/500/mia.png",MIN:"https://a.espncdn.com/i/teamlogos/nfl/500/min.png",NE:"https://a.espncdn.com/i/teamlogos/nfl/500/ne.png",NO:"https://a.espncdn.com/i/teamlogos/nfl/500/no.png",NYG:"https://a.espncdn.com/i/teamlogos/nfl/500/nyg.png",NYJ:"https://a.espncdn.com/i/teamlogos/nfl/500/nyj.png",PHI:"https://a.espncdn.com/i/teamlogos/nfl/500/phi.png",PIT:"https://a.espncdn.com/i/teamlogos/nfl/500/pit.png",SEA:"https://a.espncdn.com/i/teamlogos/nfl/500/sea.png",SF:"https://a.espncdn.com/i/teamlogos/nfl/500/sf.png",TB:"https://a.espncdn.com/i/teamlogos/nfl/500/tb.png",TEN:"https://a.espncdn.com/i/teamlogos/nfl/500/ten.png",WAS:"https://a.espncdn.com/i/teamlogos/nfl/500/wsh.png"},$e=p=>p.team_logo_espn||p.team_logo||Re[p.team_abbr]||"https://via.placeholder.com/100?text=N/A",Be=()=>e.createElement("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl border border-gray-700/50 overflow-hidden animate-pulse"},e.createElement("div",{className:"p-5 flex items-center"},e.createElement("div",{className:"w-20 h-20 rounded-lg bg-gray-700 mr-4"}),e.createElement("div",{className:"flex-1 space-y-2"},e.createElement("div",{className:"h-6 bg-gray-700 rounded w-3/4"}),e.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/2"}))),e.createElement("div",{className:"p-5"},e.createElement("div",{className:"grid grid-cols-2 gap-4"},[...Array(4)].map((p,N)=>e.createElement("div",{key:N,className:"bg-gray-800/50 rounded-lg p-3.5 space-y-2"},e.createElement("div",{className:"h-3 bg-gray-700 rounded w-1/2"}),e.createElement("div",{className:"h-5 bg-gray-700 rounded w-3/4"}),e.createElement("div",{className:"h-2 bg-gray-700 rounded w-full"}),e.createElement("div",{className:"h-4 bg-gray-700 rounded w-1/4 mx-auto"}))))),e.createElement("div",{className:"bg-gray-800/60 p-3 border-t border-gray-700/50"},e.createElement("div",{className:"flex justify-around"},e.createElement("div",{className:"h-8 w-28 bg-gray-700/60 rounded"}),e.createElement("div",{className:"h-8 w-28 bg-gray-700/60 rounded"}))));function ze(){const[p,N]=v.useState([]),[g,D]=v.useState([]),[k,C]=v.useState(""),[b,P]=v.useState("cards"),[x,G]=v.useState("team_abbr"),[F,W]=v.useState("asc");v.useState("offensive_ppg");const[u,z]=v.useState([]),[L,q]=v.useState("all"),[$,V]=v.useState("all"),[d,j]=v.useState({xAxis:"offensive_ppg",yAxis:"defensive_ppg",zAxis:"offense_epa_per_play",bubbleSize:"offense_epa_per_play"}),[oe,H]=v.useState(!0),[Q,Z]=v.useState(null),[ie,ce]=v.useState([]),ee=xe(),B=[{value:"offensive_ppg",label:"Offensive PPG"},{value:"defensive_ppg",label:"Defensive PPG"},{value:"offensive_ypg",label:"Offensive YPG"},{value:"defensive_ypg",label:"Defensive YPG"},{value:"offense_epa_per_play",label:"Off EPA/Play"},{value:"defense_epa_per_play",label:"Def EPA/Play"},{value:"offense_success_rate",label:"Off Success Rate"},{value:"defense_success_rate",label:"Def Success Rate"},{value:"offense_run_play_rate",label:"Run Play Rate"},{value:"offense_pass_play_rate",label:"Pass Play Rate"},{value:"offense_motion_rate",label:"Motion Rate"},{value:"offense_pa_rate",label:"Play Action Rate"}];v.useEffect(()=>{H(!0),Z(null),K.get("http://localhost:5000/api/teams").then(a=>{K.get("http://localhost:5000/api/v1/games/").then(t=>{Y(a.data,t.data)}).catch(t=>{console.warn("❌ Failed to fetch games from v1 API, trying alternate endpoint:",t.message),K.get("http://localhost:5000/api/games").then(s=>{Y(a.data,s.data)}).catch(s=>{console.error("❌ Failed to fetch games data:",s.message);const r=me(a.data);Y(a.data,r)})})}).catch(a=>{console.error("❌ Failed to fetch teams:",a.message),Z("Failed to load team data. Please try again later."),H(!1)})},[x,F]);const Y=(a,t)=>{console.log("🏈 Processing games data:",t.length,"games found");const s=t.filter(l=>l.home_team_abbr==="LAR"||l.away_team_abbr==="LAR"||l.home_team_abbr==="LA"||l.away_team_abbr==="LA");console.log("🐏 Rams games found:",s.length,s);const r=t.map(l=>{let f=l.home_team_abbr,c=l.away_team_abbr;if(f==="LA"&&(f="LAR"),c==="LA"&&(c="LAR"),f==="WSH"&&(f="WAS"),c==="WSH"&&(c="WAS"),!l.home_score||!l.away_score){const _=parseFloat(l.home_offense_epa_per_play)||0,i=parseFloat(l.away_offense_epa_per_play)||0,E=20,T=Math.round(E+_*10),h=Math.round(E+i*10);let y=l.home_score||T.toString(),M=l.away_score||h.toString();return y===M&&(!l.home_score||!l.away_score)&&(_>=i?y=(parseInt(y)+1).toString():M=(parseInt(M)+1).toString()),{...l,home_team_abbr:f,away_team_abbr:c,home_score:y,away_score:M}}return{...l,home_team_abbr:f,away_team_abbr:c}}),n={};r.forEach(l=>{const f=l.home_team_abbr,c=l.away_team_abbr;n[f]=(n[f]||0)+1,n[c]=(n[c]||0)+1}),console.log("🏈 Game counts by team:",n);const o=a.map(l=>{const f=De[l.team_abbr]||{conference:"Unknown",division:"Unknown"},c=he(l.team_abbr,r);return console.log(`📊 ${l.team_abbr} record:`,c),{...l,conference:l.conference||f.conference,division:l.division||f.division,wins:c.wins,losses:c.losses,ties:c.ties,win_pct:(c.wins+c.ties*.5)/Math.max(1,c.wins+c.losses+c.ties)||0}});ce(r);const m=de(o,x,F);N(m),D(m),H(!1)},me=a=>{const t=[];for(let r=1;r<=17;r++)for(let n=0;n<a.length&&!(n+1>=a.length);n+=2){const o=a[n],m=a[n+1],l=parseFloat(o.offensive_ppg)||25,f=parseFloat(o.defensive_ppg)||25,c=parseFloat(m.offensive_ppg)||25,_=parseFloat(m.defensive_ppg)||25,i=l/25*(25/_)*25,E=c/25*(25/f)*25,T=Math.max(0,Math.round(i+(Math.random()*14-7))),h=Math.max(0,Math.round(E+(Math.random()*14-7)));t.push({game_id:`2023_${r}_${m.team_abbr}_${o.team_abbr}`,home_team_abbr:o.team_abbr,away_team_abbr:m.team_abbr,home_score:T.toString(),away_score:h.toString(),home_offense_epa_per_play:o.offense_epa_per_play,away_offense_epa_per_play:m.offense_epa_per_play,home_defense_epa_per_play:o.defense_epa_per_play,away_defense_epa_per_play:m.defense_epa_per_play})}return t};v.useEffect(()=>{const a=p.filter(t=>{const s=t.team_abbr.toLowerCase().includes(k.toLowerCase())||t.team_name&&t.team_name.toLowerCase().includes(k.toLowerCase()),r=L==="all"||t.conference&&t.conference.toLowerCase()===L.toLowerCase(),n=$==="all"||t.division&&t.division.toLowerCase()===$.toLowerCase();return s&&r&&n});D(a)},[k,p,L,$]);const de=(a,t,s)=>[...a].sort((r,n)=>{let o=r[t],m=n[t];const l=parseFloat(o),f=parseFloat(m);return!isNaN(l)&&!isNaN(f)?(o=l,m=f):(o=String(o).toLowerCase(),m=String(m).toLowerCase()),s==="asc"?o>m?1:-1:o<m?1:-1}),ae=a=>{u.find(t=>t.team_abbr===a.team_abbr)?z(u.filter(t=>t.team_abbr!==a.team_abbr)):u.length<4&&z([...u,a])},fe=a=>{x===a?W(F==="asc"?"desc":"asc"):(G(a),W("desc"))},S=a=>Pe[a]||"#666666",pe=()=>u.length===0?[]:[{key:"offensive_ppg",label:"Off PPG"},{key:"defensive_ppg",label:"Def PPG",invert:!0},{key:"offense_success_rate",label:"Off Success %"},{key:"defense_success_rate",label:"Def Success %",invert:!0},{key:"offense_epa_per_play",label:"Off EPA/Play"},{key:"defense_epa_per_play",label:"Def EPA/Play",invert:!0}].map(t=>{const s={metric:t.label},r=p.map(m=>parseFloat(m[t.key])||0),n=Math.max(...r),o=Math.min(...r);return u.forEach((m,l)=>{let f=parseFloat(m[t.key])||0;t.invert?s[`team${l}`]=n>o?100-(f-o)/(n-o)*100:50:s[`team${l}`]=n>o?(f-o)/(n-o)*100:50,s[`team${l}Name`]=m.team_abbr}),s}),te=()=>g.map(a=>{const t=parseFloat(a[d.xAxis])||0,s=parseFloat(a[d.yAxis])||0,r=parseFloat(a[d.zAxis]),n=d.zAxis.includes("epa")?r*100:r;return{x:t,y:s,z:Math.max(n,1)||1,name:a.team_abbr,team:a}}),w=a=>{const t=B.find(s=>s.value===a);return t?t.label:a},re=()=>{if(!p.length)return{};const a=["offensive_ppg","defensive_ppg","offensive_ypg","defensive_ypg","offense_epa_per_play","defense_epa_per_play","offense_success_rate","defense_success_rate","offense_run_play_rate","offense_pass_play_rate","offense_motion_rate","offense_pa_rate","offense_no_huddle_rate","defense_blitz_rate"],t={};return a.forEach(s=>{const r=p.map(n=>parseFloat(n[s])).filter(n=>!isNaN(n));r.length>0?t[s]=r.reduce((n,o)=>n+o,0)/r.length:t[s]=0}),t},A=re(),ge=(a,t)=>{if(!p.length||!A)return"";const s=A[d.xAxis]||0,r=A[d.yAxis]||0,n=d.yAxis.includes("defensive");return a>s?n&&t<r||!n&&t>r?"Elite":d.xAxis.includes("offensive")?"Offensive-Focused":"Mixed Strengths":n&&t<r||!n&&t>r?d.yAxis.includes("defensive")?"Defensive-Focused":"Mixed Weaknesses":"Below Average"},ue=()=>p.map(t=>t.conference).filter(Boolean).filter((t,s,r)=>r.indexOf(t)===s).sort(),be=(a="all")=>(a==="all"?p:p.filter(r=>r.conference===a)).map(r=>r.division).filter(Boolean).filter((r,n,o)=>o.indexOf(r)===n).sort(),ve=a=>{q(a),V("all")},he=(a,t=ie)=>{if(!t||!t.length)return{wins:0,losses:0,ties:0};let s=0,r=0,n=0;const o=[a];a==="LAR"&&o.push("LA"),a==="WAS"&&o.push("WSH");const m=t.filter(l=>o.includes(l.home_team_abbr)||o.includes(l.away_team_abbr));return a==="LAR"&&console.log("🐏 Rams games for record calculation:",m.length,m),m.forEach(l=>{const f=o.includes(l.home_team_abbr),c=l.home_score?parseInt(l.home_score):null,_=l.away_score?parseInt(l.away_score):null;if(c===null||_===null)return;const i=f?c:_,E=f?_:c;i>E?s++:i<E?r++:c===_&&c!==null&&n++}),{wins:s,losses:r,ties:n}},ye=()=>g.length===0?e.createElement("div",{className:"col-span-full text-center py-10 bg-gray-800 rounded-lg"},e.createElement("p",{className:"text-xl text-gray-400"},"No teams match your filters."),e.createElement("button",{onClick:()=>{C(""),q("all"),V("all")},className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white"},"Clear Filters")):g.map(a=>{const t=u.some(i=>i.team_abbr===a.team_abbr),s=S(a.team_abbr),r=$e(a),n=i=>p.map(E=>parseFloat(E[i])),o=R(parseFloat(a.offensive_ppg),n("offensive_ppg")),m=R(parseFloat(a.defensive_ppg),n("defensive_ppg"),!0),l=R(parseFloat(a.offense_epa_per_play),n("offense_epa_per_play")),f=R(parseFloat(a.defense_epa_per_play),n("defense_epa_per_play"),!0),c=a.ties>0?`${a.wins}-${a.losses}-${a.ties}`:`${a.wins}-${a.losses}`,_=[{key:"offensive_ppg",label:"Off PPG",value:a.offensive_ppg,percentile:o,isDefensive:!1,precision:1},{key:"defensive_ppg",label:"Def PPG",value:a.defensive_ppg,percentile:m,isDefensive:!0,precision:1},{key:"offense_epa_per_play",label:"Off EPA/Play",value:a.offense_epa_per_play,percentile:l,isDefensive:!1,precision:3},{key:"defense_epa_per_play",label:"Def EPA/Play",value:a.defense_epa_per_play,percentile:f,isDefensive:!0,precision:3}];return e.createElement("div",{key:a.team_abbr,className:`team-card bg-gray-800/70 backdrop-blur-sm rounded-xl shadow-xl border ${t?"border-blue-500 shadow-blue-glow":"border-gray-700/50 hover:border-gray-600"} flex flex-col overflow-hidden transition-all duration-300 ease-in-out outline-none`,tabIndex:0,role:"article","aria-labelledby":`team-name-${a.team_abbr}`},e.createElement("div",{className:"relative p-5 flex items-center",style:{background:`linear-gradient(to right, rgba(17, 24, 39, 0.9), rgba(17, 24, 39, 0.7)), linear-gradient(to right, ${s||"#4B5563"}, ${s||"#4B5563"}90)`}},e.createElement("button",{onClick:i=>{i.stopPropagation(),ae(a)},className:`absolute top-3 right-3 w-8 h-8 rounded-full flex items-center justify-center transition-all duration-150 ${t?"bg-blue-500 text-white hover:bg-blue-600 shadow-md":"bg-gray-700/80 text-gray-300 hover:bg-gray-600 hover:text-white"}`,title:t?`Remove ${a.team_abbr} from comparison`:`Add ${a.team_abbr} to comparison`,"aria-label":t?`Remove ${a.team_abbr} from comparison`:`Add ${a.team_abbr} to comparison`,"aria-pressed":t},t?"−":"+"),e.createElement("div",{className:"relative mr-4 flex-shrink-0"},e.createElement("div",{className:"w-20 h-20 p-1 rounded-lg overflow-hidden bg-gray-800/30 border border-gray-700/50 shadow-md transform transition-transform duration-300 hover:scale-105"},e.createElement("img",{src:r,alt:`${a.team_name||a.team_abbr} logo`,className:"w-full h-full object-contain",onError:i=>{i.target.src="https://via.placeholder.com/80?text=N/A"}})),e.createElement("div",{className:"absolute -bottom-2 -right-2 rounded-full px-2 py-1 flex items-center justify-center font-bold text-xs text-white border-2 border-gray-850 shadow-md",style:{backgroundColor:s},title:`Record: ${c}`},c)),e.createElement("div",{className:"flex-1 min-w-0"},e.createElement("h3",{id:`team-name-${a.team_abbr}`,className:"font-bold text-xl text-white truncate leading-tight",title:a.team_name||a.team_abbr},a.team_name||a.team_abbr),e.createElement("div",{className:"text-sm text-gray-300 mt-1 flex items-center"},e.createElement("span",{className:"mr-2"},a.conference," ",a.division)))),e.createElement("div",{className:"flex-1 p-5 bg-gray-850"}," ",e.createElement("div",{className:"grid grid-cols-2 gap-4"},_.map(i=>{if(i.value==null)return null;const E=Le(i.percentile,i.isDefensive),T=Te(i.percentile,i.isDefensive);let h;const y=i.isDefensive?100-i.percentile:i.percentile;return y>=90?h="Elite":y>=80?h="Great":y>=70?h="Very Good":y>=60?h="Above Avg":y>=50?h="Solid":y>=40?h="Average":y>=30?h="Below Avg":y>=20?h="Poor":y>=10?h="Very Poor":h="Terrible",e.createElement("div",{key:i.key,className:"bg-gray-800/70 hover:bg-gray-700/80 rounded-lg border border-gray-700/50 hover:border-gray-600 p-3.5 relative transition-all duration-150 shadow-sm hover:shadow group"},e.createElement("div",{className:"mb-2"},e.createElement("div",{className:"text-xs text-gray-400 uppercase tracking-wider font-medium group-hover:text-gray-300 transition-colors truncate"},i.label)),e.createElement("div",{className:"flex items-end justify-between mb-2"},e.createElement("span",{className:"text-2xl font-bold group-hover:text-white transition-colors"},Number(i.value).toFixed(i.precision)),e.createElement("span",{className:"text-xs text-gray-400 font-medium group-hover:text-gray-300 transition-colors"},i.percentile,"%")),e.createElement("div",{className:"mt-2 mb-2 w-full bg-gray-700/70 rounded-full h-2 overflow-hidden"},e.createElement("div",{className:`h-full rounded-full bg-gradient-to-r ${T} transition-all duration-500 ease-out`,style:{width:`${i.percentile}%`}})),e.createElement("div",{className:"flex justify-center"},e.createElement("div",{className:`text-xs px-2 py-0.5 rounded-full transition-colors ${E} text-center`},h)))}))),e.createElement("div",{className:"bg-gray-900/50 p-3 border-t border-gray-700/50"},e.createElement("div",{className:"flex justify-around"},e.createElement("button",{onClick:i=>{i.stopPropagation(),ee(`/team/${a.team_abbr}`)},className:"flex items-center py-1 px-3 rounded hover:bg-gray-700/50 transition-colors group"},e.createElement("span",{className:"text-sm text-blue-400 group-hover:text-blue-300 transition-colors font-medium"},"Team Details"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1.5 text-blue-400 group-hover:text-blue-300 transition-transform group-hover:translate-x-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"}))),e.createElement("button",{onClick:i=>{i.stopPropagation(),ee(`/team/${a.team_abbr}/players`)},className:"flex items-center py-1 px-3 rounded hover:bg-gray-700/50 transition-colors group"},e.createElement("span",{className:"text-sm text-green-400 group-hover:text-green-300 transition-colors font-medium"},"View Roster"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1.5 text-green-400 group-hover:text-green-300 transition-transform group-hover:translate-x-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"}))))))});return oe?e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},e.createElement("div",{className:"h-8 w-64 bg-gray-700 rounded mb-8 animate-pulse"}),e.createElement("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4 animate-pulse"},e.createElement("div",{className:"flex space-x-3"},e.createElement("div",{className:"h-10 w-28 bg-gray-700 rounded"}),e.createElement("div",{className:"h-10 w-40 bg-gray-700 rounded"}),e.createElement("div",{className:"h-10 w-32 bg-gray-700 rounded"})),e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("div",{className:"h-10 w-64 bg-gray-700 rounded"}),e.createElement("div",{className:"h-10 w-40 bg-gray-700 rounded"}),e.createElement("div",{className:"h-10 w-40 bg-gray-700 rounded"}),e.createElement("div",{className:"h-10 w-48 bg-gray-700 rounded"}))),e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},[...Array(8)].map((a,t)=>e.createElement(Be,{key:t})))):Q?e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},e.createElement("div",{className:"flex flex-col items-center justify-center h-[60vh]"},e.createElement("p",{className:"text-red-500 text-xl mb-2"},"Error Loading Data"),e.createElement("p",{className:"text-gray-400 text-center"},Q))):e.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-white"},e.createElement("h2",{className:"text-2xl md:text-3xl font-bold mb-8"},"NFL Team Overview"),e.createElement("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4"},e.createElement("div",{className:"flex space-x-3"},e.createElement("button",{onClick:()=>P("cards"),className:`px-4 py-2 rounded transition-colors ${b==="cards"?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,"aria-label":"Switch to Team Cards View","aria-pressed":b==="cards"},"Team Cards"),e.createElement("button",{onClick:()=>P("comparison"),className:`px-4 py-2 rounded transition-colors ${b==="comparison"?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,"aria-label":`Switch to Team Comparison View (${u.length} of 4 selected)`,"aria-pressed":b==="comparison"},"Team Comparison (",u.length,"/4)"),e.createElement("button",{onClick:()=>P("matrix"),className:`px-4 py-2 rounded transition-colors ${b==="matrix"?"bg-blue-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,"aria-label":"Switch to Team Matrix View","aria-pressed":b==="matrix"},"Team Matrix")),e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("input",{type:"text",placeholder:"Search teams...",className:"p-2 w-48 md:w-64 bg-gray-700 text-white rounded shadow placeholder-gray-400 border border-gray-600 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",value:k,onChange:a=>C(a.target.value),"aria-label":"Search for teams by abbreviation or name"}),e.createElement("div",{className:"flex items-center bg-gray-700 rounded border border-gray-600"},e.createElement("select",{value:L,onChange:a=>ve(a.target.value),className:"p-2 bg-transparent text-white rounded-l appearance-none focus:outline-none text-sm","aria-label":"Filter by conference",style:{backgroundColor:"#374151",color:"white"}},e.createElement("option",{value:"all",style:{backgroundColor:"#1f2937",color:"white"}},"All Conferences"),ue().map(a=>e.createElement("option",{key:a,value:a,style:{backgroundColor:"#1f2937",color:"white"}},a)))),e.createElement("div",{className:"flex items-center bg-gray-700 rounded border border-gray-600"},e.createElement("select",{value:$,onChange:a=>V(a.target.value),className:"p-2 bg-transparent text-white rounded-l appearance-none focus:outline-none text-sm","aria-label":"Filter by division",style:{backgroundColor:"#374151",color:"white"}},e.createElement("option",{value:"all",style:{backgroundColor:"#1f2937",color:"white"}},"All Divisions"),be(L).map(a=>e.createElement("option",{key:a,value:a,style:{backgroundColor:"#1f2937",color:"white"}},a)))),e.createElement("div",{className:"flex items-center bg-gray-700 rounded border border-gray-600"},e.createElement("select",{value:x,onChange:a=>fe(a.target.value),className:"p-2 bg-transparent text-white rounded-l appearance-none focus:outline-none text-sm","aria-label":"Select sort metric",style:{backgroundColor:"#374151",color:"white"}},e.createElement("option",{value:"conference",style:{backgroundColor:"#1f2937",color:"white"}},"Conference"),e.createElement("option",{value:"division",style:{backgroundColor:"#1f2937",color:"white"}},"Division"),e.createElement("option",{value:"offensive_ppg",style:{backgroundColor:"#1f2937",color:"white"}},"Off PPG"),e.createElement("option",{value:"defensive_ppg",style:{backgroundColor:"#1f2937",color:"white"}},"Def PPG"),e.createElement("option",{value:"offense_epa_per_play",style:{backgroundColor:"#1f2937",color:"white"}},"Off EPA/Play"),e.createElement("option",{value:"defense_epa_per_play",style:{backgroundColor:"#1f2937",color:"white"}},"Def EPA/Play"),e.createElement("option",{value:"offense_success_rate",style:{backgroundColor:"#1f2937",color:"white"}},"Success Rate"),e.createElement("option",{value:"win_pct",style:{backgroundColor:"#1f2937",color:"white"}},"Win %")),e.createElement("button",{onClick:()=>W(F==="asc"?"desc":"asc"),className:"p-2 text-white hover:bg-gray-600 rounded-r",title:F==="asc"?"Sort Ascending":"Sort Descending","aria-label":`Sort order: ${F==="asc"?"Ascending":"Descending"}. Click to toggle.`},e.createElement("span",{className:"font-bold text-lg"},F==="asc"?"↑":"↓"))))),e.createElement("div",{className:"view-container"},e.createElement("div",{className:`view-section ${b==="comparison"?"active":""}`},b==="comparison"&&e.createElement("div",{className:"bg-gray-800 p-6 rounded-lg mb-8 shadow-lg"},e.createElement("div",{className:"flex justify-between items-center mb-4"},e.createElement("h3",{className:"text-xl font-semibold"},"Team Comparison"),u.length>0&&e.createElement("button",{onClick:()=>z([]),className:"text-sm bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded transition","aria-label":"Clear all selected teams for comparison"},"Clear Selection (",u.length,")")),u.length===0?e.createElement("p",{className:"text-gray-400 text-center py-8"},"Select up to 4 teams from the 'Team Cards' view to compare."):e.createElement(e.Fragment,null,e.createElement("div",{className:"flex mb-6 space-x-8 justify-center"},u.map((a,t)=>e.createElement("div",{key:a.team_abbr,className:"flex flex-col items-center"},e.createElement("div",{className:"w-16 h-16 rounded-full mb-2 flex items-center justify-center",style:{backgroundColor:S(a.team_abbr)}},e.createElement("span",{className:"text-white font-bold text-lg"},a.team_abbr)),e.createElement("button",{onClick:()=>ae(a),className:"text-xs text-red-400 mt-1"},"Remove")))),u.length>=2&&e.createElement(e.Fragment,null,e.createElement("div",{className:"w-full h-96 mb-6"},e.createElement("h4",{className:"text-lg font-medium mb-2"},"Performance Comparison"),e.createElement(I,{width:"100%",height:"100%"},e.createElement(Ee,{outerRadius:150,data:pe()},e.createElement(Ne,null),e.createElement(we,{dataKey:"metric",tick:{fill:"white"}}),e.createElement(Ae,{angle:30,domain:[0,100],tick:{fill:"white"}}),u.map((a,t)=>e.createElement(Ce,{key:a.team_abbr,name:a.team_abbr,dataKey:`team${t}`,stroke:S(a.team_abbr),fill:S(a.team_abbr),fillOpacity:.5})),e.createElement(_e,null),e.createElement(O,null)))),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},e.createElement("div",{className:"bg-gray-900 p-4 rounded shadow"},e.createElement("h4",{className:"text-lg font-medium mb-2"},"Offensive PPG"),e.createElement(I,{width:"100%",height:300},e.createElement(le,{data:u.map(a=>({name:a.team_abbr,value:parseFloat(a.offensive_ppg)})),margin:{top:5,right:30,left:20,bottom:5}},e.createElement(U,{dataKey:"name",tick:{fill:"white"}}),e.createElement(J,{tick:{fill:"white"}}),e.createElement(O,null),A.offensive_ppg!=null&&e.createElement(se,{y:A.offensive_ppg,label:{value:`Avg: ${A.offensive_ppg.toFixed(1)}`,position:"insideTopRight",fill:"#a0aec0"},stroke:"#a0aec0",strokeDasharray:"3 3"}),e.createElement(ne,{dataKey:"value"},u.map(a=>e.createElement(X,{key:a.team_abbr,fill:S(a.team_abbr)})))))),e.createElement("div",{className:"bg-gray-900 p-4 rounded shadow"},e.createElement("h4",{className:"text-lg font-medium mb-2"},"Defensive PPG (Lower is Better)"),e.createElement(I,{width:"100%",height:300},e.createElement(le,{data:u.map(a=>({name:a.team_abbr,value:parseFloat(a.defensive_ppg)})),margin:{top:5,right:30,left:20,bottom:5}},e.createElement(U,{dataKey:"name",tick:{fill:"white"}}),e.createElement(J,{tick:{fill:"white"},reversed:!0}),e.createElement(O,null),A.defensive_ppg!=null&&e.createElement(se,{y:A.defensive_ppg,label:{value:`Avg: ${A.defensive_ppg.toFixed(1)}`,position:"insideTopRight",fill:"#a0aec0"},stroke:"#a0aec0",strokeDasharray:"3 3"}),e.createElement(ne,{dataKey:"value"},u.map(a=>e.createElement(X,{key:a.team_abbr,fill:S(a.team_abbr)})))))))),e.createElement("div",{className:"overflow-x-auto"},e.createElement("h4",{className:"text-lg font-medium mb-3"},"Detailed Team Metrics"),e.createElement("table",{className:"w-full text-sm text-left"},e.createElement("thead",{className:"text-xs text-gray-400 uppercase bg-gray-700"},e.createElement("tr",null,e.createElement("th",{className:"px-4 py-2"},"Metric"),u.map(a=>e.createElement("th",{key:a.team_abbr,className:"px-4 py-2"},a.team_abbr)),e.createElement("th",{className:"px-4 py-2 text-blue-300"},"League Avg"))),e.createElement("tbody",null,[{key:"offensive_ppg",label:"Offensive PPG",isDefensive:!1,precision:1},{key:"defensive_ppg",label:"Defensive PPG",isDefensive:!0,precision:1},{key:"offensive_ypg",label:"Off Yards/Game",isDefensive:!1,precision:1},{key:"defensive_ypg",label:"Def Yards/Game",isDefensive:!0,precision:1},{key:"offense_epa_per_play",label:"Off EPA/Play",isDefensive:!1,precision:3},{key:"defense_epa_per_play",label:"Def EPA/Play",isDefensive:!0,precision:3},{key:"offense_success_rate",label:"Off Success %",isDefensive:!1,precision:1},{key:"defense_success_rate",label:"Def Success %",isDefensive:!0,precision:1},{key:"offense_run_play_rate",label:"Run Rate %",isDefensive:!1,precision:1},{key:"offense_pass_play_rate",label:"Pass Rate %",isDefensive:!1,precision:1},{key:"offense_motion_rate",label:"Motion Rate %",isDefensive:!1,precision:1},{key:"offense_pa_rate",label:"Play Action %",isDefensive:!1,precision:1},{key:"offense_no_huddle_rate",label:"No Huddle %",isDefensive:!1,precision:1},{key:"defense_blitz_rate",label:"Blitz Rate %",isDefensive:!1,precision:1}].map(a=>{const t=re()[a.key]||0,s=u.map(r=>({team:r,value:parseFloat(r[a.key])||0,isBetter:a.isDefensive?(parseFloat(r[a.key])||0)<t:(parseFloat(r[a.key])||0)>t,percentile:R(parseFloat(r[a.key])||0,p.map(n=>parseFloat(n[a.key])||0),a.isDefensive)}));return e.createElement("tr",{key:a.key,className:"border-b border-gray-700 hover:bg-gray-750"},e.createElement("td",{className:"px-4 py-2 font-medium text-gray-300"},a.label),s.map(({team:r,value:n,isBetter:o,percentile:m})=>e.createElement("td",{key:r.team_abbr,className:`px-4 py-2 ${o?"text-green-400":"text-red-400"}`,title:`${m}th percentile in NFL`},e.createElement("div",{className:"flex items-center"},e.createElement("span",{className:"mr-2"},n.toFixed(a.precision)),e.createElement("div",{className:"w-8 bg-gray-700 h-1 rounded-full overflow-hidden"},e.createElement("div",{className:`h-full ${o?"bg-green-500":"bg-red-500"}`,style:{width:`${m}%`}}))))),e.createElement("td",{className:"px-4 py-2 text-blue-300 font-medium"},t.toFixed(a.precision)))}))),e.createElement("div",{className:"text-xs text-gray-400 mt-2"},"* Values in ",e.createElement("span",{className:"text-green-400"},"green")," are better than league average, ",e.createElement("span",{className:"text-red-400"},"red")," are worse. The bar represents team percentile rank in NFL."))))),e.createElement("div",{className:`view-section ${b==="matrix"?"active":""}`},b==="matrix"&&e.createElement("div",{className:"bg-gray-800 p-6 rounded-lg mb-8 shadow-lg"},e.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6"},e.createElement("h3",{className:"text-xl font-semibold mb-4 md:mb-0"},"Team Performance Matrix"),e.createElement("div",{className:"flex flex-wrap gap-3 md:gap-4"},e.createElement("div",{className:"flex flex-col"},e.createElement("label",{className:"text-xs text-gray-400 mb-1"},"X-Axis"),e.createElement("select",{value:d.xAxis,onChange:a=>j({...d,xAxis:a.target.value}),className:"p-1 bg-gray-800 border border-gray-700 text-white rounded text-sm"},B.map(a=>e.createElement("option",{key:`x-${a.value}`,value:a.value},a.label)))),e.createElement("div",{className:"flex flex-col"},e.createElement("label",{className:"text-xs text-gray-400 mb-1"},"Y-Axis"),e.createElement("select",{value:d.yAxis,onChange:a=>j({...d,yAxis:a.target.value}),className:"p-1 bg-gray-800 border border-gray-700 text-white rounded text-sm"},B.map(a=>e.createElement("option",{key:`y-${a.value}`,value:a.value},a.label)))),e.createElement("div",{className:"flex flex-col"},e.createElement("label",{className:"text-xs text-gray-400 mb-1"},"Bubble Size"),e.createElement("select",{value:d.zAxis,onChange:a=>j({...d,zAxis:a.target.value}),className:"p-1 bg-gray-800 border border-gray-700 text-white rounded text-sm"},B.map(a=>e.createElement("option",{key:`z-${a.value}`,value:a.value},a.label)))))),e.createElement("div",{className:"w-full h-[600px]"},e.createElement(I,{width:"100%",height:"100%"},e.createElement(ke,{margin:{top:20,right:20,bottom:60,left:40}},e.createElement(U,{type:"number",dataKey:"x",name:w(d.xAxis),tick:{fill:"white"},label:{value:w(d.xAxis),position:"bottom",fill:"white",offset:0}}),e.createElement(J,{type:"number",dataKey:"y",name:w(d.yAxis),tick:{fill:"white"},label:{value:`${w(d.yAxis)}${d.yAxis.includes("defensive")?" (lower is better)":""}`,angle:-90,position:"left",fill:"white"}}),e.createElement(Fe,{type:"number",dataKey:"z",range:[40,400],name:w(d.zAxis)}),e.createElement(O,{cursor:{strokeDasharray:"3 3"},content:({active:a,payload:t})=>{if(a&&t&&t.length){const s=t[0].payload;return e.createElement("div",{className:"bg-gray-900 p-3 border border-gray-700 rounded"},e.createElement("p",{className:"font-bold mb-1"},s.name),e.createElement("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-sm"},e.createElement("span",{className:"text-gray-400"},w(d.xAxis),":"),e.createElement("span",null,d.xAxis.includes("epa")?s.x.toFixed(3):s.x.toFixed(1)),e.createElement("span",{className:"text-gray-400"},w(d.yAxis),":"),e.createElement("span",null,d.yAxis.includes("epa")?s.y.toFixed(3):s.y.toFixed(1)),e.createElement("span",{className:"text-gray-400"},w(d.zAxis),":"),e.createElement("span",null,d.zAxis.includes("epa")?(s.z/100).toFixed(3):s.z.toFixed(1)),e.createElement("span",{className:"text-gray-400"},"Quadrant:"),e.createElement("span",null,ge(s.x,s.y))))}return null}}),e.createElement(Se,{name:"Teams",data:te(),fill:"#8884d8"},te().map(a=>e.createElement(X,{key:a.name,fill:S(a.name)})))))),e.createElement("div",{className:"text-center text-sm text-gray-400 mt-2"},"Bubble size represents ",w(d.zAxis)," ",d.zAxis.includes("defensive")?"(smaller = better)":"(bigger = better)"))),e.createElement("div",{className:`view-section ${b==="cards"?"active":""}`},b==="cards"&&e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ye()))))}export{ze as default};
